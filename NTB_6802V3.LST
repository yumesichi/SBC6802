    1                   ***------------------------------***
    2                   *** SBC6802 ROM Version
    3                   ***             V1  MAY-21-'21
    4                   ***             V2  FEB-13-'23
    5                   ***------------------------------***
    6                   **--------------------------------**
    7                   **  MIXDBUG ROM Version
    8                   **              V10  FEB.-13-'23
    9                   **              V9   NOV.-28-'18
   10                   **              V7   NOV.-21-'18
   11                   **              V5   NOV.-15-'18
   12                   **              V3   OCT.-15-'18
   13                   **              V1   JULY-30-'18
   14                   **--------------------------------**
   15                   *       NAM     SWTBUG
   16                   *       VERSION 1.00
   17                   *
   18                   *       OPT     PAG
   19                   **
   20                   **--------------------------------**
   21                   *REPLACEMENT FOR MIKBUG ROM
   22                   *FOR SWTPC 6800 COMPUTER SYSTEM
   23                   *COPYRIGHT 1977
   24                   *SOUTHWEST TECHNICAL PROD. CORP.
   25                   *AUGUST, 1977
   26                   **--------------------------------**
   27                   ;
   28 E000              SYSROM     EQU      $E000       <--ROM     VERSION=$E00
   29 6000              SYSRAM     EQU      $6000       <--SBC-IO VERSION=$A000
   30                   ;
   31 6000                         ORG      SYSRAM      ORIGINAL
   32 6000              IRQ        RMB      2           IRQ POINTER
   33 6002              BEGA       RMB      2           BEGADDR DUMP&PNCH
   34 6004              ENDA       RMB      2           ENDADDR DUMP$PNCH
   35 6006              NMI        RMB      2           NMI VECTOR
   36 6008              SP         RMB      1           S HIGH
   37 6009                         RMB      1           S LOW
   38 600A              PORADD     RMB      2           PORT ADDR
   39 600C              PORECH     RMB      1           ECHO ON/OFF FLAG
   40 600D              XHI        RMB      1           X-REG HIGH
   41 600E              XLOW       RMB      1           X-REG LOW
   42 600F              CKSM       RMB      1           CHECKSUM
   43 6010              XTEMP      RMB      2           X-REG TEMP STGE
   44 6012              SWIJMP     RMB      2           SWI JUMP VECTOR
   45 6014              BKPT       RMB      2           BREAKPOINT ADDR
   46 6016              BKLST      RMB      1           BREAKPOINT DATA
   47 6017                         RMB      43
   48 6042              STACK      RMB      2           <--$A042        SWTBUG 
   49 6044              TW         RMB      2           <--$A044        TEMP WO
   50 6046              TEMP       RMB      1           <--$A046        TEMP BY
   51 6047              BYTECT     RMB      1           <--$A047        BYTECT 
   52 6048              USR        RMB      2           <--$A048        USR PRO
   53 604A              PRNFLG     RMB      1           <--$A04A        NO PRIN
   54                   ;
   55                   ;
   56 8018              CTLPOR     EQU      $8018       <--$8004        ACIA PO
   57                   * PROM  EQU     $C000   <--$C000        JUMP TO PROM AD
   58                   ;
   59 E000                         ORG      SYSROM      <--$E000
   60                   *
   61                   * I/O INTERRUPT SEQUENCE
   62                   *
   63 E000 FE6000       IRQV       LDX      IRQ
   64 E003 6E00                    JMP      0,X
   65                   *
   66                   *JUMP TO USER PROGRAM
   67                   *
   68 E005 8D40         JUMP       BSR      BADDR
   69 E007 6E00                    JMP      0,X
   70                   
   71 E009 100704       CURSOR     FCB      $10,$07,4   CT-1024 CURSOR CONTROL
   72                   *
   73                   *ASCII LOADING ROUTINE
   74                   *
   75 E00C              LOAD       EQU      *
   76 E00C BDE297                  JSR      CRLF
   77 E00F 8D67         LOAD3      BSR      INCH
   78 E011 8153                    CMPA     #'S
   79 E013 26FA                    BNE      LOAD3       1ST CHAR NOT S
   80 E015 8D61         LOAD31     BSR      INCH        READ CHAR
   81 E017 8139                    CMPA     #'9
   82 E019 2729                    BEQ      LOAD21
   83 E01B 8131                    CMPA     #'1
   84 E01D 26F0                    BNE      LOAD3       2ND CHAR NOT 1
   85 E01F 7F600F                  CLR      CKSM        ZERO CHECKSUM
   86 E022 8D31                    BSR      BYTE        READ BYTE
   87 E024 8002                    SUBA     #2
   88 E026 B76047                  STAA     BYTECT      BYTE COUNT
   89 E029 8D1C                    BSR      BADDR
   90 E02B 8D28         LOAD11     BSR      BYTE
   91 E02D 7A6047                  DEC      BYTECT
   92 E030 2709                    BEQ      LOAD15      ZERO BYTE COUNT
   93 E032 A700                    STAA     0,X         STORE DATA
   94 E034 A100                    CMPA     0,X         DATA STORED?
   95 E036 2608                    BNE      LOAD19
   96 E038 08                      INX
   97 E039 20F0                    BRA      LOAD11
   98 E03B 7C600F       LOAD15     INC      CKSM
   99 E03E 27CF                    BEQ      LOAD3
  100 E040 863F         LOAD19     LDAA     #'?
  101 E042 8D31                    BSR      OUTCH
  102 E044 7EE154       LOAD21     JMP      CONTRL
  103                   *
  104                   * BUILD ADDRESS
  105                   *
  106 E047 8D0C         BADDR      BSR      BYTE        READ 2 FRAMES
  107 E049 B7600D                  STAA     XHI
  108 E04C 8D07                    BSR      BYTE
  109 E04E B7600E                  STAA     XLOW
  110 E051 FE600D                  LDX      XHI         LOAD IXR WITH NUMBER
  111 E054 39                      RTS
  112                   *
  113                   * INPUT BYTE (TWO FRAMES)
  114                   *
  115 E055 8D53         BYTE       BSR      INHEX       GET HEX CHAR
  116 E057 48           BYTE1      ASLA
  117 E058 48                      ASLA
  118 E059 48                      ASLA
  119 E05A 48                      ASLA
  120 E05B 16                      TAB
  121 E05C 8D4C                    BSR      INHEX
  122 E05E 1B                      ABA
  123 E05F 16                      TAB
  124 E060 FB600F                  ADDB     CKSM
  125 E063 F7600F                  STAB     CKSM
  126 E066 39                      RTS
  127                   *
  128 E067 44           OUTHL      LSRA                 OUT     HEX LEFT BCD DI
  129 E068 44                      LSRA
  130 E069 44                      LSRA
  131 E06A 44                      LSRA
  132 E06B 840F         OUTHR      ANDA     #$F         OUT HEX RIGHT BCD DIGIT
  133 E06D 8B30                    ADDA     #$30
  134 E06F 8139                    CMPA     #$39
  135 E071 2302                    BLS      OUTCH
  136 E073 8B07                    ADDA     #$7
  137                   *
  138                   * OUTPUT ONE CHAR
  139                   *
  140 E075 7EE1D1       OUTCH      JMP      OUTEEE
  141                   *
  142                   * INPUT ONE CHAR
  143                   *
  144 E078 7EE1AC       INCH       JMP      INEEE
  145                   *
  146                   * PRINT DATA POINTED TO BY X REG
  147                   *
  148 E07B 8DF8         PDATA2     BSR      OUTCH
  149 E07D 08                      INX
  150 E07E A600         PDATA1     LDAA     0,X
  151 E080 8104                    CMPA     #4
  152 E082 26F7                    BNE      PDATA2
  153 E084 39                      RTS                  STOP    ON HEX 04
  154                   
  155 E085 7EE14C       C1         JMP      SWTCTL
  156                   *
  157                   * MEMORY EXAMINE AND CHANGE
  158                   *
  159 E088 8DBD         CHANGE     BSR      BADDR
  160 E08A CEE192       CHA51      LDX      #MCL
  161 E08D 8DEF                    BSR      PDATA1      C/R L/F
  162 E08F CE600D                  LDX      #XHI
  163 E092 8D34                    BSR      OUT4HS      PRINT ADDRESS
  164 E094 FE600D                  LDX      XHI
  165 E097 8D31                    BSR      OUT2HS      PRINT OLD DATA
  166 E099 8D31                    BSR      OUTS        OUTPUT SPACE
  167 E09B 8DDB                    BSR      INCH        INPUT CHAR
  168 E09D 8120                    CMPA     #$20
  169 E09F 273D                    BEQ      SK1
  170 E0A1 810D                    CMPA     #$D
  171 E0A3 27E0                    BEQ      C1
  172 E0A5 815E                    CMPA     #'^         UP ARROW?
  173 E0A7 202C                    BRA      AL3         BRANCH FOR ADJUSTMENT
  174 E0A9 01                      NOP
  175                   *
  176                   * INPUT HEX CHARACTER
  177                   *
  178 E0AA 8DCC         INHEX      BSR      INCH
  179 E0AC 8030         INHEX1     SUBA     #$30
  180 E0AE 2B4C                    BMI      C3
  181 E0B0 8109                    CMPA     #$9
  182 E0B2 2F0A                    BLE      IN1HG
  183 E0B4 8111                    CMPA     #$11
  184 E0B6 2B44                    BMI      C3          NOT HEX
  185 E0B8 8116                    CMPA     #$16
  186 E0BA 2E40                    BGT      C3          NOT HEX
  187 E0BC 8007                    SUBA     #7
  188 E0BE 39           IN1HG      RTS
  189                   
  190 E0BF A600         OUT2H      LDAA     0,X         OUTPUT 2 HEX CHAR
  191 E0C1 8DA4         OUT2HA     BSR      OUTHL       OUT LEFT HEX CHAR
  192 E0C3 A600                    LDAA     0,X
  193 E0C5 08                      INX
  194 E0C6 20A3                    BRA      OUTHR       OUTPUT RIGHT HEX CHAR
  195                   
  196 E0C8 8DF5         OUT4HS     BSR      OUT2H       <--OUTPUT 4 HEX CHAR + 
  197 E0CA 8DF3         OUT2HS     BSR      OUT2H       <--OUTPUT 2 HEX CHAR + 
  198 E0CC 8620         OUTS       LDAA     #$20        <--SPACE
  199 E0CE 20A5                    BRA      OUTCH
  200                   **
  201                   ** ENTER POWER ON SEQUENCE
  202                   **
  203 E0D0 8E6042       START      LDS      #STACK      <--$E0D0 BRANCH FOR MIK
  204 E0D3 202C                    BRA      AL1
  205                   *
  206                   * PART OF MEMORY EXAMINE AND CHANGE
  207                   *
  208 E0D5 2607         AL3        BNE      SK1
  209 E0D7 09                      DEX
  210 E0D8 09                      DEX
  211 E0D9 FF600D                  STX      XHI
  212 E0DC 20AC                    BRA      CHA51
  213 E0DE FF600D       SK1        STX      XHI
  214 E0E1 2002                    BRA      AL4
  215                   *
  216 E0E3 206F         EOE3       BRA      CONTRL      <--$E0E3 BRANCH FOR MIK
  217                   *
  218 E0E5 8130         AL4        CMPA     #$30
  219 E0E7 25A1                    BCS      CHA51
  220 E0E9 8146                    CMPA     #$46
  221 E0EB 229D                    BHI      CHA51
  222 E0ED 8DBD                    BSR      INHEX1
  223 E0EF BDE057                  JSR      BYTE1
  224 E0F2 09                      DEX
  225 E0F3 A700                    STAA     0,X         CHANGE MEMORY
  226 E0F5 A100                    CMPA     0,X
  227 E0F7 2791                    BEQ      CHA51       DID CHANGE
  228 E0F9 7EE040                  JMP      LOAD19      DIDN'T CHANGE
  229 E0FC BE6008       C3         LDS      SP
  230 E0FF 204B                    BRA      SWTCTL
  231                   **
  232                   ** CONTINUE POWER UP SEQUENCE
  233                   **
  234 E101 BF6008       AL1        STS      SP          INIT TARGET STACK PTR.
  235 E104 86FF                    LDAA     #$FF
  236 E106 BDE257                  JSR      SWISET
  237 E109 CE8018                  LDX      #CTLPOR
  238 E10C A600                    LDAA     0,X
  239 E10E B68019                  LDAA     CTLPOR+1
  240 E111 2002                    BRA      AL2
  241 E113 201C                    BRA      PRINT       <--BRA FOR BILOAD
  242 E115 263D         AL2        BNE      CONTRL
  243                   *
  244                   * INITIALIZE ACIA
  245                   *
  246 E117 8603                    LDAA     #3          ACIA MASTER RESET
  247 E119 A700                    STAA     0,X
  248 E11B 8615                    LDAA     #$15
  249 E11D A700                    STAA     0,X
  250 E11F BDE35F                  JSR      INITAC
  251 E122 2030                    BRA      CONTRL
  252                   *
  253                   * ENTER FROM SOFTWARE INTERRUPT
  254                   *
  255 E124 01           SF0        NOP
  256 E125 BF6008       SFE1       STS      SP          SAVE TARGETS STACK POIN
  257                   *                       DECREMENT P COUNTER
  258 E128 30                      TSX
  259 E129 6D06                    TST      6,X
  260 E12B 2602                    BNE      *+4
  261 E12D 6A05                    DEC      5,X
  262 E12F 6A06                    DEC      6,X
  263                   *                       PRINT CONTENTS OF STACK.
  264 E131 CEE192       PRINT      LDX      #MCL
  265 E134 BDE07E                  JSR      PDATA1
  266 E137 FE6008                  LDX      SP
  267 E13A 08                      INX
  268 E13B BDE4A4                  JSR      OUTCC       CC
  269 E13E 8D8A                    BSR      OUT2HS      ACC B
  270 E140 8D88                    BSR      OUT2HS      ACC A
  271 E142 8D84                    BSR      OUT4HS      IXR
  272 E144 8D82                    BSR      OUT4HS      PGM COUNTER
  273 E146 CE6008                  LDX      #SP
  274 E149 BDE0C8                  JSR      OUT4HS      STACK POINTER
  275 E14C FE6012       SWTCTL     LDX      SWIJMP
  276 E14F 8CE124                  CPX      #SF0
  277 E152 270E                    BEQ      CONTR1
  278 E154 8E6042       CONTRL     LDS      #STACK      SET CONTRL STACK POINTE
  279 E157 CE8018                  LDX      #CTLPOR     RESET TO CONTROL PORT
  280 E15A FF600A                  STX      PORADD
  281 E15D 7F600C                  CLR      PORECH      TURN ECHO ON
  282 E160 8D4D                    BSR      SAVGET      GET PORT # AND TYPE
  283 E162              CONTR1:
  284 E162 CEE191                  LDX      #MCLOFF
  285 E165 BDE07E                  JSR      PDATA1      PRINT DATA STRING
  286 E168 8D42                    BSR      INEEE       READ COMMAND CHARACTER
  287                   *
  288                   *
  289                   * COMMAND LOOKUP ROUTINE
  290                   *
  291 E16A CEE379                  LDX      #TABLE
  292 E16D A100         OVER       CMPA     0,X
  293 E16F 2607                    BNE      SK3
  294 E171 BDE0CC                  JSR      OUTS        SKIP SPACE
  295 E174 EE01                    LDX      1,X
  296 E176 6E00                    JMP      0,X
  297 E178 08           SK3        INX
  298 E179 08                      INX
  299 E17A 08                      INX
  300 E17B 8CE3A6                  CPX      #TABEND+3
  301 E17E 26ED                    BNE      OVER
  302 E180 20CA         SWTL1      BRA      SWTCTL
  303                   *
  304                   * SOFTWARE INTERRUPT ENTRY POINT
  305                   *
  306 E182 FE6012       SFE        LDX      SWIJMP      JUMP TO VECTORED SOFTWA
  307 E185 6E00                    JMP      0,X
  308                   **--------------------------------**
  309 E187 0D0A533904   S9         FCB      $D,$A,'S9',4 END OF TAPE
  310 E18C 0D0A533104   MTAPE1     FCB      $D,$A,'S1',4 PUNCH FORMAT
  311 E191 13           MCLOFF     FCB      $13         READER OFF
  312 E192 0D0A2404     MCL        FCB      $D,$A,'$',4
  313 E196 201E         EIA5       BRA      BILD        BINARY LOADER INPUT
  314                   **--------------------------------**
  315                   *
  316                   * NMI SEQUENCE
  317                   *
  318 E198 FE6006       NMIV       LDX      NMI         GET NMI VECTOR
  319 E19B 6E00                    JMP      0,X
  320                   *
  321                   * GENERAL PURPOSE DELAY LOOP
  322                   *
  323 E19D CE2000       DELAY      LDX      #$2000
  324 E1A0 09           DELAY1     DEX
  325 E1A1 26FD                    BNE      DELAY1
  326 E1A3 39                      RTS
  327                   *
  328 E1A4 01                      NOP
  329 E1A5 01                      NOP
  330 E1A6 01                      NOP
  331                   *
  332 E1A7 8D10         INEEE1     BSR      INCH8       INPUT 8 BIT CHARACTER
  333 E1A9 847F                    ANDA     #%01111111  GET RID OF PARITY BIT
  334 E1AB 39                      RTS
  335                   *
  336 E1AC 20F9         INEEE      BRA      INEEE1      <--$E1AC
  337                   *
  338                   *
  339                   * GO TO USER PROGRAM ROUTINE
  340                   *
  341 E1AE 3B           GOTO       RTI
  342                   *
  343                   * SAVE IXR AND LOAD IXR WITH CORRECT
  344                   * PORT NUMBER AND TEST FOR TYPE
  345                   *
  346 E1AF FF6010       SAVGET     STX      XTEMP       STORE INDEX REGISTER
  347 E1B2 FE600A                  LDX      PORADD
  348 E1B5 39                      RTS
  349                   *
  350 E1B6 31           BILD       INS                  FIX UP STACK WHEN USING
  351 E1B7 31                      INS                  BINARY LOADER ON SWTPC 
  352 E1B8 31                      INS
  353                   *
  354                   * INPUT ONE CHAR INTO ACC B
  355                   *
  356 E1B9 37           INCH8      PSHB                 SAVE ACC B
  357 E1BA 8DF3                    BSR      SAVGET      SAVE IXR, GET PORT# AND
  358 E1BC 8615                    LDAA     #$15        RECONFIG FOR 8 BIT, 1 S
  359 E1BE A700                    STAA     0,X
  360 E1C0 A600         ACIAIN     LDAA     0,X
  361 E1C2 47                      ASRA
  362 E1C3 24FB                    BCC      ACIAIN      NOT READY
  363 E1C5 A601                    LDAA     1,X         LOAD CHAR
  364 E1C7 F6600C                  LDAB     PORECH
  365 E1CA 270A                    BEQ      ACIOUT      ECHO
  366 E1CC 2014                    BRA      RES         DON'T ECHO
  367 E1CE 01                      NOP
  368 E1CF 01                      NOP
  369 E1D0 01                      NOP
  370                   *
  371 E1D1 2000         OUTEEE     BRA      OUTEE1      <--$E1D1
  372                   *
  373                   * OUTPUT ONE CHARACTER
  374                   *
  375 E1D3 37           OUTEE1     PSHB                 SAVE ACC B
  376 E1D4 8DD9                    BSR      SAVGET
  377 E1D6 C611         ACIOUT     LDAB     #$11
  378 E1D8 E700                    STAB     0,X
  379 E1DA E600         ACIOU1     LDAB     0,X
  380 E1DC 57                      ASRB
  381 E1DD 57                      ASRB
  382 E1DE 24FA                    BCC      ACIOU1      ACIA NOT READY
  383 E1E0 A701                    STAA     1,X         OUTPUT CHARACTER
  384 E1E2 33           RES        PULB                 RESTORE ACC B
  385 E1E3 FE6010                  LDX      XTEMP
  386 E1E6 39                      RTS
  387                   *
  388                   * CONTINUATION OF SEARCH ROUTINE
  389                   *
  390 E1E7 BDE0C8       SKP0       JSR      OUT4HS
  391 E1EA FE600D                  LDX      XHI
  392 E1ED BC6004       INCR1      CPX      ENDA
  393 E1F0 278E                    BEQ      SWTL1
  394 E1F2 08                      INX
  395 E1F3 2013                    BRA      OVE
  396                   *
  397                   * BYTE SEARCH ROUTINE
  398                   *
  399 E1F5 BDE288       SEARCH     JSR      STADR       GET TOP ADDRESS
  400 E1F8 BDE047                  JSR      BADDR       GET BOTTOM ADDRESS
  401 E1FB FF6004                  STX      ENDA
  402 E1FE BDE0CC                  JSR      OUTS
  403 E201 BDE055                  JSR      BYTE        GET BYTE TO SEARCH FOR
  404 E204 16                      TAB
  405 E205 FE6002                  LDX      BEGA
  406 E208 A600         OVE        LDAA     0,X
  407 E20A FF600D                  STX      XHI
  408 E20D 11                      CBA
  409 E20E 2702                    BEQ      PNT
  410 E210 20DB                    BRA      INCR1
  411 E212 CEE192       PNT        LDX      #MCL
  412 E215 BDE07E                  JSR      PDATA1
  413 E218 CE600D                  LDX      #XHI
  414 E21B 20CA                    BRA      SKP0
  415                   *
  416                   * CLRAR SCREEN FOR CT-1024 TYPE TERMINALS
  417                   *
  418 E21D CEE009       CLEAR      LDX      #CURSOR
  419 E220 BDE07E                  JSR      PDATA1
  420 E223 BDE19D                  JSR      DELAY       DELAY
  421 E226 205D                    BRA      C4
  422                   *
  423                   * BREAKPOINT ENTERING ROUTINE
  424                   *
  425 E228 CEE124       BREAK      LDX      #SF0
  426 E22B BC6012                  CPX      SWIJMP      BREAKPOINTS ALREADY IN 
  427 E22E 271A                    BEQ      INUSE
  428 E230 08                      INX
  429 E231 8D32         BREAK0     BSR      STO1
  430 E233 BDE047                  JSR      BADDR
  431 E236 FF6014                  STX      BKPT
  432 E239 A600                    LDAA     0,X
  433 E23B B76016                  STAA     BKLST
  434 E23E 863F                    LDAA     #$3F
  435 E240 A700                    STAA     0,X
  436 E242 CEE124                  LDX      #SF0
  437 E245 8D1E                    BSR      STO1
  438 E247 7EE162                  JMP      CONTR1
  439 E24A FE6014       INUSE      LDX      BKPT
  440 E24D B66016                  LDAA     BKLST
  441 E250 A700                    STAA     0,X
  442 E252 CEE125                  LDX      #SFE1
  443 E255 20DA                    BRA      BREAK0
  444                   *
  445 E257 B76043       SWISET     STAA     STACK+1     FIX POWER UP INTERRUPT
  446 E25A FE6012                  LDX      SWIJMP
  447 E25D 8CE124                  CPX      #SF0
  448 E260 2706                    BEQ      STORTN
  449 E262 CEE125                  LDX      #SFE1
  450 E265 FF6012       STO1       STX      SWIJMP
  451 E268 39           STORTN     RTS
  452                   *
  453 E269 BDE300       PUNCH1     JSR      PUNCH
  454 E26C CEE187                  LDX      #S9
  455 E26F BDE07E                  JSR      PDATA1
  456 E272 7EE154                  JMP      CONTRL
  457                   *
  458                   * FORMAT END OF TAPE WITH PGM. CTR. AND S9
  459                   *
  460 E275 CE6049       PNCHS9     LDX      #USR+1
  461 E278 FF6004                  STX      ENDA
  462 E27B 09                      DEX
  463 E27C BDE309                  JSR      PUNCH2
  464 E27F CEE187                  LDX      #S9
  465 E282 BDE07E                  JSR      PDATA1
  466 E285 7EE154       C4         JMP      CONTRL
  467                   *
  468                   * GET STARTING ADDRESS
  469                   *
  470 E288 BDE047       STADR      JSR      BADDR
  471 E28B FF6002                  STX      BEGA
  472 E28E 7EE0CC                  JMP      OUTS
  473                   *
  474                   * GET ENDING ADDRESS
  475                   *
  476 E291 BDE047       ENADR      JSR      BADDR
  477 E294 FF6004                  STX      ENDA
  478 E297 36           CRLF       PSHA
  479 E298 860D                    LDAA     #$0D        OUTPUT CR
  480 E29A BDE075                  JSR      OUTCH
  481 E29D 860A                    LDAA     #$0A        OUTPUT LF
  482 E29F BDE075                  JSR      OUTCH
  483 E2A2 32                      PULA
  484 E2A3 39                      RTS
  485                   *
  486                   * DUMP FROM BEG BEGA THRU ENDA
  487                   *
  488 E2A4 8DE2         DUMP       BSR      STADR       GET START ADDRESS
  489 E2A6 8DE9                    BSR      ENADR       GET END ADDRESS
  490 E2A8 B66003                  LDAA     BEGA+1      SET UP ADDRESS(0 LOW NI
  491 E2AB 84F0                    ANDA     #$F0
  492 E2AD B76003                  STAA     BEGA+1
  493 E2B0 FE6002                  LDX      BEGA
  494 E2B3 FF6044                  STX      TW
  495 E2B6 B66005                  LDAA     ENDA+1      SET UP ADDRESS (0 LOW N
  496 E2B9 84F0                    ANDA     #$F0
  497 E2BB B76005                  STAA     ENDA+1
  498 E2BE CE6044       DUMP1      LDX      #TW         OUTPUT ADDRESS
  499 E2C1 BDE0C8                  JSR      OUT4HS
  500 E2C4 FE6044                  LDX      TW          OUTPUT DATA BYTES
  501 E2C7 C608                    LDAB     #$08
  502 E2C9 BDE0CA       DUMP2      JSR      OUT2HS      PRINT IT
  503 E2CC 5A                      DECB                 DECREMENT COUNT
  504 E2CD 26FA                    BNE      DUMP2
  505                   *---------------------------@V3
  506 E2CF BDE0CC                  JSR      OUTS
  507 E2D2 BDE0CC                  JSR      OUTS
  508 E2D5 FE6044                  LDX      TW
  509 E2D8 C608                    LDAB     #$08
  510 E2DA A600         DUMP4      LDAA     0,X
  511 E2DC 817F                    CMPA     #$7F
  512 E2DE 2704                    BEQ      DUMP5
  513 E2E0 8120                    CMPA     #$20
  514 E2E2 2402                    BCC      DUMP6
  515 E2E4 862E         DUMP5      LDAA     #$2E
  516 E2E6 BDE075       DUMP6      JSR      OUTCH
  517 E2E9 08                      INX
  518 E2EA 5A                      DECB
  519 E2EB 26ED                    BNE      DUMP4
  520 E2ED BDE297                  JSR      CRLF        NEWLINE
  521 E2F0 FF6044                  STX      TW          SAVE CURRENT POINTER
  522 E2F3 8C0000                  CPX      #$0000
  523 E2F6 2705                    BEQ      DUMP3
  524 E2F8 BC6004                  CPX      ENDA        DONE?
  525 E2FB 26C1                    BNE      DUMP1
  526 E2FD              DUMP3
  527 E2FD 7EE154                  JMP      CONTRL
  528                   *----------------------------@V3
  529                   *
  530                   * PUNCH FROM BEG BEGA THRU ENDA
  531                   *
  532 E300 BDE288       PUNCH      JSR      STADR
  533 E303 BDE291                  JSR      ENADR
  534 E306 FE6002                  LDX      BEGA
  535 E309 FF6044       PUNCH2     STX      TW
  536 E30C B66005       PUN11      LDAA     ENDA+1
  537 E30F B06045                  SUBA     TW+1
  538 E312 F66004                  LDAB     ENDA
  539 E315 F26044                  SBCB     TW
  540 E318 2604                    BNE      PUN22
  541 E31A 8110                    CMPA     #16
  542 E31C 2502                    BCS      PUN23
  543 E31E 860F         PUN22      LDAA     #15
  544 E320 8B04         PUN23      ADDA     #4
  545 E322 B76047                  STAA     BYTECT
  546 E325 8003                    SUBA     #3
  547 E327 B76046                  STAA     TEMP
  548 E32A CEE18C                  LDX      #MTAPE1     <--PUNCH C/R L/F NULLS 
  549 E32D BDE07E                  JSR      PDATA1
  550 E330 5F                      CLRB
  551 E331 CE6047                  LDX      #BYTECT     <--PUNCH FRAME COUNT
  552 E334 8D24                    BSR      PUNT2       <--PUNCH 2 HEX CHARACTE
  553 E336 CE6044                  LDX      #TW
  554 E339 8D1F                    BSR      PUNT2       <--ADDR
  555 E33B 8D1D                    BSR      PUNT2
  556 E33D FE6044                  LDX      TW
  557 E340 8D18         PUN32      BSR      PUNT2       <--DATA
  558 E342 7A6046                  DEC      TEMP
  559 E345 26F9                    BNE      PUN32
  560 E347 FF6044                  STX      TW
  561 E34A 53                      COMB
  562 E34B 37                      PSHB
  563 E34C 30                      TSX
  564 E34D 8D0B                    BSR      PUNT2       PUNCH CHECKSUM
  565 E34F 33                      PULB                 RESTORE STACK
  566 E350 FE6044                  LDX      TW
  567 E353 09                      DEX
  568 E354 BC6004                  CPX      ENDA
  569 E357 26B3                    BNE      PUN11
  570 E359 39           RTN5       RTS
  571                   *
  572                   * PUNCH 2 HEX CHAR, UPDATE CHECKSUM
  573                   *
  574 E35A EB00         PUNT2      ADDB     0,X
  575 E35C 7EE0BF                  JMP      OUT2H       OUTPUT 2 HEX CHAR AND R
  576                   *
  577                   * INIT ACIA DATA
  578                   *
  579 E35F B68019       INITAC     LDAA     CTLPOR+1
  580 E362 B68019                  LDAA     CTLPOR+1
  581 E365 B68019                  LDAA     CTLPOR+1
  582 E368 39                      RTS
  583                   *
  584 E369 BDE078       SFMT       JSR      INCH
  585 E36C BDE297                  JSR      CRLF
  586 E36F 8131                    CMPA     #'1
  587 E371 2603                    BNE      SFMT1
  588 E373 7EE015                  JMP      LOAD31
  589 E376 7EE154       SFMT1      JMP      CONTRL
  590                   *
  591                   *
  592                   * COMMAND TABLE
  593                   *
  594                   
  595 E379 47           TABLE      FCC      'G
  596 E37A E1AE                    FDB      GOTO
  597 E37C 5A                      FCC      'Z
  598 E37D F300                    FDB      NTBSTART
  599 E37F 4D                      FCC      'M
  600 E380 E088                    FDB      CHANGE
  601 E382 46                      FCC      'F
  602 E383 E1F5                    FDB      SEARCH
  603 E385 52                      FCC      'R
  604 E386 E131                    FDB      PRINT
  605 E388 4A                      FCC      'J
  606 E389 E005                    FDB      JUMP
  607 E38B 43                      FCC      'C
  608 E38C E21D                    FDB      CLEAR
  609 E38E 44                      FCC      'D
  610 E38F E2A4                    FDB      DUMP
  611 E391 42                      FCC      'B
  612 E392 E228                    FDB      BREAK
  613 E394 50                      FCC      'P
  614 E395 E269                    FDB      PUNCH1
  615 E397 4C                      FCC      'L
  616 E398 E00C                    FDB      LOAD
  617 E39A 53                      FCC      'S
  618 E39B E369                    FDB      SFMT
  619 E39D 3F                      FCC      '?
  620 E39E E3A6                    FDB      HELP
  621 E3A0 58                      FCC      'X
  622 E3A1 E600                    FDB      TBUG
  623 E3A3 45           TABEND     FCC      'E
  624 E3A4 E275                    FDB      PNCHS9
  625                   *
  626 E3A6 CEE3AF       HELP       LDX      #HELPMSG
  627 E3A9 BDE07E                  JSR      PDATA1
  628 E3AC 7EE154                  JMP      CONTRL
  629 E3AF 0D0A2042202A HELPMSG    FCB      $0D,$0A,' B **     :BREAK'
           2A2020202020 
           3A425245414B 
  630 E3C1 0D0A20432020            FCB      $0D,$0A,' C        :CLEAR'
           202020202020 
           3A434C454152 
  631 E3D3 0D0A2044202A            FCB      $0D,$0A,' D ** ++  :DUMP'
           2A202B2B2020 
           3A44554D50   
  632 E3E4 0D0A20452020            FCB      $0D,$0A,' E        :S9'
           202020202020 
           3A5339       
  633 E3F3 0D0A2046202A            FCB      $0D,$0A,' F ** ++ @:FIND'
           2A202B2B2040 
           3A46494E44   
  634 E404 0D0A20472020            FCB      $0D,$0A,' G        :GO'
           202020202020 
           3A474F       
  635 E413 0D0A204A202A            FCB      $0D,$0A,' J **     :JUMP'
           2A2020202020 
           3A4A554D50   
  636 E424 0D0A204C2020            FCB      $0D,$0A,' L        :LOAD'
           202020202020 
           3A4C4F4144   
  637 E435 0D0A204D202A            FCB      $0D,$0A,' M **     :MEMCHG  NEXT[SP
           2A2020202020 
           3A4D454D4348 
           4720204E4558 
           545B53505D42 
           41434B5B5E5D 
  638 E459 0D0A2050202A            FCB      $0D,$0A,' P ** ++  :PUNCH'
           2A202B2B2020 
           3A50554E4348 
  639 E46B 0D0A20522020            FCB      $0D,$0A,' R        :REG     CC B A 
           202020202020 
           3A5245472020 
           202020434320 
           422041204958 
           205043205350 
  640 E48F 0D0A205A2020            FCB      $0D,$0A,' Z        :J PROM '
           202020202020 
           3A4A2050524F 
           4D20         
  641 E4A3 04                      FCB      $04
  642                   *
  643 E4A4 E600         OUTCC      LDAB     0,X
  644 E4A6 865B                    LDAA     #'[
  645 E4A8 8D4D                    BSR      OUTCH1
  646 E4AA 08                      INX
  647 E4AB 58                      ASLB
  648 E4AC 58                      ASLB
  649 E4AD 58                      ASLB
  650 E4AE 2404                    BCC      OU1
  651 E4B0 8648                    LDAA     #'H
  652 E4B2 2002                    BRA      OU2
  653 E4B4 862A         OU1        LDAA     #'*
  654 E4B6 8D3F         OU2        BSR      OUTCH1
  655 E4B8 58                      ASLB
  656 E4B9 2404                    BCC      OU3
  657 E4BB 8649                    LDAA     #'I
  658 E4BD 2002                    BRA      OU4
  659 E4BF 862E         OU3        LDAA     #'.
  660 E4C1 8D34         OU4        BSR      OUTCH1
  661 E4C3 58                      ASLB
  662 E4C4 2404                    BCC      OU5
  663 E4C6 864E                    LDAA     #'N
  664 E4C8 2002                    BRA      OU6
  665 E4CA 862E         OU5        LDAA     #'.
  666 E4CC 8D29         OU6        BSR      OUTCH1
  667 E4CE 58                      ASLB
  668 E4CF 2404                    BCC      OU7
  669 E4D1 865A                    LDAA     #'Z
  670 E4D3 2002                    BRA      OU8
  671 E4D5 862E         OU7        LDAA     #'.
  672 E4D7 8D1E         OU8        BSR      OUTCH1
  673 E4D9 58                      ASLB
  674 E4DA 2404                    BCC      OU9
  675 E4DC 8656                    LDAA     #'V
  676 E4DE 2002                    BRA      OU10
  677 E4E0 862E         OU9        LDAA     #'.
  678 E4E2 8D13         OU10       BSR      OUTCH1
  679 E4E4 58                      ASLB
  680 E4E5 2404                    BCC      OU11
  681 E4E7 8643                    LDAA     #'C
  682 E4E9 2002                    BRA      OU12
  683 E4EB 862E         OU11       LDAA     #'.
  684 E4ED 8D08         OU12       BSR      OUTCH1
  685 E4EF 865D                    LDAA     #']
  686 E4F1 8D04                    BSR      OUTCH1
  687 E4F3 BDE0CC                  JSR      OUTS
  688 E4F6 39                      RTS
  689                   ;
  690 E4F7 7EE1D3       OUTCH1     JMP      OUTEE1
  691                   
  692                   **--------------------------------**
  693                   ** PUNCH&LOAD ROUTINE
  694                   **                 OF JBUG MONITOR
  695                   **    REV 1.8 9-6-'76
  696                   **--------------------------------**
  697                   * SUBROUTINE TO PUNCH DATA(SBC-IO)
  698                   *
  699 8000              LED        EQU      $8000       <--LED TOGGLE
  700 8094              ACIAS      EQU      $8094       <--PUNCH ACIA(SBC-IO)
  701 8095              ACIAD      EQU      $8095
  702                   *
  703 E500                         ORG      SYSROM+$500 <--$600@11.21
  704                   *
  705 E500 8D03                    BSR      PNCHJ
  706 E502 7EE0D0                  JMP      START
  707                   *
  708 E505              PNCHJ:
  709 E505 8D67                    BSR      INITAJ      <--ACIA(SBC-IO)
  710 E507 CE000F                  LDX      #$0F        <--#$03FF LDR LENGTH
  711 E50A 8D5A                    BSR      PNLDR
  712 E50C F66005       PUND10     LDAB     ENDA+1
  713 E50F F06003                  SUBB     BEGA+1
  714 E512 B66004                  LDAA     ENDA
  715 E515 B26002                  SBCA     BEGA
  716 E518 2702                    BEQ      PUND25
  717 E51A C6FF                    LDAB     #$FF
  718 E51C 8642         PUND25     LDAA     #'B
  719 E51E 8D30                    BSR      OUTCHJ
  720 E520 37                      PSHB
  721 E521 30                      TSX
  722 E522 8D3C                    BSR      PUN
  723 E524 32                      PULA
  724 E525 4C                      INCA
  725 E526 B76046                  STAA     TEMP
  726 E529 CE6002                  LDX      #BEGA
  727 E52C 8D32                    BSR      PUN
  728 E52E 8D30                    BSR      PUN
  729 E530 FE6002                  LDX      BEGA
  730 E533 8D2B         PUND30     BSR      PUN
  731 E535 7A6046                  DEC      TEMP
  732 E538 26F9                    BNE      PUND30
  733 E53A FF6002                  STX      BEGA
  734 E53D CE0019                  LDX      #$0019
  735 E540 8D24                    BSR      PNLDR
  736 E542 FE6002                  LDX      BEGA
  737 E545 09                      DEX
  738 E546 BC6004                  CPX      ENDA
  739 E549 26C1                    BNE      PUND10
  740 E54B 8647                    LDAA     #'G
  741 E54D 8D01                    BSR      OUTCHJ
  742 E54F 39                      RTS
  743                   * SUB TO PUNCH DATA BYTE
  744 E550 37           OUTCHJ     PSHB
  745 E551 F68094       OUTC1      LDAB     ACIAS
  746 E554 57                      ASRB
  747 E555 57                      ASRB
  748 E556 24F9                    BCC      OUTC1
  749 E558 B78095                  STAA     ACIAD
  750 E55B B78000                  STAA     LED         <--LED TOGGLE
  751 E55E 33                      PULB
  752 E55F 39                      RTS
  753                   *
  754                   * SUB TO PUNCH ONE BYTE
  755 E560 A600         PUN        LDAA     X
  756 E562 8DEC                    BSR      OUTCHJ
  757 E564 08                      INX
  758 E565 39                      RTS
  759                   * PUNCH LEADER
  760 E566 86FF         PNLDR      LDAA     #$FF
  761 E568 8DE6                    BSR      OUTCHJ
  762 E56A 09                      DEX
  763 E56B 26F9                    BNE      PNLDR
  764 E56D 39                      RTS
  765                   *
  766                   * INIT ACIAJ DATA
  767                   *
  768 E56E              INITAJ:
  769 E56E 8601                    LDAA     #$01
  770 E570 B78094                  STAA     ACIAS
  771 E573 01                      NOP
  772 E574 01                      NOP
  773 E575 01                      NOP
  774 E576 8651                    LDAA     #%01010001
  775 E578 B78094                  STAA     ACIAS
  776 E57B 39                      RTS
  777                   *
  778                   * SUBROUTINE TO LOAD DATA(SBC-IO)
  779                   *
  780 E580                         ORG      SYSROM+$580
  781 E580 8D03                    BSR      LOADJ
  782 E582 7EE0D0                  JMP      START
  783                   *
  784 E585              LOADJ:
  785 E585 8DE7                    BSR      INITAJ      <--ACIA(SBC-IO)
  786 E587 8D24         BILDJ      BSR      INCHR
  787 E589 8142                    CMPA     #'B
  788 E58B 2705                    BEQ      RDBLCK
  789 E58D 8147                    CMPA     #'G
  790 E58F 26F6                    BNE      BILDJ
  791 E591 39                      RTS
  792 E592 8D19         RDBLCK     BSR      INCHR
  793 E594 16                      TAB
  794 E595 5C                      INCB
  795 E596 8D15                    BSR      INCHR
  796 E598 B76002                  STAA     BEGA
  797 E59B 8D10                    BSR      INCHR
  798 E59D B76003                  STAA     BEGA+1
  799 E5A0 FE6002                  LDX      BEGA
  800 E5A3 8D08         STBLCK     BSR      INCHR
  801 E5A5 A700                    STAA     X
  802 E5A7 08                      INX
  803 E5A8 5A                      DECB
  804 E5A9 26F8                    BNE      STBLCK
  805 E5AB 20DA                    BRA      BILDJ
  806                   * INPUT ONE CHR TO A REG
  807 E5AD B68094       INCHR      LDAA     ACIAS
  808 E5B0 47                      ASRA
  809 E5B1 24FA                    BCC      INCHR
  810 E5B3 B68095                  LDAA     ACIAD
  811 E5B6 B78000                  STAA     LED         <--LED TOGGLE
  812                   *---------------------------@10.28
  813 E5B9 36                      PSHA
  814 E5BA 37                      PSHB
  815 E5BB FF6044                  STX      TW
  816 E5BE CE6046                  LDX      #TEMP
  817 E5C1 A700                    STAA     0,X
  818 E5C3 BDE0CA                  JSR      OUT2HS
  819 E5C6 FE6044                  LDX      TW
  820 E5C9 33                      PULB
  821 E5CA 32                      PULA
  822                   *---------------------------@10.28
  823 E5CB 39                      RTS
  824                   *
  825 FFF8                         ORG      $FFF8
  826 FFF8 E000                    FDB      IRQV        IRQ VECTOR
  827 FFFA E182                    FDB      SFE         SOFTWARE INTERRUPT
  828 FFFC E198                    FDB      NMIV        NMI VECTOR
  829 FFFE E0D0                    FDB      START       RESTART VECTOR
  830                   *
  831                   * SWTBUG        END
  832                   *
  833                   *
  834                   **-----------------------------------**
  835                   ** NTB&TBUG  FOR SBC-IO
  836                   ** NOV. 15 2018 VER15
  837                   **-----------------------------------**
  838                   * TBUG TOP
  839                   **---SYSRAM     EQU     $A000   <--$A000@ORIGINAL
  840 E600              TBUG       EQU      $E600       <--$6000 PROGRAM@11.21
  841 F300              NTB        EQU      $F300       <--NTBSTART
  842 3F00              RSVRAM     EQU      $3F00       <--RESERVED BY NTB
  843                   ;
  844 3F47              _STACK:    EQU      RSVRAM+$047 <--$A047@ORIGINAL
  845 3F80              SUBSTK:    EQU      RSVRAM+$080 <--$A080@ORIGINAL,FOR-N
  846 3FC0              MONSTK:    EQU      RSVRAM+$0C0 <--$A100@ORIGINAL
  847                   ;
  848                   **IRQV  EQU     SYSRAM
  849 6000              IRQ        EQU      SYSRAM      <--@IO
  850 6017              IRQCHR     EQU      SYSRAM+$17  <--IRQ CHAR=$03
  851 6048              STARTV     EQU      SYSRAM+$48  <--MIKBUG,MIXDBUG
  852                   ;
  853 6078              SBSTK:     EQU      SYSRAM+$78
  854 6100              PRNWK:     EQU      SYSRAM+$100
  855                   ;
  856 E0D0              START:     EQU      $E0D0       <--MIKBUG ENTRY
  857 E1AC              INEEE:     EQU      $E1AC       <--L627F L6C5E
  858 E1D1              OUTEEE:    EQU      $E1D1       <--L632F L675D
  859                   ;
  860                   *       EX_BREAK:       EQU     $626D
  861                   *       VM_COPY:        EQU     $62C0
  862                   *       VM_GRA: EQU     $6973
  863                   *       EX_675D:        EQU     $675D
  864                   *       EX_689A:        EQU     $689A
  865                   *       EX_68DD:        EQU     $68DD
  866                   *       VM_69EC:        EQU     $69EC
  867                   *       VM_PIX: EQU     $69F8
  868                   *       VM_WH:  EQU     $6A00
  869                   *       VM_BL:  EQU     $6A06
  870                   *       VM_REV: EQU     $6A0D
  871                   ;
  872 4000              GRRAM      EQU      $4000
  873 5000              CHRAM      EQU      $5000
  874 5400              GCRAM      EQU      $5400
  875 5800              CG2513     EQU      $5800
  876                   ;
  877                   
  878 0020              NULCH      EQU      $20         <--INIT CHAR
  879 0030              NULGC      EQU      $30         <--$A0 INIT COLOR
  880                   ;
  881 8050              ASKREG     EQU      $8050       <--$8004 ASCII KEYBORD-
  882 8051              ASKCTR     EQU      $8051       <--$8005
  883 8052              PRNREG     EQU      $8052       <--$8006 PRINTER DATA-M
  884 8053              PRNCTR     EQU      $8053       <--$8007
  885 8094              PACICS     EQU      $8094       <--PUNCH ACIA(SBC-IO)
  886 8095              PACIDA     EQU      $8095
  887 8018              ACIACS     EQU      $8018       <--ACIA(SBC)
  888 8019              ACIADA     EQU      $8019
  889 8000              LED        EQU      $8000       <--LED(SBC-IO)
  890                   ;
  891                   ;
  892 E600                         ORG      TBUG
  893                   ;
  894 E600 7EE883                  jmp      L62CC
  895 E603              T_CRLF:
  896 E603 0D                      FCB      $0D         <--CR
  897 E604 0A                      FCB      $0A
  898 E605 04                      FCB      $04         <--ETX
  899 E606              T_MCL:
  900 E606 0D                      FCB      $0D
  901 E607 0A                      FCB      $0A
  902 E608 07                      FCB      $07         <--BEL
  903 E609 2B                      FCB      '+
  904 E60A 04                      FCB      $04         <--ETX
  905 E60B              L6009:
  906 E60B 3F                      FCB      '?
  907 E60C 07                      FCB      $07         <--BEL
  908 E60D 07                      FCB      $07         <--BEL
  909 E60E 04                      FCB      $04         <--ETX
  910 E60F              T_TABLE:
  911 E60F 3F                      FCB      '?
  912 E610 00                      FCB      $00
  913 E611 F202                    FDB      T_HELP
  914 E613 42                      FCB      'B
  915 E614 02                      FCB      $02
  916 E615 EAC3                    FDB      L64F7
  917 E617 44                      FCB      'D
  918 E618 02                      FCB      $02
  919 E619 EA9B                    FDB      T_DUMP
  920 E61B 4A                      FCB      'J
  921 E61C 01                      FCB      $01
  922 E61D E9CC                    FDB      T_GOTO
  923 E61F 54                      FCB      'T
  924 E620 02                      FCB      $02
  925 E621 EA51                    FDB      TRACE
  926 E623 54                      FCB      'T
  927 E624 03                      FCB      $03
  928 E625 EA49                    FDB      L6485
  929 E627 54                      FCB      'T
  930 E628 04                      FCB      $04
  931 E629 EA5B                    FDB      L6497
  932 E62B 54                      FCB      'T
  933 E62C 05                      FCB      $05
  934 E62D EA51                    FDB      TRACE
  935 E62F 5A                      FCB      'Z
  936 E630 00                      FCB      $00
  937 E631 F300                    FDB      NTBSTART
  938 E633 4D                      FCB      'M
  939 E634 01                      FCB      $01
  940 E635 EA76                    FDB      T_CHANGE
  941 E637 50                      FCB      'P
  942 E638 02                      FCB      $02
  943 E639 F1F3                    FDB      T_PUNCH
  944 E63B 4C                      FCB      'L
  945 E63C 00                      FCB      $00
  946 E63D E585                    FDB      LOADJ
  947 E63F 47           T_TABEND   FCB      'G
  948 E640 00                      FCB      $00
  949 E641 E0D0                    FDB      START
  950                   ;
  951                   **-----OUTPUT CHRAM  ACCA
  952 E643              VOUTCH:
  953                   *       COMA                    <--FOR VDC6845@V10
  954 E643 A700                    STAA     0,X
  955                   *       COMA                    <--FOR VDC6845@V10
  956 E645 39                      RTS
  957                   **-----OUTPUT GCRAM  ACCB
  958 E646              VOUTGC:
  959                   *       COMB                    <--FOR VDC6845@V10
  960 E646 E700                    STAB     0,X
  961                   *       COMB                    <--FOR VDC6845@V10
  962 E648 39                      RTS
  963                   **
  964 E649 8620         T_OUTS     LDAA     #$20
  965 E64B 7EED32                  JMP      T_OUT
  966                   **
  967                   ;
  968 E64E              L605A:
  969 E64E 8D6A                    bsr      L60C6
  970 E650              L605C:
  971 E650 A600                    ldaa     $00,x
  972 E652 8D71                    bsr      L60D1
  973 E654 A700                    staa     $00,x
  974 E656 08                      inx
  975 E657 09                      dex
  976 E658 C636                    ldab     #$36
  977 E65A E703                    stab     $03,x
  978 E65C C669                    ldab     #$69
  979 E65E              L606A:
  980 E65E 5A                      decb
  981 E65F 26FD                    bne      L606A
  982 E661 C63E                    ldab     #$3E
  983 E663 E703                    stab     $03,x
  984 E665 8D71                    bsr      L60E4
  985 E667 26E7                    bne      L605C
  986 E669 7A0011                  dec      $0011
  987 E66C 26E0                    bne      L605A
  988 E66E 8D46                    bsr      L60C2
  989 E670 C6FF                    ldab     #$FF
  990 E672 E700                    stab     $00,x
  991 E674              L6080:
  992 E674 C6C0                    ldab     #$C0
  993 E676 D710                    stab     $0010
  994 E678 8D40                    bsr      L60C6
  995 E67A              L6086:
  996 E67A A600                    ldaa     $00,x
  997 E67C 8D47                    bsr      L60D1
  998 E67E A100                    cmpa     $00,x
  999 E680 2607                    bne      L6095
 1000 E682 8D54                    bsr      L60E4
 1001 E684 26F4                    bne      L6086
 1002 E686              L6092:
 1003 E686 86A0                    ldaa     #$A0
 1004 E688 8C                      FCB      $8C
 1005 E689              L6095:
 1006 E689 86C0                    ldaa     #$C0
 1007 E68B 8D2F                    bsr      L60C8
 1008 E68D 6F00                    clr      $00,x
 1009 E68F 7EE0D0                  jmp      START       <--$E0D0 MIKBUG
 1010                   ;
 1011 E692              L609E:
 1012 E692 8D22                    bsr      L60C2
 1013 E694 6300                    com      $00,x
 1014 E696 6302                    com      $02,x
 1015 E698 863E                    ldaa     #$3E
 1016 E69A A701                    staa     $01,x
 1017 E69C A703                    staa     $03,x
 1018 E69E 6F00                    clr      $00,x
 1019 E6A0 6F02                    clr      $02,x
 1020 E6A2              L60AE:
 1021 E6A2 C63E                    ldab     #$3E
 1022 E6A4 E701                    stab     $01,x
 1023 E6A6 C636                    ldab     #$36
 1024 E6A8 E701                    stab     $01,x
 1025 E6AA 39                      rts
 1026                   ;
 1027 E6AB              L60B7:
 1028 E6AB 8D0F                    bsr      L60C8
 1029 E6AD              L60B9:
 1030 E6AD 6D01                    tst      $01,x
 1031 E6AF 2AFC                    bpl      L60B9
 1032 E6B1 4F                      clra
 1033 E6B2              L60BE:
 1034 E6B2 4A                      deca
 1035 E6B3 26FD                    bne      L60BE
 1036 E6B5 39                      rts
 1037                   ;
 1038 E6B6              L60C2:
 1039 E6B6 CE8050                  ldx      #ASKREG
 1040 E6B9 39                      rts
 1041 E6BA              L60C6:
 1042 E6BA 2033                    bra      L6120
 1043                   ;
 1044 E6BC              L60C8:
 1045 E6BC 8DF8                    bsr      L60C2
 1046 E6BE A702                    staa     $02,x
 1047 E6C0 8DE0                    bsr      L60AE
 1048 E6C2 6F02                    clr      $02,x
 1049 E6C4 39                      rts
 1050                   ;
 1051                   * INIT
 1052 E6C5              L60D1:
 1053 E6C5 8DEF                    bsr      L60C2
 1054 E6C7 D612                    ldab     $0012
 1055 E6C9 C403                    andb     #$03
 1056 E6CB DB10                    addb     $0010
 1057 E6CD E702                    stab     $02,x
 1058 E6CF 8DD1                    bsr      L60AE
 1059 E6D1 D613                    ldab     $0013
 1060 E6D3 E702                    stab     $02,x
 1061 E6D5 08                      inx
 1062 E6D6 09                      dex
 1063 E6D7 39                      rts
 1064                   ;
 1065 E6D8              L60E4:
 1066 E6D8 DE12                    ldx      $0012
 1067 E6DA              L60E6:
 1068 E6DA 08                      inx
 1069 E6DB DF12                    stx      $0012
 1070 E6DD 8C0800                  cpx      #$0800      <--
 1071 E6E0 39                      rts
 1072                   ;
 1073 E6E1              L6112:
 1074 E6E1 8DAF                    bsr      L609E
 1075 E6E3 86C0                    ldaa     #$C0
 1076 E6E5 9710                    staa     $0010
 1077 E6E7 86A0                    ldaa     #$A0
 1078 E6E9 8DC0                    bsr      L60B7
 1079 E6EB 86FF                    ldaa     #$FF
 1080 E6ED A700                    staa     $00,x
 1081 E6EF              L6120:
 1082 E6EF CE0400                  ldx      #$0400
 1083 E6F2 DF12                    stx      $0012
 1084 E6F4 39                      rts
 1085                   ;
 1086 E6F5              L6126:
 1087 E6F5 FF6120                  stx      PRNWK+$20
 1088 E6F8 36                      psha
 1089 E6F9 37                      pshb
 1090 E6FA FE6158                  ldx      PRNWK+$58
 1091 E6FD C620                    ldab     #$20
 1092 E6FF 8120                    cmpa     #$20
 1093 E701 2B1F                    bmi      L6153
 1094 E703 7D615F                  tst      PRNWK+$5F
 1095 E706 2610                    bne      L6149
 1096 E708 8C6158                  cpx      #PRNWK+$58
 1097 E70B 2708                    beq      L6146
 1098 E70D A700                    staa     $00,x
 1099 E70F 08                      inx
 1100 E710              L6141:
 1101 E710 FF6158                  stx      PRNWK+$58
 1102 E713 2006                    bra      L614C
 1103                   ;
 1104 E715              L6146:
 1105 E715 0D                      sec
 1106 E716 2004                    bra      L614D
 1107                   ;
 1108 E718              L6149:
 1109 E718 7A615F                  dec      PRNWK+$5F
 1110 E71B              L614C:
 1111 E71B 0C                      clc
 1112 E71C              L614D:
 1113 E71C 33                      pulb
 1114 E71D 32                      pula
 1115 E71E FE6120                  ldx      PRNWK+$20
 1116 E721 39                      rts
 1117                   ;
 1118 E722              L6153:
 1119 E722 810D                    cmpa     #$0D
 1120 E724 2779                    beq      L61D0
 1121 E726 8108                    cmpa     #$08
 1122 E728 2614                    bne      L616F
 1123 E72A 8C6138                  cpx      #PRNWK+$38
 1124 E72D 2705                    beq      L6165
 1125 E72F 09                      dex
 1126 E730 E700                    stab     $00,x
 1127 E732 20DC                    bra      L6141
 1128                   ;
 1129 E734              L6165:
 1130 E734 A627                    ldaa     $27,x
 1131 E736 A126                    cmpa     $26,x
 1132 E738 27E1                    beq      L614C
 1133 E73A 6C27                    inc      $27,x
 1134 E73C 20DD                    bra      L614C
 1135                   ;
 1136 E73E              L616F:
 1137 E73E 8118                    cmpa     #$18
 1138 E740 2729                    beq      L619C
 1139 E742 811A                    cmpa     #$1A
 1140 E744 2725                    beq      L619C
 1141 E746 20D3                    bra      L614C
 1142 E748              L6179:
 1143 E748 FF6120                  stx      PRNWK+$20
 1144 E74B CE6138                  ldx      #PRNWK+$38
 1145 E74E 36                      psha
 1146 E74F 37                      pshb
 1147 E750 86C0                    ldaa     #$C0
 1148 E752 A722                    staa     $22,x
 1149 E754 8620                    ldaa     #$20
 1150 E756 A723                    staa     $23,x
 1151 E758 6F24                    clr      $24,x
 1152 E75A 6F25                    clr      $25,x
 1153 E75C 6F26                    clr      $26,x
 1154 E75E CE8052                  ldx      #PRNREG
 1155 E761 6F01                    clr      $01,x
 1156 E763 86BF                    ldaa     #$BF
 1157 E765 A700                    staa     $00,x
 1158 E767 8606                    ldaa     #$06
 1159 E769 A701                    staa     $01,x
 1160 E76B              L619C:
 1161 E76B 86A0                    ldaa     #$A0
 1162 E76D B78052                  staa     PRNREG
 1163 E770 C620                    ldab     #$20
 1164 E772 8620                    ldaa     #$20
 1165 E774 CE6138                  ldx      #PRNWK+$38
 1166 E777 EF20                    stx      $20,x
 1167 E779              L61AA:
 1168 E779 A700                    staa     $00,x
 1169 E77B 08                      inx
 1170 E77C 5A                      decb
 1171 E77D 26FA                    bne      L61AA
 1172 E77F A606                    ldaa     $06,x
 1173 E781 A707                    staa     $07,x
 1174 E783 2097                    bra      L614D
 1175                   ;
 1176 E785 FF6120                  stx      PRNWK+$20
 1177 E788 36                      psha
 1178 E789 37                      pshb
 1179 E78A CE6138                  ldx      #PRNWK+$38
 1180 E78D A622                    ldaa     $22,x
 1181 E78F 16                      tab
 1182 E790 8A10                    oraa     #$10
 1183 E792 A722                    staa     $22,x
 1184 E794 8D31                    bsr      L61F8
 1185 E796 E722                    stab     $22,x
 1186 E798 20D1                    bra      L619C
 1187                   ;
 1188 E79A FF6120                  stx      PRNWK+$20
 1189 E79D 36                      psha
 1190 E79E 37                      pshb
 1191 E79F              L61D0:
 1192 E79F B68052                  ldaa     PRNREG
 1193 E7A2 48                      asla
 1194 E7A3 28C6                    BVC      L619C       <--BVC
 1195 E7A5 CE6138                  ldx      #PRNWK+$38
 1196 E7A8 0F                      sei
 1197 E7A9 E622                    ldab     $22,x
 1198 E7AB C40F                    andb     #$0F
 1199 E7AD 2709                    beq      L61E9
 1200 E7AF              L61E0:
 1201 E7AF 8D16                    bsr      L61F8
 1202 E7B1 2507                    bcs      L61EB
 1203 E7B3 8D46                    bsr      L622E
 1204 E7B5 5A                      decb
 1205 E7B6 26F7                    bne      L61E0
 1206 E7B8              L61E9:
 1207 E7B8 8D0D                    bsr      L61F8
 1208 E7BA              L61EB:
 1209 E7BA C620                    ldab     #$20
 1210 E7BC              L61ED:
 1211 E7BC A600                    ldaa     $00,x
 1212 E7BE 8D4C                    bsr      PRNCH1
 1213 E7C0 08                      inx
 1214 E7C1 5A                      decb
 1215 E7C2 26F8                    bne      L61ED
 1216 E7C4 0E                      cli
 1217 E7C5 20A4                    bra      L619C
 1218                   ;
 1219 E7C7              L61F8:
 1220 E7C7 36                      psha
 1221 E7C8 37                      pshb
 1222 E7C9 A622                    ldaa     $22,x
 1223 E7CB 2B04                    bmi      L6202
 1224 E7CD 6F20                    clr      $20,x
 1225 E7CF 2027                    bra      L622B
 1226                   ;
 1227 E7D1              L6202:
 1228 E7D1 8A6F                    oraa     #$6F
 1229 E7D3 4C                      inca
 1230 E7D4 260A                    bne      L6211
 1231 E7D6 6D24                    tst      $24,x
 1232 E7D8 270A                    beq      L6215
 1233 E7DA              L620B:
 1234 E7DA 8D1F                    bsr      L622E
 1235 E7DC 6A24                    dec      $24,x
 1236 E7DE 26FA                    bne      L620B
 1237 E7E0              L6211:
 1238 E7E0 6D24                    tst      $24,x
 1239 E7E2 2612                    bne      L6229
 1240 E7E4              L6215:
 1241 E7E4 A625                    ldaa     $25,x
 1242 E7E6 8B01                    adda     #$01
 1243 E7E8 19                      daa
 1244 E7E9 A725                    staa     $25,x
 1245 E7EB A623                    ldaa     $23,x
 1246 E7ED A724                    staa     $24,x
 1247 E7EF 8D0A                    bsr      L622E
 1248 E7F1 8D08                    bsr      L622E
 1249                   *       bsr     L6242   <--'PAGE NO'
 1250 E7F3 8D06                    bsr      L622E
 1251 E7F5 0D                      sec
 1252 E7F6              L6229:
 1253 E7F6 6A24                    dec      $24,x
 1254 E7F8              L622B:
 1255 E7F8 33                      pulb
 1256 E7F9 32                      pula
 1257 E7FA 39                      rts
 1258                   ;
 1259 E7FB              L622E:
 1260 E7FB 8620                    ldaa     #$20
 1261 E7FD 37                      pshb
 1262 E7FE C620                    ldab     #$20
 1263 E800              L6233:
 1264 E800 36                      psha
 1265 E801 8D09                    bsr      PRNCH1
 1266 E803 32                      pula
 1267 E804 5A                      decb
 1268 E805 26F9                    bne      L6233
 1269 E807 33                      pulb
 1270 E808 39                      rts
 1271                   ;
 1272 E809              L623C:
 1273 E809 BDED10                  jsr      T_BCDHR
 1274 E80C              PRNCH1:
 1275 E80C 7EEE07                  jmp      PRNCH
 1276                   ;
 1277 E80F              L6242:
 1278 E80F 8650                    ldaa     #$50
 1279 E811 8DF9                    bsr      PRNCH1
 1280 E813 8641                    ldaa     #$41
 1281 E815 8DF5                    bsr      PRNCH1
 1282 E817 8647                    ldaa     #$47
 1283 E819 8DF1                    bsr      PRNCH1
 1284 E81B 8645                    ldaa     #$45
 1285 E81D 8DED                    bsr      PRNCH1
 1286 E81F 8620                    ldaa     #$20
 1287 E821 8DE9                    bsr      PRNCH1
 1288 E823 A625                    ldaa     $25,x
 1289 E825 44                      lsra
 1290 E826 44                      lsra
 1291 E827 44                      lsra
 1292 E828 44                      lsra
 1293 E829 8DDE                    bsr      L623C
 1294 E82B A625                    ldaa     $25,x
 1295 E82D 8DDA                    bsr      L623C
 1296 E82F 8620                    ldaa     #$20
 1297 E831 8DD9                    bsr      PRNCH1
 1298 E833 862D                    ldaa     #$2D
 1299 E835 37                      pshb
 1300 E836 C618                    ldab     #$18
 1301 E838 20C6                    bra      L6233
 1302                   ;
 1303 E83A              INITPI:
 1304 E83A CE8050                  ldx      #ASKREG
 1305 E83D 4F                      clra
 1306 E83E A701                    staa     $01,x
 1307 E840 A703                    staa     $03,x
 1308 E842 A700                    staa     $00,x
 1309 E844 86BF                    ldaa     #$BF
 1310 E846 A702                    staa     $02,x
 1311 E848 8606                    ldaa     #$06
 1312 E84A A701                    staa     $01,x
 1313 E84C A703                    staa     $03,x
 1314 E84E 86A0                    ldaa     #$A0
 1315 E850 A702                    staa     $02,x
 1316 E852 39                      rts
 1317                   ;
 1318 E853              CLRTXT:
 1319 E853 8620                    ldaa     #$20
 1320 E855 CE5000                  ldx      #CHRAM
 1321 E858              L62A9:
 1322                   *       staa    $00,x
 1323 E858 BDE643                  JSR      VOUTCH
 1324 E85B 08                      inx
 1325 E85C 8C5400                  cpx      #GCRAM
 1326 E85F 26F7                    bne      L62A9
 1327 E861 39                      rts
 1328                   ;
 1329 E862              CLRCOL:
 1330 E862 C630                    LDAB     #NULGC
 1331 E864 CE5400       CLRCO1:    ldx      #GCRAM
 1332 E867              L62B7:
 1333 E867 BDE646                  JSR      VOUTGC
 1334 E86A 08                      inx
 1335 E86B 8C5800                  CPX      #CG2513
 1336 E86E 26F7                    bne      L62B7
 1337 E870 39                      rts
 1338                   ;
 1339 E871              CLRALL:
 1340 E871 7F604A                  CLR      PRNFLG      <--NO PRINTER
 1341 E874 BDE748                  JSR      L6179
 1342 E877 8DC1                    bsr      INITPI      <--INIT PIA
 1343 E879 8DD8                    bsr      CLRTXT
 1344 E87B 8DE5                    bsr      CLRCOL
 1345 E87D BDEE7A                  jsr      INITWRK
 1346 E880 7EEFCC                  jmp      INITGRA
 1347                   ;
 1348 E883              MONSTART:
 1349 E883              L62CC:
 1350 E883 8DEC                    bsr      CLRALL
 1351 E885              T_CONTRL:
 1352 E885 8E60C0                  LDS      #SYSRAM+$C0
 1353 E888 CEE606                  LDX      #T_MCL
 1354 E88B BDED09                  JSR      T_PDATA1
 1355 E88E 8D63                    BSR      INECHO1     <--INPUT COMMAND
 1356 E890 813F                    cmpa     #'?
 1357 E892 255A                    bcs      T_ERR1      <--NOT CHAR
 1358 E894 36                      psha
 1359 E895 CE3FEE                  ldx      #MONSTK+$2E
 1360 E898              L62DB:
 1361 E898 09                      dex
 1362 E899 6F00                    clr      $00,x
 1363 E89B 8C3FE0                  cpx      #MONSTK+$20
 1364 E89E 26F8                    bne      L62DB
 1365 E8A0 814C                    cmpa     #'L
 1366 E8A2 2708                    beq      L62EF
 1367 E8A4 08                      inx
 1368 E8A5 08                      inx
 1369 E8A6 8150                    cmpa     #'P
 1370 E8A8 2702                    beq      L62EF
 1371 E8AA 08                      inx
 1372 E8AB 08                      inx
 1373 E8AC              L62EF:
 1374 E8AC 5F                      clrb
 1375 E8AD 32                      PULA
 1376 E8AE CEE60F                  LDX      #T_TABLE
 1377 E8B1              T_OVER:
 1378                   
 1379 E8B1 A100                    CMPA     $00,X
 1380 E8B3 260A                    BNE      T_SK3
 1381                   ;
 1382 E8B5 E101         T_SK1      CMPB     $01,X
 1383 E8B7 2612                    BNE      T_SK4
 1384                   
 1385 E8B9 EE02         T_SK2      LDX      $02,X
 1386 E8BB AD00                    JSR      $00,X       <--IX JMP
 1387 E8BD 20C6                    BRA      T_CONTRL
 1388                   ;
 1389 E8BF 08           T_SK3      INX
 1390 E8C0 08                      INX
 1391 E8C1 08                      INX
 1392 E8C2 08                      INX
 1393 E8C3 8CE643                  CPX      #T_TABEND+4
 1394 E8C6 26E9                    BNE      T_OVER
 1395 E8C8 7EE8EE                  JMP      T_ERR1
 1396 E8CB              T_SK4:
 1397 E8CB BDE649                  JSR      T_OUTS
 1398 E8CE 5C                      INCB
 1399 E8CF FF4020                  STX      MONSTK+$60
 1400 E8D2 CE3FE4                  LDX      #MONSTK+$24
 1401 E8D5 BDEC9D                  JSR      T_BADDR
 1402 E8D8 FE4020                  LDX      MONSTK+$60
 1403 E8DB E101                    CMPB     $01,X
 1404 E8DD 27DA                    BEQ      T_SK2
 1405                   ;
 1406 E8DF BDE649                  JSR      T_OUTS
 1407 E8E2 5C                      INCB
 1408 E8E3 CE3FE6                  LDX      #MONSTK+$26
 1409 E8E6 BDEC9D                  JSR      T_BADDR
 1410 E8E9 FE4020                  LDX      MONSTK+$60
 1411 E8EC 20CB                    BRA      T_SK2
 1412                   ;
 1413 E8EE              T_ERR1:
 1414 E8EE BDEC93                  jsr      T_ERR
 1415 E8F1 2092                    bra      T_CONTRL
 1416                   ;
 1417 E8F3              INECHO1:
 1418 E8F3 7EED30                  jmp      INECHO
 1419                   ;
 1420                   * NO CALL ROUTINE?
 1421 E8F6              L632F:
 1422 E8F6 B63FEF                  ldaa     MONSTK+$2F
 1423 E8F9 260D                    bne      L6341
 1424 E8FB BDED23                  jsr      L674E
 1425 E8FE 8105                    cmpa     #$05
 1426 E900 2703                    beq      L633E
 1427 E902              L633B:
 1428 E902 7EED32                  jmp      T_OUT
 1429                   ;
 1430 E905              L633E:
 1431 E905 7C3FEF                  inc      MONSTK+$2F
 1432 E908              L6341:
 1433 E908 FF3FD0                  stx      MONSTK+$10
 1434 E90B 37                      pshb
 1435 E90C 8102                    cmpa     #$02
 1436 E90E 2761                    beq      L63AA
 1437 E910              L6349:
 1438 E910 FE3FC2                  ldx      MONSTK+$02
 1439 E913 FF3FC0                  stx      MONSTK+$00
 1440 E916 BDEFB5                  jsr      L69BE
 1441 E919 E600                    ldab     $00,x
 1442 E91B C890                    eorb     #$90
 1443 E91D E700                    stab     $00,x
 1444 E91F BDED5C                  jsr      INFFF
 1445 E922 C890                    eorb     #$90
 1446 E924 E700                    stab     $00,x
 1447 E926 C601                    ldab     #$01
 1448 E928 801C                    suba     #$1C
 1449 E92A 270F                    beq      L6374
 1450 E92C 4A                      deca
 1451 E92D 270A                    beq      L6372
 1452 E92F 4A                      deca
 1453 E930 2705                    beq      L6370
 1454 E932 4A                      deca
 1455 E933 260B                    bne      L6379
 1456 E935 4A                      deca
 1457 E936 5A                      decb
 1458 E937              L6370:
 1459 E937 4C                      inca
 1460 E938 4C                      inca
 1461 E939              L6372:
 1462 E939 4A                      deca
 1463 E93A 5A                      decb
 1464 E93B              L6374:
 1465 E93B BDEED5                  jsr      L68DD
 1466 E93E 20D0                    bra      L6349
 1467                   ;
 1468 E940              L6379:
 1469 E940 8B1F                    adda     #$1F
 1470 E942 FE3FC2                  ldx      MONSTK+$02
 1471 E945 810D                    cmpa     #$0D
 1472 E947 2718                    beq      L639A
 1473 E949 8109                    cmpa     #$09
 1474 E94B 2604                    bne      L638A
 1475 E94D 8D3D                    bsr      L63C5
 1476 E94F 20BF                    bra      L6349
 1477                   ;
 1478 E951              L638A:
 1479 E951 810B                    cmpa     #$0B
 1480 E953 2604                    bne      L6392
 1481 E955 8D4F                    bsr      L63DF
 1482 E957 20B7                    bra      L6349
 1483                   ;
 1484 E959              L6392:
 1485 E959 8120                    cmpa     #$20
 1486 E95B 25B3                    bcs      L6349
 1487 E95D 8DA3                    bsr      L633B
 1488 E95F 20AF                    bra      L6349
 1489                   ;
 1490 E961              L639A:
 1491 E961 7C3FEF                  inc      MONSTK+$2F
 1492 E964              L639D:
 1493 E964 BC3FCA                  cpx      MONSTK+$0A
 1494 E967 270C                    beq      L63AE
 1495 E969 8D5A                    bsr      L63FE
 1496 E96B A600                    ldaa     $00,x
 1497 E96D 81A0                    cmpa     #$A0
 1498 E96F 26F3                    bne      L639D
 1499 E971              L63AA:
 1500 E971 8D4D                    bsr      L63F9
 1501 E973 2509                    bcs      L63B7
 1502 E975              L63AE:
 1503 E975 C6A0                    ldab     #$A0
 1504 E977 A600                    ldaa     $00,x
 1505 E979 E700                    stab     $00,x
 1506 E97B 11                      cba
 1507 E97C 2609                    bne      L63C0
 1508 E97E              L63B7:
 1509 E97E 7F3FEF                  clr      MONSTK+$2F
 1510 E981              L63BA:
 1511 E981 8D3D                    bsr      L63F9
 1512 E983 24FC                    bcc      L63BA
 1513 E985 860D                    ldaa     #$0D
 1514 E987              L63C0:
 1515 E987 33                      pulb
 1516 E988 FE3FD0                  ldx      MONSTK+$10
 1517 E98B 39                      rts
 1518                   ;
 1519 E98C              L63C5:
 1520 E98C C620                    ldab     #$20
 1521 E98E              L63C7:
 1522 E98E A600                    ldaa     $00,x
 1523 E990 E700                    stab     $00,x
 1524 E992 36                      psha
 1525 E993 8D2B                    bsr      L63F9
 1526 E995 33                      pulb
 1527 E996 24F6                    bcc      L63C7
 1528 E998 FE3FC6                  ldx      MONSTK+$06
 1529 E99B FF3FC2                  stx      MONSTK+$02
 1530 E99E              L63D7:
 1531 E99E 8D25                    bsr      L63FE
 1532 E9A0 BC3FC0                  cpx      MONSTK+$00
 1533 E9A3 26F9                    bne      L63D7
 1534 E9A5 39                      rts
 1535                   ;
 1536 E9A6              L63DF:
 1537 E9A6 8D18                    bsr      L63F9
 1538 E9A8 24FC                    bcc      L63DF
 1539 E9AA FE3FC6                  ldx      MONSTK+$06
 1540 E9AD FF3FC2                  stx      MONSTK+$02
 1541 E9B0 8620                    ldaa     #$20
 1542 E9B2              L63EB:
 1543 E9B2 36                      psha
 1544 E9B3 8D10                    bsr      L63FE
 1545 E9B5 33                      pulb
 1546 E9B6 A600                    ldaa     $00,x
 1547 E9B8 E700                    stab     $00,x
 1548 E9BA BC3FC0                  cpx      MONSTK+$00
 1549 E9BD 26F3                    bne      L63EB
 1550 E9BF 39                      rts
 1551                   ;
 1552 E9C0              L63F9:
 1553 E9C0 BDEEBB                  jsr      L68C3
 1554 E9C3 2003                    bra      L6401
 1555                   ;
 1556 E9C5              L63FE:
 1557 E9C5 BDEF4F                  jsr      L6957
 1558 E9C8              L6401:
 1559 E9C8 FE3FC2                  ldx      MONSTK+$02
 1560 E9CB 39                      rts
 1561                   ;
 1562 E9CC FE3FE4       T_GOTO:    ldx      MONSTK+$24
 1563 E9CF 6E00                    jmp      $00,x       <--IX JAMP
 1564                   ;
 1565 E9D1              L640D:
 1566 E9D1 8D6A                    bsr      L6479
 1567 E9D3 8D6F                    bsr      L6480
 1568 E9D5 FF3FE4                  stx      MONSTK+$24
 1569 E9D8 09                      dex
 1570 E9D9 4F                      clra
 1571 E9DA E600                    ldab     $00,x
 1572 E9DC 2A01                    bpl      L641B
 1573 E9DE 43                      coma
 1574 E9DF              L641B:
 1575 E9DF FB3FE5                  addb     MONSTK+$25
 1576 E9E2 B93FE4                  adca     MONSTK+$24
 1577 E9E5 CE3FE0                  ldx      #MONSTK+$20
 1578 E9E8 8D30                    bsr      L6456
 1579 E9EA FE3FE4                  ldx      MONSTK+$24
 1580 E9ED 39                      rts
 1581                   ;
 1582 E9EE              L642A:
 1583 E9EE A600                    ldaa     $00,x
 1584 E9F0 81CE                    cmpa     #$CE
 1585 E9F2 271C                    beq      L644C
 1586 E9F4 818C                    cmpa     #$8C
 1587 E9F6 2718                    beq      L644C
 1588 E9F8 818E                    cmpa     #$8E
 1589 E9FA 2714                    beq      L644C
 1590 E9FC 818D                    cmpa     #$8D
 1591 E9FE 27D1                    beq      L640D
 1592 EA00 84F0                    anda     #$F0
 1593 EA02 8120                    cmpa     #$20
 1594 EA04 27CB                    beq      L640D
 1595 EA06 8160                    cmpa     #$60
 1596 EA08 2535                    bcs      L647B
 1597 EA0A 8430                    anda     #$30
 1598 EA0C 8130                    cmpa     #$30
 1599 EA0E 262D                    bne      L6479
 1600 EA10              L644C:
 1601 EA10 8D2D                    bsr      L647B
 1602 EA12 8D26                    bsr      L6476
 1603 EA14 09                      dex
 1604 EA15 09                      dex
 1605 EA16 A600                    ldaa     $00,x
 1606 EA18 E601                    ldab     $01,x
 1607 EA1A              L6456:
 1608 EA1A B13FE8                  cmpa     MONSTK+$28
 1609 EA1D 2603                    bne      L645E
 1610 EA1F F13FE9                  cmpb     MONSTK+$29
 1611 EA22              L645E:
 1612 EA22 251E                    bcs      L647E
 1613 EA24 B13FEA                  cmpa     MONSTK+$2A
 1614 EA27 2603                    bne      L6468
 1615 EA29 F13FEB                  cmpb     MONSTK+$2B
 1616 EA2C              L6468:
 1617 EA2C 2214                    bhi      L647E
 1618 EA2E FB3FED                  addb     MONSTK+$2D
 1619 EA31 B93FEC                  adca     MONSTK+$2C
 1620 EA34 A700                    staa     $00,x
 1621 EA36 E701                    stab     $01,x
 1622 EA38 8D0A                    bsr      L6480
 1623 EA3A              L6476:
 1624 EA3A 7EECF5                  jmp      T_OUT4HS
 1625                   ;
 1626 EA3D              L6479:
 1627 EA3D 8D00                    bsr      L647B
 1628 EA3F              L647B:
 1629 EA3F 7EECF7                  jmp      L6722
 1630                   ;
 1631 EA42              L647E:
 1632 EA42 08                      inx
 1633 EA43 08                      inx
 1634 EA44              L6480:
 1635 EA44 8D00                    bsr      L6482
 1636 EA46              L6482:
 1637 EA46 7EECF9                  jmp      L6724
 1638 EA49              L6485:
 1639 EA49 FE3FE8                  ldx      MONSTK+$28
 1640 EA4C FF3FEA                  stx      MONSTK+$2A
 1641 EA4F 200A                    bra      L6497
 1642 EA51              TRACE:
 1643 EA51 CE3FE8                  ldx      #MONSTK+$28
 1644 EA54 BDEB39                  jsr      L656D
 1645 EA57 E705                    stab     $05,x
 1646 EA59 A704                    staa     $04,x
 1647 EA5B              L6497:
 1648 EA5B FE3FE4                  ldx      MONSTK+$24
 1649 EA5E              L649A:
 1650 EA5E 8D50                    bsr      L64E8
 1651 EA60 8D8C                    bsr      L642A
 1652 EA62 FF3FE4                  stx      MONSTK+$24
 1653 EA65 B63FE4                  ldaa     MONSTK+$24
 1654 EA68 F63FE5                  ldab     MONSTK+$25
 1655 EA6B B13FE6                  cmpa     MONSTK+$26
 1656 EA6E 2603                    bne      L64AF
 1657 EA70 F13FE7                  cmpb     MONSTK+$27
 1658 EA73              L64AF:
 1659 EA73 23E9                    bls      L649A
 1660 EA75 39                      rts
 1661 EA76              T_CHANGE:
 1662 EA76 FE3FE4                  ldx      MONSTK+$24
 1663 EA79 09                      dex
 1664 EA7A              L64B6:
 1665 EA7A 08                      inx
 1666 EA7B 8D33                    bsr      L64E8
 1667 EA7D BDECFD                  jsr      L6728
 1668 EA80 BDE649                  JSR      T_OUTS
 1669 EA83 09                      dex
 1670 EA84 BDED30                  jsr      INECHO
 1671 EA87 810D                    cmpa     #$0D
 1672 EA89 2737                    beq      L64F6
 1673 EA8B 8120                    cmpa     #$20
 1674 EA8D 27EB                    BEQ      L64B6       <--
 1675 EA8F BDECA9                  JSR      T_BYTE1     <--
 1676 EA92 A700                    STAA     $00,X       <--
 1677 EA94 A100                    cmpa     $00,x
 1678 EA96 27E2                    beq      L64B6
 1679 EA98 7EEC93                  jmp      T_ERR
 1680 EA9B              T_DUMP:
 1681 EA9B FE3FE4                  ldx      MONSTK+$24
 1682 EA9E              L64D6:
 1683 EA9E 8D10                    bsr      L64E8
 1684 EAA0 C608                    ldab     #$08
 1685 EAA2              L64DA:
 1686 EAA2 8D9B                    bsr      L647B
 1687 EAA4 09                      dex
 1688 EAA5 BC3FE6                  cpx      MONSTK+$26
 1689 EAA8 2718                    beq      L64F6
 1690 EAAA 08                      inx
 1691 EAAB 5A                      decb
 1692 EAAC 26F4                    bne      L64DA
 1693 EAAE 20EE                    bra      L64D6
 1694                   ;
 1695 EAB0              L64E8:
 1696 EAB0 FF3FE0                  stx      MONSTK+$20
 1697 EAB3 CEE603                  LDX      #T_CRLF
 1698 EAB6 BDED09                  JSR      T_PDATA1
 1699 EAB9 CE3FE0                  ldx      #MONSTK+$20
 1700 EABC BDEA3A                  JSR      L6476
 1701 EABF FE3FE0                  ldx      MONSTK+$20
 1702 EAC2              L64F6:
 1703 EAC2 39                      rts
 1704 EAC3              L64F7:
 1705 EAC3 CE3FE4                  ldx      #MONSTK+$24
 1706 EAC6 E603                    ldab     $03,x
 1707 EAC8 A602                    ldaa     $02,x
 1708 EACA C002                    subb     #$02
 1709 EACC 8200                    sbca     #$00
 1710 EACE E001                    subb     $01,x
 1711 EAD0 A200                    sbca     $00,x
 1712 EAD2 2514                    bcs      L651C
 1713 EAD4 2618                    bne      L6522
 1714 EAD6 5D                      tstb
 1715 EAD7 2B15                    bmi      L6522
 1716 EAD9              L650D:
 1717 EAD9 FE3FE4                  ldx      MONSTK+$24
 1718 EADC E701                    stab     $01,x
 1719 EADE 8D03                    bsr      L6517
 1720 EAE0 FE3FE6                  ldx      MONSTK+$26
 1721 EAE3              L6517:
 1722 EAE3 8DCB                    bsr      L64E8
 1723 EAE5 7EE9EE                  jmp      L642A
 1724                   ;
 1725 EAE8              L651C:
 1726 EAE8 43                      coma
 1727 EAE9 2603                    bne      L6522
 1728 EAEB 5D                      tstb
 1729 EAEC 2BEB                    bmi      L650D
 1730 EAEE              L6522:
 1731 EAEE 39                      rts
 1732                   ;
 1733 EAEF CE3FE4                  ldx      #MONSTK+$24
 1734 EAF2 8D45                    bsr      L656D
 1735 EAF4 251B                    bcs      L6545
 1736 EAF6 8D4A                    bsr      L6576
 1737 EAF8              L652C:
 1738 EAF8 FE3FE6                  ldx      MONSTK+$26
 1739 EAFB A600                    ldaa     $00,x
 1740 EAFD 09                      dex
 1741 EAFE FF3FE6                  stx      MONSTK+$26
 1742 EB01 FE3FEA                  ldx      MONSTK+$2A
 1743 EB04 8D26                    bsr      L6560
 1744 EB06 BC3FE8                  cpx      MONSTK+$28
 1745 EB09 272D                    beq      L656C
 1746 EB0B 09                      dex
 1747 EB0C FF3FEA                  stx      MONSTK+$2A
 1748 EB0F 20E7                    bra      L652C
 1749                   ;
 1750 EB11              L6545:
 1751 EB11 8D2F                    bsr      L6576
 1752 EB13              L6547:
 1753 EB13 FE3FE4                  ldx      MONSTK+$24
 1754 EB16 A600                    ldaa     $00,x
 1755 EB18 08                      inx
 1756 EB19 FF3FE4                  stx      MONSTK+$24
 1757 EB1C FE3FE8                  ldx      MONSTK+$28
 1758 EB1F 8D0B                    bsr      L6560
 1759 EB21 BC3FEA                  cpx      MONSTK+$2A
 1760 EB24 2712                    beq      L656C
 1761 EB26 08                      inx
 1762 EB27 FF3FE8                  STX      MONSTK+$28  <--@11.14
 1763 EB2A 20E7                    BRA      L6547       <--@11.14
 1764                   ;
 1765 EB2C              L6560:
 1766 EB2C A700                    STAA     0,X         <--@11.14
 1767 EB2E A100                    cmpa     $00,x
 1768 EB30 2706                    beq      L656C
 1769 EB32 BDEC87                  jsr      L66BB
 1770 EB35 FE3FE0                  ldx      MONSTK+$20
 1771 EB38              L656C:
 1772 EB38 39                      rts
 1773                   ;
 1774 EB39              L656D:
 1775 EB39 E605                    ldab     $05,x
 1776 EB3B A604                    ldaa     $04,x
 1777 EB3D E001                    subb     $01,x
 1778 EB3F A200                    sbca     $00,x
 1779 EB41 39                      rts
 1780                   ;
 1781 EB42              L6576:
 1782 EB42 EB03                    addb     $03,x
 1783 EB44 A902                    adca     $02,x
 1784 EB46 E707                    stab     $07,x
 1785 EB48 A706                    staa     $06,x
 1786 EB4A 39                      rts
 1787                   ;
 1788 EB4B              L657F:
 1789 EB4B CEAA55                  ldx      #$AA55
 1790 EB4E FF3FE0                  stx      MONSTK+$20
 1791 EB51 7F3FEA                  clr      MONSTK+$2A
 1792 EB54 8D21                    bsr      L65AB
 1793 EB56 CE3FE0                  ldx      #MONSTK+$20
 1794 EB59              L658D:
 1795 EB59 8D25                    bsr      L65B4
 1796 EB5B 08                      inx
 1797 EB5C 8C3FEA                  cpx      #MONSTK+$2A
 1798 EB5F 26F8                    bne      L658D
 1799 EB61 8D14                    bsr      L65AB
 1800 EB63 FE3FE4                  ldx      MONSTK+$24
 1801 EB66 8D18                    bsr      L65B4
 1802 EB68              L659C:
 1803 EB68 BC3FE6                  cpx      MONSTK+$26
 1804 EB6B 2705                    beq      L65A6
 1805 EB6D 08                      inx
 1806 EB6E 8D10                    bsr      L65B4
 1807 EB70 20F6                    bra      L659C
 1808                   ;
 1809 EB72              L65A6:
 1810 EB72 B63FEA                  ldaa     MONSTK+$2A
 1811 EB75 8D0B                    bsr      L65B6
 1812 EB77              L65AB:
 1813 EB77 CE0C00                  ldx      #$0C00
 1814 EB7A              L65AE:
 1815 EB7A 8D29                    bsr      SOUND
 1816 EB7C 09                      dex
 1817 EB7D 26FB                    bne      L65AE
 1818 EB7F 39                      rts
 1819                   ;
 1820 EB80              L65B4:
 1821 EB80 A600                    ldaa     $00,x
 1822 EB82              L65B6:
 1823 EB82 36                      psha
 1824 EB83 BB3FEA                  adda     MONSTK+$2A
 1825 EB86 B73FEA                  staa     MONSTK+$2A
 1826 EB89 32                      pula
 1827 EB8A 7F3FEB                  clr      MONSTK+$2B
 1828 EB8D C608                    ldab     #$08
 1829 EB8F 8D12                    bsr      L65D7
 1830 EB91              L65C5:
 1831 EB91 48                      asla
 1832 EB92 2505                    bcs      L65CD
 1833 EB94 7C3FEB                  inc      MONSTK+$2B
 1834 EB97 8D23                    bsr      L65F0
 1835 EB99              L65CD:
 1836 EB99 8D0A                    bsr      SOUND
 1837 EB9B 5A                      decb
 1838 EB9C 26F3                    bne      L65C5
 1839 EB9E 743FEB                  lsr      MONSTK+$2B
 1840 EBA1 2402                    bcc      SOUND
 1841 EBA3              L65D7:
 1842 EBA3 8D17                    bsr      L65F0
 1843 EBA5              SOUND:
 1844 EBA5 37                      pshb
 1845 EBA6 C63E                    ldab     #$3E
 1846 EBA8 F78053                  stab     PRNCTR
 1847 EBAB C610                    ldab     #$10
 1848 EBAD              L65E1:
 1849 EBAD 5A                      decb
 1850 EBAE 26FD                    bne      L65E1
 1851 EBB0 C636                    ldab     #$36
 1852 EBB2 F78053                  stab     PRNCTR
 1853 EBB5 C60F                    ldab     #$0F
 1854 EBB7              L65EB:
 1855 EBB7 5A                      decb
 1856 EBB8 26FD                    bne      L65EB
 1857 EBBA 33                      pulb
 1858 EBBB 39                      rts
 1859                   ;
 1860 EBBC              L65F0:
 1861 EBBC 37                      pshb
 1862 EBBD C63E                    ldab     #$3E
 1863 EBBF F78053                  stab     PRNCTR
 1864 EBC2 C614                    ldab     #$14
 1865 EBC4              L65F8:
 1866 EBC4 5A                      decb
 1867 EBC5 26FD                    bne      L65F8
 1868 EBC7 33                      pulb
 1869 EBC8 39                      rts
 1870                   ;
 1871 EBC9              L65FD:
 1872 EBC9 CE3FE8                  ldx      #MONSTK+$28
 1873 EBCC 6D00                    tst      $00,x
 1874 EBCE 2602                    bne      L6606
 1875 EBD0 6D01                    tst      $01,x
 1876 EBD2              L6606:
 1877 EBD2 39                      rts
 1878                   ;
 1879 EBD3              L6607:
 1880 EBD3 7F3FEB                  clr      MONSTK+$2B
 1881 EBD6              L660A:
 1882 EBD6 8D77                    bsr      L6683
 1883 EBD8 17                      tba
 1884 EBD9 CB02                    addb     #$02
 1885 EBDB F03FEA                  subb     MONSTK+$2A
 1886 EBDE B73FEA                  staa     MONSTK+$2A
 1887 EBE1 25F0                    bcs      L6607
 1888 EBE3 C104                    cmpb     #$04
 1889 EBE5 24EC                    bcc      L6607
 1890 EBE7 7C3FEB                  inc      MONSTK+$2B
 1891 EBEA 2AEA                    bpl      L660A
 1892 EBEC 4A                      deca
 1893 EBED 16                      tab
 1894 EBEE 54                      lsrb
 1895 EBEF 1B                      aba
 1896 EBF0 B73FEC                  staa     MONSTK+$2C
 1897 EBF3              L6627:
 1898 EBF3 7F3FEA                  clr      MONSTK+$2A
 1899 EBF6 8D67                    bsr      L6693
 1900 EBF8 81AA                    cmpa     #$AA
 1901 EBFA 26D7                    bne      L6607
 1902 EBFC 8D61                    bsr      L6693
 1903 EBFE 8155                    cmpa     #$55
 1904 EC00 26F1                    bne      L6627
 1905 EC02 CE3FE2                  ldx      #MONSTK+$22
 1906 EC05              L6639:
 1907 EC05 8D58                    bsr      L6693
 1908 EC07 A700                    staa     $00,x
 1909 EC09 08                      inx
 1910 EC0A 8C3FEA                  cpx      #MONSTK+$2A
 1911 EC0D 26F6                    bne      L6639
 1912 EC0F 8D7D                    bsr      PDATA3
 1913 EC11 CE3FE2                  ldx      #MONSTK+$22
 1914 EC14 8D76                    bsr      L66C0
 1915 EC16 FE3FE0                  ldx      MONSTK+$20
 1916 EC19 BC3FE2                  cpx      MONSTK+$22
 1917 EC1C 26B8                    bne      L660A
 1918 EC1E CE3FE4                  ldx      #MONSTK+$24
 1919 EC21 8D69                    bsr      L66C0
 1920 EC23 8D67                    bsr      L66C0
 1921 EC25 8DA2                    bsr      L65FD
 1922 EC27 2702                    beq      L665F
 1923 EC29 8D61                    bsr      L66C0
 1924 EC2B              L665F:
 1925 EC2B FE3FE4                  ldx      MONSTK+$24
 1926 EC2E 8D2F                    bsr      L6693
 1927 EC30              L6664:
 1928 EC30 A700                    staa     $00,x
 1929 EC32 BC3FE6                  cpx      MONSTK+$26
 1930 EC35 2705                    beq      L6670
 1931 EC37 08                      inx
 1932 EC38 8D25                    bsr      L6693
 1933 EC3A 20F4                    bra      L6664
 1934                   ;
 1935 EC3C              L6670:
 1936 EC3C 8D21                    bsr      L6693
 1937 EC3E 48                      asla
 1938 EC3F B13FEA                  cmpa     MONSTK+$2A
 1939 EC42 264F                    bne      T_ERR
 1940 EC44 8D83                    bsr      L65FD
 1941 EC46 2706                    beq      L6682
 1942 EC48 A601                    ldaa     $01,x
 1943 EC4A 36                      psha
 1944 EC4B A600                    ldaa     $00,x
 1945 EC4D 36                      psha
 1946 EC4E              L6682:
 1947 EC4E 39                      rts
 1948                   ;
 1949 EC4F              L6683:
 1950 EC4F 5F                      clrb
 1951 EC50              L6684:
 1952 EC50 7D8050                  tst      ASKREG
 1953 EC53 2AFB                    bpl      L6684
 1954 EC55              L6689:
 1955 EC55 5C                      incb
 1956 EC56 7D8050                  tst      ASKREG
 1957 EC59 2BFA                    bmi      L6689
 1958 EC5B F13FEC                  cmpb     MONSTK+$2C
 1959 EC5E 39                      rts
 1960                   ;
 1961 EC5F              L6693:
 1962 EC5F 4F                      clra
 1963 EC60 B73FEB                  staa     MONSTK+$2B
 1964 EC63              L6697:
 1965 EC63 8DEA                    bsr      L6683
 1966 EC65 25FC                    bcs      L6697
 1967 EC67 C609                    ldab     #$09
 1968 EC69              L669D:
 1969 EC69 37                      pshb
 1970 EC6A 8DE3                    bsr      L6683
 1971 EC6C 2503                    bcs      L66A5
 1972 EC6E 7C3FEB                  inc      MONSTK+$2B
 1973 EC71              L66A5:
 1974 EC71 49                      rola
 1975 EC72 33                      pulb
 1976 EC73 5A                      decb
 1977 EC74 26F3                    bne      L669D
 1978 EC76 46                      rora
 1979 EC77 763FEB                  ror      MONSTK+$2B
 1980 EC7A 2509                    bcs      L66B9
 1981 EC7C 36                      psha
 1982 EC7D BB3FEA                  adda     MONSTK+$2A
 1983 EC80 B73FEA                  staa     MONSTK+$2A
 1984 EC83 32                      pula
 1985 EC84 39                      rts
 1986                   ;
 1987 EC85              L66B9:
 1988 EC85 31                      ins
 1989 EC86 31                      ins
 1990 EC87              L66BB:
 1991 EC87 8D0A                    bsr      T_ERR
 1992 EC89 CE3FE0                  ldx      #MONSTK+$20
 1993 EC8C              L66C0:
 1994 EC8C 2067                    bra      T_OUT4HS
 1995                   ;
 1996 EC8E              PDATA3:
 1997 EC8E CEE603                  ldx      #T_CRLF
 1998 EC91 2076                    bra      T_PDATA1
 1999                   ;
 2000 EC93              T_ERR:
 2001 EC93 FF3FE0                  stx      MONSTK+$20
 2002 EC96 CEE60B                  ldx      #L6009      <--'?'
 2003 EC99 206E                    bra      T_PDATA1
 2004                   ;
 2005 EC9B 8D5C                    bsr      L6724
 2006 EC9D              T_BADDR:
 2007 EC9D 8D00                    bsr      L66D3
 2008 EC9F              L66D3:
 2009 EC9F 8D04                    bsr      T_BYTE
 2010 ECA1 A700                    staa     $00,x
 2011 ECA3 08                      inx
 2012 ECA4 39                      rts
 2013                   ;
 2014 ECA5              T_BYTE:
 2015 ECA5 37                      pshb
 2016 ECA6 8D30                    bsr      T_INHEX
 2017 ECA8 33                      PULB
 2018 ECA9              T_BYTE1:
 2019 ECA9 37                      PSHB
 2020 ECAA 48                      asla
 2021 ECAB 48                      asla
 2022 ECAC 48                      asla
 2023 ECAD 48                      asla
 2024 ECAE 16                      tab
 2025 ECAF 8D27                    bsr      T_INHEX
 2026 ECB1 1B                      aba
 2027 ECB2 33                      pulb
 2028 ECB3 39                      rts
 2029                   ;
 2030 ECB4              L66E6:
 2031 ECB4 8610                    ldaa     #$10
 2032 ECB6 B78094                  staa     PACICS
 2033 ECB9              L66EB:
 2034 ECB9 B68094                  ldaa     PACICS
 2035 ECBC 47                      asra
 2036 ECBD 24FA                    bcc      L66EB
 2037 ECBF B68095                  ldaa     PACIDA
 2038 ECC2 39                      rts
 2039                   ;
 2040                   * PUNCH TO SBC-IO ACIA
 2041 ECC3              PUNDA:
 2042 ECC3 36                      psha
 2043 ECC4 8651                    ldaa     #$51
 2044 ECC6 B78094                  staa     PACICS
 2045 ECC9              L66FB:
 2046 ECC9 B68094                  ldaa     PACICS
 2047 ECCC 47                      asra
 2048 ECCD 47                      asra
 2049 ECCE 24F9                    bcc      L66FB
 2050 ECD0 32                      pula
 2051 ECD1 B78095                  staa     PACIDA
 2052 ECD4 B78000                  STAA     LED         <--LED TOGLEE
 2053 ECD7 39                      rts
 2054                   ;
 2055 ECD8              T_INHEX:
 2056 ECD8 8D6C                    bsr      T_INCH
 2057 ECDA 8030                    suba     #$30
 2058 ECDC 2B13                    bmi      INH1
 2059 ECDE 8109                    cmpa     #$09
 2060 ECE0 2F0A                    ble      L671B
 2061 ECE2 8111                    cmpa     #$11
 2062 ECE4 2B0B                    bmi      INH1
 2063 ECE6 8116                    cmpa     #$16
 2064 ECE8 2E07                    bgt      INH1
 2065 ECEA 8007                    suba     #$07
 2066 ECEC              L671B:
 2067 ECEC 36                      psha
 2068 ECED 8D30                    bsr      T_OUTHR
 2069 ECEF 32                      pula
 2070 ECF0 39                      rts
 2071                   ;
 2072 ECF1 33           INH1       PULB
 2073 ECF2 7EE885       CONT1:     JMP      T_CONTRL
 2074                   ;
 2075 ECF5              T_OUT4HS:
 2076 ECF5 8D06                    bsr      L6728
 2077 ECF7              L6722:
 2078 ECF7 8D04                    bsr      L6728
 2079 ECF9              L6724:
 2080 ECF9 8620                    ldaa     #$20
 2081 ECFB 2035                    bra      T_OUT
 2082                   ;
 2083 ECFD              L6728:
 2084 ECFD A600                    ldaa     $00,x
 2085 ECFF 8D1A                    bsr      T_OUTHL
 2086 ED01 A600                    ldaa     $00,x
 2087 ED03 08                      inx
 2088 ED04 2019                    bra      T_OUTHR
 2089                   ;
 2090 ED06              T_PDATA2:
 2091 ED06 8D2A                    bsr      T_OUT
 2092 ED08 08                      inx
 2093 ED09              T_PDATA1:
 2094 ED09 A600                    ldaa     $00,x
 2095 ED0B 8104                    cmpa     #$04
 2096 ED0D 26F7                    bne      T_PDATA2
 2097 ED0F 39                      rts
 2098                   ;
 2099 ED10              T_BCDHR:
 2100 ED10 840F                    anda     #$0F
 2101 ED12 8B30                    adda     #$30
 2102 ED14 8139                    cmpa     #$39
 2103 ED16 2302                    bls      L6745
 2104 ED18 8B07                    adda     #$07
 2105 ED1A              L6745:
 2106 ED1A 39                      rts
 2107                   ;
 2108 ED1B              T_OUTHL:
 2109 ED1B 44                      lsra
 2110 ED1C 44                      lsra
 2111 ED1D 44                      lsra
 2112 ED1E 44                      lsra
 2113 ED1F              T_OUTHR:
 2114 ED1F 8DEF                    bsr      T_BCDHR
 2115 ED21 200F                    bra      T_OUT
 2116                   ;
 2117 ED23              L674E:
 2118 ED23 7D3FCE                  tst      MONSTK+$0E
 2119 ED26 2702                    beq      L6755
 2120 ED28 208A                    bra      L66E6
 2121 ED2A              L6755:
 2122 ED2A 201A                    bra      T_INCH
 2123                   ;
 2124 ED2C 8DF5                    bsr      L674E
 2125 ED2E 2038                    bra      OUTRAM
 2126                   ;
 2127 ED30              INECHO:
 2128 ED30 8D14                    bsr      T_INCH
 2129 ED32              T_OUT:
 2130 ED32 7D3FCF                  tst      MONSTK+$0F
 2131 ED35 2702                    beq      L6764
 2132 ED37 8D8A                    bsr      PUNDA
 2133 ED39              L6764:
 2134 ED39 7D604A                  TST      PRNFLG
 2135 ED3C 2703                    BEQ      PR1
 2136 ED3E BDE6F5                  JSR      L6126       <--PRINTER
 2137 ED41 BDE1D1       PR1        JSR      OUTEEE
 2138 ED44 2022                    bra      OUTRAM
 2139                   ;
 2140                   *
 2141                   ;
 2142 ED46              T_INCH:
 2143 ED46 FF3FC0                  stx      MONSTK
 2144 ED49 37                      pshb
 2145 ED4A FE3FC2                  ldx      MONSTK+$02
 2146 ED4D E600                    ldab     $00,x
 2147 ED4F 865F                    ldaa     #$5F
 2148 ED51 A700                    staa     $00,x
 2149 ED53 8D07                    bsr      INFFF
 2150 ED55 E700                    stab     $00,x
 2151 ED57 33                      pulb
 2152 ED58 FE3FC0                  ldx      MONSTK
 2153 ED5B 39                      rts
 2154                   ;
 2155                   **------ PARALLEL KEYBOARD ROUTINE -----**
 2156                   * INFFF:
 2157                   *       tst     ASKREG
 2158                   * L677F:
 2159                   *       tst     ASKCTR
 2160                   *       bpl     L677F
 2161                   * L6784:
 2162                   *       ldaa    ASKREG
 2163                   *       anda    #$7F
 2164                   *       cmpa    #$60
 2165                   *       bmi     L678F
 2166                   *       suba    #$20
 2167                   * L678F:
 2168                   *       rts
 2169                   *
 2170                   *
 2171 ED5C              INFFF:
 2172 ED5C B68018                  LDAA     ACIACS
 2173 ED5F 47                      ASRA
 2174 ED60 24FA                    BCC      INFFF
 2175 ED62 B68019                  ldaa     ACIADA
 2176 ED65 847F                    anda     #$7F
 2177 ED67 39                      rts
 2178                   *
 2179                   * OUTEEE TO VRAM
 2180                   *
 2181 ED68              OUTRAM:
 2182 ED68 FF3FC0                  stx      MONSTK
 2183 ED6B 37                      pshb
 2184 ED6C 36                      psha
 2185 ED6D FE3FC2                  ldx      MONSTK+$02
 2186 ED70 C620                    ldab     #$20
 2187 ED72 8120                    cmpa     #$20
 2188 ED74 2521                    bcs      L67BE
 2189 ED76 BDE643                  JSR      VOUTCH
 2190 ED79 08                      inx
 2191 ED7A FF3FC2                  stx      MONSTK+$02
 2192 ED7D BC3FC6                  cpx      MONSTK+$06
 2193 ED80 260C                    bne      L67B5
 2194 ED82              L67A9:
 2195 ED82 7D3FCE                  tst      MONSTK+$0E
 2196 ED85 2602                    bne      L67B0
 2197 ED87 8D5A                    bsr      L6808
 2198 ED89              L67B0:
 2199 ED89 8D79                    bsr      L6829
 2200 ED8B FE3FC4                  ldx      MONSTK+$04
 2201 ED8E              L67B5:
 2202 ED8E FF3FC2                  stx      MONSTK+$02
 2203 ED91              L67B8:
 2204 ED91 32                      pula
 2205 ED92 33                      pulb
 2206 ED93 FE3FC0                  ldx      MONSTK
 2207 ED96 39                      rts
 2208                   ;
 2209 ED97              L67BE:
 2210 ED97 810D                    cmpa     #$0D
 2211 ED99 2607                    bne      L67C8
 2212 ED9B 86A0                    ldaa     #$A0
 2213 ED9D BDE643                  JSR      VOUTCH
 2214 EDA0 20E0                    bra      L67A9
 2215                   ;
 2216 EDA2              L67C8:
 2217 EDA2 8108                    cmpa     #$08
 2218 EDA4 260A                    bne      L67D6
 2219 EDA6 BC3FC4                  cpx      MONSTK+$04
 2220 EDA9 27E3                    beq      L67B5
 2221 EDAB 09                      dex
 2222 EDAC E700                    stab     $00,x
 2223 EDAE 20DE                    bra      L67B5
 2224                   ;
 2225 EDB0              L67D6:
 2226 EDB0 8118                    cmpa     #$18
 2227 EDB2 2605                    bne      L67DE
 2228 EDB4 BDEE51                  JSR      L685A
 2229 EDB7 20D5                    bra      L67B5
 2230                   ;
 2231 EDB9              L67DE:
 2232 EDB9 811A                    cmpa     #$1A
 2233 EDBB 2604                    bne      L67E6
 2234 EDBD 8D73                    bsr      L683C
 2235 EDBF 20D0                    bra      L67B8
 2236                   ;
 2237 EDC1              L67E6:
 2238 EDC1 8014                    suba     #$14
 2239 EDC3 2710                    beq      L67FA
 2240 EDC5 4C                      inca
 2241 EDC6 2707                    beq      L67F4
 2242 EDC8 4C                      inca
 2243 EDC9 2709                    beq      L67F9
 2244 EDCB 4C                      inca
 2245 EDCC 260C                    bne      L67FF
 2246 EDCE 4C                      inca
 2247 EDCF              L67F4:
 2248 EDCF B73FCE                  staa     MONSTK+$0E
 2249 EDD2 20BA                    bra      L67B5
 2250                   ;
 2251 EDD4              L67F9:
 2252 EDD4 4C                      inca
 2253 EDD5              L67FA:
 2254 EDD5 B73FCF                  staa     MONSTK+$0F
 2255 EDD8 20B4                    bra      L67B5
 2256                   ;
 2257 EDDA              L67FF:
 2258 EDDA 7D3FCE                  tst      MONSTK+$0E
 2259 EDDD 26AF                    bne      L67B5
 2260 EDDF 8D7D                    bsr      L6866
 2261 EDE1 20AB                    bra      L67B5
 2262                   ;
 2263 EDE3              L6808:
 2264 EDE3 B68052                  ldaa     PRNREG
 2265 EDE6 48                      asla
 2266 EDE7 2A1A                    bpl      L6828
 2267 EDE9 FE3FC4                  ldx      MONSTK+$04
 2268 EDEC BC3FC2                  cpx      MONSTK+$02
 2269 EDEF 2712                    beq      L6828
 2270 EDF1 0E                      cli
 2271 EDF2 09                      dex
 2272 EDF3              L6818:
 2273 EDF3 08                      inx
 2274 EDF4 A600                    ldaa     $00,x
 2275 EDF6              L681B:
 2276 EDF6 8D0F                    bsr      PRNCH
 2277 EDF8 5A                      decb
 2278 EDF9 BC3FC2                  cpx      MONSTK+$02
 2279 EDFC 26F5                    bne      L6818
 2280 EDFE C41F                    andb     #$1F
 2281 EE00 26F4                    bne      L681B
 2282 EE02 0F                      sei
 2283 EE03              L6828:
 2284 EE03 39                      rts
 2285 EE04              L6829:
 2286 EE04 7EEEA2                  JMP      L68AA
 2287                   ;
 2288                   ** PRINTER OUTCH
 2289                   ;
 2290 EE07              PRNCH:
 2291 EE07 7D604A                  TST      PRNFLG
 2292 EE0A 2725                    BEQ      PRN2
 2293 EE0C 36                      psha
 2294 EE0D FF6044                  STX      TW
 2295 EE10 B78000                  STAA     LED         <--LED TOGGLE
 2296 EE13 8160                    CMPA     #$60
 2297 EE15 2A11                    BPL      PRN1
 2298 EE17 7D8052                  tst      PRNREG
 2299 EE1A B78052                  staa     PRNREG
 2300 EE1D CE0600                  LDX      #$600       <--WAIT PRINTER ON TIME
 2301 EE20              L6831:
 2302 EE20 09                      DEX
 2303 EE21 2705                    BEQ      PRN1
 2304 EE23 7D8053                  tst      PRNCTR
 2305 EE26 2AF8                    bpl      L6831       <--
 2306 EE28 86A0         PRN1:      ldaa     #$A0
 2307 EE2A B78052                  staa     PRNREG
 2308 EE2D FE6044                  LDX      TW
 2309 EE30 32                      pula
 2310 EE31 39           PRN2:      rts
 2311                   ;
 2312 EE32              L683C:
 2313 EE32 86A0                    ldaa     #$A0
 2314 EE34 FE3FCA                  ldx      MONSTK+$0A
 2315 EE37              L6841:
 2316 EE37 BDE646                  JSR      VOUTGC
 2317 EE3A 08                      inx
 2318 EE3B BC3FCC                  cpx      MONSTK+$0C
 2319 EE3E 26F7                    bne      L6841
 2320 EE40 2050                    bra      L689A
 2321                   ;
 2322 EE42              L684B:
 2323 EE42 FE3FCA                  ldx      MONSTK+$0A
 2324 EE45 C6A0                    ldab     #$A0
 2325 EE47              L6850:
 2326 EE47 A620                    ldaa     $20,x
 2327 EE49 A700                    staa     $00,x
 2328 EE4B 08                      inx
 2329 EE4C BC3FC4                  cpx      MONSTK+$04
 2330 EE4F 26F6                    bne      L6850
 2331 EE51              L685A:
 2332 EE51 FE3FC6                  ldx      MONSTK+$06
 2333 EE54              L685D:
 2334 EE54 09                      dex
 2335 EE55 BDE646                  JSR      VOUTGC
 2336 EE58 BC3FC4                  cpx      MONSTK+$04
 2337 EE5B 26F7                    bne      L685D
 2338 EE5D 39                      rts
 2339                   ;
 2340 EE5E              L6866:
 2341 EE5E 8B50                    adda     #$50
 2342 EE60 37                      pshb
 2343 EE61              L6869:
 2344 EE61 37                      pshb
 2345 EE62 C63E                    ldab     #$3E
 2346 EE64 F78053                  stab     PRNCTR
 2347 EE67 16                      tab
 2348 EE68              L6870:
 2349 EE68 5A                      decb
 2350 EE69 26FD                    bne      L6870
 2351 EE6B C636                    ldab     #$36
 2352 EE6D F78053                  stab     PRNCTR
 2353 EE70 16                      tab
 2354 EE71              L6879:
 2355 EE71 5A                      decb
 2356 EE72 26FD                    bne      L6879
 2357 EE74 33                      pulb
 2358 EE75 5A                      decb
 2359 EE76 26E9                    bne      L6869
 2360 EE78 33                      pulb
 2361 EE79 39                      rts
 2362                   ;
 2363 EE7A              INITWRK:
 2364 EE7A CE0000                  ldx      #$0000
 2365 EE7D FF3FCE                  stx      MONSTK+$0E
 2366 EE80 FF3FEE                  stx      MONSTK+$2E
 2367 EE83 FF3FF6                  stx      MONSTK+$36
 2368 EE86 CE5040                  ldx      #CHRAM+$40  <--$42 UPPER LEFT
 2369 EE89 FF3FCA                  stx      MONSTK+$0A
 2370 EE8C CE53DF                  ldx      #CHRAM+$03DF <--LOWER RIGHT
 2371 EE8F FF3FCC                  stx      MONSTK+$0C
 2372 EE92              L689A:
 2373 EE92 CE5040                  ldx      #CHRAM+$40  <--$42 UPPER LEFT
 2374 EE95 FF3FC2                  stx      MONSTK+$02
 2375 EE98 FF3FC4                  stx      MONSTK+$04
 2376 EE9B CE505F                  ldx      #CHRAM+$005F <--UPPER RIGHT
 2377 EE9E FF3FC6                  stx      MONSTK+$06
 2378 EEA1 39                      rts
 2379                   ;
 2380 EEA2              L68AA:
 2381 EEA2 8D04                    bsr      L68B0
 2382 EEA4 2414                    bcc      L68C2
 2383 EEA6 209A                    bra      L684B
 2384                   ;
 2385 EEA8              L68B0:
 2386 EEA8 8D6B                    bsr      L691D
 2387 EEAA F63FCC                  ldab     MONSTK+$0C
 2388 EEAD B63FCD                  ldaa     MONSTK+$0D
 2389 EEB0 FE3FC6                  ldx      MONSTK+$06
 2390 EEB3 8D7A                    bsr      L6937
 2391 EEB5 2403                    bcc      L68C2
 2392 EEB7 8D4F                    bsr      L6910
 2393 EEB9 0D                      sec
 2394 EEBA              L68C2:
 2395 EEBA 39                      rts
 2396                   ;
 2397 EEBB              L68C3:
 2398 EEBB F63FC6                  ldab     MONSTK+$06
 2399 EEBE B63FC7                  ldaa     MONSTK+$07
 2400 EEC1 FE3FC2                  ldx      MONSTK+$02
 2401 EEC4 08                      inx
 2402 EEC5 FF3FC2                  stx      MONSTK+$02
 2403 EEC8 8D65                    bsr      L6937
 2404 EECA 2208                    bhi      L68DC
 2405 EECC 8DDA                    bsr      L68B0
 2406 EECE FE3FC4                  ldx      MONSTK+$04
 2407 EED1 FF3FC2                  stx      MONSTK+$02
 2408 EED4              L68DC:
 2409 EED4 39                      rts
 2410                   ;
 2411 EED5              L68DD:
 2412 EED5 FF3FC0                  stx      MONSTK
 2413 EED8 37                      pshb
 2414 EED9 4D                      tsta
 2415 EEDA 2B0B                    bmi      L68EF
 2416 EEDC 2710                    beq      L68F6
 2417 EEDE              L68E6:
 2418 EEDE 36                      psha
 2419 EEDF 8DDA                    bsr      L68C3
 2420 EEE1 32                      pula
 2421 EEE2 4A                      deca
 2422 EEE3 26F9                    bne      L68E6
 2423 EEE5 2007                    bra      L68F6
 2424                   ;
 2425 EEE7              L68EF:
 2426 EEE7 36                      psha
 2427 EEE8 8D65                    bsr      L6957
 2428 EEEA 32                      pula
 2429 EEEB 4C                      inca
 2430 EEEC 26F9                    bne      L68EF
 2431 EEEE              L68F6:
 2432 EEEE 33                      pulb
 2433 EEEF 5D                      tstb
 2434 EEF0 2B0B                    bmi      L6905
 2435 EEF2 2710                    beq      L690C
 2436 EEF4              L68FC:
 2437 EEF4 37                      pshb
 2438 EEF5 8DB1                    bsr      L68B0
 2439 EEF7 33                      pulb
 2440 EEF8 5A                      decb
 2441 EEF9 26F9                    bne      L68FC
 2442 EEFB 2007                    bra      L690C
 2443                   ;
 2444 EEFD              L6905:
 2445 EEFD 37                      pshb
 2446 EEFE 8D3C                    bsr      L6944
 2447 EF00 33                      pulb
 2448 EF01 5C                      incb
 2449 EF02 26F9                    bne      L6905
 2450 EF04              L690C:
 2451 EF04 FE3FC0                  ldx      MONSTK
 2452 EF07 39                      rts
 2453                   ;
 2454 EF08              L6910:
 2455 EF08 CE3FC2                  ldx      #MONSTK+$02
 2456 EF0B 8D02                    bsr      L6917
 2457 EF0D 8D00                    bsr      L6917
 2458 EF0F              L6917:
 2459 EF0F C6FF                    ldab     #$FF
 2460 EF11 86E0                    ldaa     #$E0
 2461 EF13 200A                    bra      L6927
 2462                   ;
 2463 EF15              L691D:
 2464 EF15 CE3FC2                  ldx      #MONSTK+$02
 2465 EF18 8D02                    bsr      L6924
 2466 EF1A 8D00                    bsr      L6924
 2467 EF1C              L6924:
 2468 EF1C 5F                      clrb
 2469 EF1D 8620                    ldaa     #$20
 2470 EF1F              L6927:
 2471 EF1F 8D05                    bsr      L692E
 2472 EF21 08                      inx
 2473 EF22 08                      inx
 2474 EF23 39                      rts
 2475 EF24              L692C:
 2476 EF24 2082                    bra      L68B0
 2477                   ;
 2478 EF26              L692E:
 2479 EF26 AB01                    adda     $01,x
 2480 EF28 E900                    adcb     $00,x
 2481 EF2A A701                    staa     $01,x
 2482 EF2C E700                    stab     $00,x
 2483 EF2E 39                      rts
 2484                   ;
 2485 EF2F              L6937:
 2486 EF2F FF3FC8                  stx      MONSTK+$08
 2487 EF32 CE3FC8                  ldx      #MONSTK+$08
 2488 EF35 E100                    cmpb     $00,x
 2489 EF37 2602                    bne      L6943
 2490 EF39 A101                    cmpa     $01,x
 2491 EF3B              L6943:
 2492 EF3B 39                      rts
 2493                   ;
 2494 EF3C              L6944:
 2495 EF3C 8DCA                    bsr      L6910
 2496 EF3E F63FCA                  ldab     MONSTK+$0A
 2497 EF41 B63FCB                  ldaa     MONSTK+$0B
 2498 EF44 FE3FC4                  ldx      MONSTK+$04
 2499 EF47 8DE6                    bsr      L6937
 2500 EF49 2303                    bls      L6956
 2501 EF4B 8DC8                    bsr      L691D
 2502 EF4D 0C                      clc
 2503 EF4E              L6956:
 2504 EF4E 39                      rts
 2505                   ;
 2506 EF4F              L6957:
 2507 EF4F F63FC4                  ldab     MONSTK+$04
 2508 EF52 B63FC5                  ldaa     MONSTK+$05
 2509 EF55 FE3FC2                  ldx      MONSTK+$02
 2510 EF58 09                      dex
 2511 EF59 FF3FC2                  stx      MONSTK+$02
 2512 EF5C 8DD1                    bsr      L6937
 2513 EF5E 2309                    BLS      L6971
 2514 EF60 8DDA                    bsr      L6944
 2515 EF62 FE3FC6                  ldx      MONSTK+$06
 2516 EF65 09                      dex
 2517 EF66 FF3FC2                  stx      MONSTK+$02
 2518 EF69 39           L6971      rts
 2519                   ;
 2520 EF6A              L6973:
 2521 EF6A F63FDF                  ldab     MONSTK+$1F
 2522 EF6D 54                      lsrb
 2523 EF6E 54                      lsrb
 2524 EF6F 54                      lsrb
 2525 EF70 F73FD1                  stab     MONSTK+$11
 2526 EF73 4F                      clra
 2527 EF74 C6FE                    ldab     #$FE
 2528 EF76              L697F:
 2529 EF76 36                      psha
 2530 EF77 B63FDE                  ldaa     MONSTK+$1E
 2531 EF7A 44                      lsra
 2532 EF7B 44                      lsra
 2533 EF7C 44                      lsra
 2534 EF7D B73FD0                  staa     MONSTK+$10
 2535 EF80 32                      pula
 2536 EF81 FE3FC2                  ldx      MONSTK+$02
 2537 EF84              L698D:
 2538 EF84 BC3FC6                  cpx      MONSTK+$06
 2539 EF87 270D                    beq      L699F
 2540 EF89 A700                    staa     $00,x
 2541 EF8B FF3FC0                  stx      MONSTK
 2542 EF8E 8D25                    bsr      L69BE
 2543 EF90 E700                    stab     $00,x
 2544 EF92 FE3FC0                  ldx      MONSTK
 2545 EF95 08                      inx
 2546 EF96              L699F:
 2547 EF96 4C                      inca
 2548 EF97 2601                    bne      L69A3
 2549 EF99 5C                      incb
 2550 EF9A              L69A3:
 2551 EF9A 7A3FD0                  dec      MONSTK+$10
 2552 EF9D 26E5                    bne      L698D
 2553 EF9F 36                      psha
 2554 EFA0 37                      pshb
 2555 EFA1 8D81                    bsr      L692C
 2556 EFA3 33                      pulb
 2557 EFA4 32                      pula
 2558 EFA5 2505                    bcs      L69B5
 2559 EFA7 7A3FD1                  dec      MONSTK+$11
 2560 EFAA 26CA                    bne      L697F
 2561 EFAC              L69B5:
 2562 EFAC 8D8E                    bsr      L6944
 2563 EFAE 25FC                    bcs      L69B5
 2564 EFB0              L69B9:
 2565 EFB0 8D9D                    bsr      L6957
 2566 EFB2 26FC                    bne      L69B9
 2567 EFB4 39                      rts
 2568                   ;
 2569 EFB5              L69BE:
 2570 EFB5 37                      pshb
 2571 EFB6 36                      psha
 2572 EFB7 C604                    ldab     #$04
 2573 EFB9 4F                      clra
 2574 EFBA BB3FC1                  adda     MONSTK+$01
 2575 EFBD F93FC0                  adcb     MONSTK
 2576 EFC0 B73FC9                  staa     MONSTK+$09
 2577 EFC3 F73FC8                  stab     MONSTK+$08
 2578 EFC6 FE3FC8                  ldx      MONSTK+$08
 2579 EFC9 32                      pula
 2580 EFCA 33                      pulb
 2581 EFCB 39                      rts
 2582                   ;
 2583 EFCC              INITGRA:
 2584 EFCC 86C0                    ldaa     #$C0
 2585 EFCE B73FDE                  staa     MONSTK+$1E
 2586 EFD1 86A6                    ldaa     #$A6
 2587 EFD3 B73FDF                  staa     MONSTK+$1F
 2588 EFD6 CE4000                  ldx      #GRRAM
 2589 EFD9 FF3FDA                  stx      MONSTK+$1A
 2590 EFDC CE5000                  ldx      #CHRAM
 2591 EFDF FF3FDC                  stx      MONSTK+$1C
 2592 EFE2 39                      rts
 2593                   ;
 2594 EFE3              L69EC:
 2595 EFE3 FE3FDA                  ldx      MONSTK+$1A
 2596 EFE6              L69EF:
 2597 EFE6 6F00                    clr      $00,x
 2598 EFE8 08                      inx
 2599 EFE9 BC3FDC                  cpx      MONSTK+$1C
 2600 EFEC 26F8                    bne      L69EF
 2601 EFEE 39                      rts
 2602                   ;
 2603 EFEF              VM_PIX:
 2604 EFEF 8D1A                    bsr      L6A14
 2605 EFF1 A400                    anda     $00,x
 2606 EFF3 2701                    beq      L69FF
 2607 EFF5 5C                      incb
 2608 EFF6              L69FF:
 2609 EFF6 39                      rts
 2610                   ;
 2611 EFF7              VM_WH:
 2612 EFF7 8D12                    bsr      L6A14
 2613 EFF9 AA00                    oraa     $00,x
 2614 EFFB 200B                    bra      L6A11
 2615                   ;
 2616 EFFD              VM_BL:
 2617 EFFD 8D0C                    bsr      L6A14
 2618 EFFF 43                      coma
 2619 F000 A400                    anda     $00,x
 2620 F002 2004                    bra      L6A11
 2621                   ;
 2622 F004              VM_REV:
 2623 F004 8D05                    bsr      L6A14
 2624 F006 A800                    eora     $00,x
 2625 F008              L6A11:
 2626 F008 A700                    staa     $00,x
 2627 F00A 39                      rts
 2628                   ;
 2629 F00B              L6A14:
 2630 F00B B73FD6                  staa     MONSTK+$16
 2631 F00E F73FD7                  stab     MONSTK+$17
 2632 F011 FE3FDA                  ldx      MONSTK+$1A
 2633 F014 B13FDE                  cmpa     MONSTK+$1E
 2634 F017 224F                    bhi      L6A71
 2635 F019 F13FDF                  cmpb     MONSTK+$1F
 2636 F01C 224A                    bhi      L6A71
 2637 F01E 36                      psha
 2638 F01F 37                      pshb
 2639 F020 FE3FDA                  ldx      MONSTK+$1A
 2640 F023 FF3FD2                  stx      MONSTK+$12
 2641 F026 84F8                    anda     #$F8
 2642 F028 C407                    andb     #$07
 2643 F02A 1B                      aba
 2644 F02B BB3FD3                  adda     MONSTK+$13
 2645 F02E B73FD3                  staa     MONSTK+$13
 2646 F031 B63FDE                  ldaa     MONSTK+$1E
 2647 F034 B73FD0                  staa     MONSTK+$10
 2648 F037 5F                      clrb
 2649 F038 32                      pula
 2650 F039 84F8                    anda     #$F8
 2651 F03B 44                      lsra
 2652 F03C 44                      lsra
 2653 F03D 44                      lsra
 2654 F03E              L6A47:
 2655 F03E 743FD0                  lsr      MONSTK+$10
 2656 F041 2410                    bcc      L6A5C
 2657 F043 36                      psha
 2658 F044 37                      pshb
 2659 F045 BB3FD3                  adda     MONSTK+$13
 2660 F048 F93FD2                  adcb     MONSTK+$12
 2661 F04B B73FD3                  staa     MONSTK+$13
 2662 F04E F73FD2                  stab     MONSTK+$12
 2663 F051 33                      pulb
 2664 F052 32                      pula
 2665 F053              L6A5C:
 2666 F053 48                      asla
 2667 F054 59                      rolb
 2668 F055 7D3FD0                  tst      MONSTK+$10
 2669 F058 26E4                    bne      L6A47
 2670 F05A 8680                    ldaa     #$80
 2671 F05C 33                      pulb
 2672 F05D C407                    andb     #$07
 2673 F05F 2704                    beq      L6A6E
 2674 F061              L6A6A:
 2675 F061 44                      lsra
 2676 F062 5A                      decb
 2677 F063 26FC                    bne      L6A6A
 2678 F065              L6A6E:
 2679 F065 FE3FD2                  ldx      MONSTK+$12
 2680 F068              L6A71:
 2681 F068 39                      rts
 2682                   ;
 2683 F069              L6A72:
 2684 F069 8D6B                    bsr      L6AE3
 2685 F06B              L6A74:
 2686 F06B 8D8A                    bsr      VM_WH
 2687 F06D 8D15                    bsr      L6A8D
 2688 F06F 25FA                    bcs      L6A74
 2689 F071 39                      rts
 2690                   ;
 2691 F072              L6A7B:
 2692 F072 8D62                    bsr      L6AE3
 2693 F074              L6A7D:
 2694 F074 8D87                    bsr      VM_BL
 2695 F076 8D0C                    bsr      L6A8D
 2696 F078 25FA                    bcs      L6A7D
 2697 F07A 39                      rts
 2698                   ;
 2699 F07B              L6A84:
 2700 F07B 8D59                    bsr      L6AE3
 2701 F07D              L6A86:
 2702 F07D 8D85                    bsr      VM_REV
 2703 F07F 8D03                    bsr      L6A8D
 2704 F081 25FA                    bcs      L6A86
 2705 F083 39                      rts
 2706                   ;
 2707 F084              L6A8D:
 2708 F084 B63FF9                  ldaa     MONSTK+$39
 2709 F087 4C                      inca
 2710 F088 B73FF9                  staa     MONSTK+$39
 2711 F08B B13FF6                  cmpa     MONSTK+$36
 2712 F08E 2238                    bhi      L6AD1
 2713 F090 B63FF8                  ldaa     MONSTK+$38
 2714 F093 BB3FF7                  adda     MONSTK+$37
 2715 F096 2508                    bcs      L6AA9
 2716 F098 B73FF8                  staa     MONSTK+$38
 2717 F09B B13FF6                  cmpa     MONSTK+$36
 2718 F09E 2514                    bcs      L6ABD
 2719 F0A0              L6AA9:
 2720 F0A0 B03FF6                  suba     MONSTK+$36
 2721 F0A3 B73FF8                  staa     MONSTK+$38
 2722 F0A6 B63FD4                  ldaa     MONSTK+$14
 2723 F0A9 F63FD5                  ldab     MONSTK+$15
 2724 F0AC BB3FF4                  adda     MONSTK+$34
 2725 F0AF FB3FF5                  addb     MONSTK+$35
 2726 F0B2 200C                    bra      L6AC9
 2727                   ;
 2728 F0B4              L6ABD:
 2729 F0B4 B63FD4                  ldaa     MONSTK+$14
 2730 F0B7 F63FD5                  ldab     MONSTK+$15
 2731 F0BA BB3FF2                  adda     MONSTK+$32
 2732 F0BD FB3FF3                  addb     MONSTK+$33
 2733 F0C0              L6AC9:
 2734 F0C0 B73FD4                  staa     MONSTK+$14
 2735 F0C3 F73FD5                  stab     MONSTK+$15
 2736 F0C6 0D                      sec
 2737 F0C7 39                      rts
 2738                   ;
 2739 F0C8              L6AD1:
 2740 F0C8 B63FD4                  ldaa     MONSTK+$14
 2741 F0CB F63FD5                  ldab     MONSTK+$15
 2742 F0CE B73FD6                  staa     MONSTK+$16
 2743 F0D1 F73FD7                  stab     MONSTK+$17
 2744 F0D4 0C                      clc
 2745 F0D5 39                      rts
 2746                   ;
 2747 F0D6              L6AE3:
 2748 F0D6 B73FD8                  staa     MONSTK+$18
 2749 F0D9 F73FD9                  stab     MONSTK+$19
 2750 F0DC 7F3FF2                  clr      MONSTK+$32
 2751 F0DF 7F3FF3                  clr      MONSTK+$33
 2752 F0E2 7F3FF4                  clr      MONSTK+$34
 2753 F0E5 7F3FF5                  clr      MONSTK+$35
 2754 F0E8 B03FD6                  suba     MONSTK+$16
 2755 F0EB 2508                    bcs      L6B02
 2756 F0ED 7C3FF2                  inc      MONSTK+$32
 2757 F0F0 7C3FF4                  inc      MONSTK+$34
 2758 F0F3 2007                    bra      L6B09
 2759                   ;
 2760 F0F5              L6B02:
 2761 F0F5 40                      nega
 2762 F0F6 7A3FF2                  dec      MONSTK+$32
 2763 F0F9 7A3FF4                  dec      MONSTK+$34
 2764 F0FC              L6B09:
 2765 F0FC F03FD7                  subb     MONSTK+$17
 2766 F0FF 2508                    bcs      L6B16
 2767 F101 7C3FF3                  inc      MONSTK+$33
 2768 F104 7C3FF5                  inc      MONSTK+$35
 2769 F107 2007                    bra      L6B1D
 2770                   ;
 2771 F109              L6B16:
 2772 F109 50                      negb
 2773 F10A 7A3FF3                  dec      MONSTK+$33
 2774 F10D 7A3FF5                  dec      MONSTK+$35
 2775 F110              L6B1D:
 2776 F110 11                      cba
 2777 F111 250C                    bcs      L6B2C
 2778 F113 7F3FF3                  clr      MONSTK+$33
 2779 F116 B73FF6                  staa     MONSTK+$36
 2780 F119 F73FF7                  stab     MONSTK+$37
 2781 F11C 16                      tab
 2782 F11D 2009                    bra      L6B35
 2783                   ;
 2784 F11F              L6B2C:
 2785 F11F 7F3FF2                  clr      MONSTK+$32
 2786 F122 B73FF7                  staa     MONSTK+$37
 2787 F125 F73FF6                  stab     MONSTK+$36
 2788 F128              L6B35:
 2789 F128 54                      lsrb
 2790 F129 F73FF8                  stab     MONSTK+$38
 2791 F12C 7F3FF9                  clr      MONSTK+$39
 2792 F12F B63FD6                  ldaa     MONSTK+$16
 2793 F132 F63FD7                  ldab     MONSTK+$17
 2794 F135 B73FD4                  staa     MONSTK+$14
 2795 F138 F73FD5                  stab     MONSTK+$15
 2796 F13B 39                      rts
 2797                   ;
 2798 F13C              L6B49:
 2799 F13C 7F3FF7                  clr      MONSTK+$37
 2800 F13F 7A3FF7                  dec      MONSTK+$37
 2801 F142 200B                    bra      L6B5C
 2802                   ;
 2803 F144              L6B51:
 2804 F144 7F3FF7                  clr      MONSTK+$37
 2805 F147 2006                    bra      L6B5C
 2806                   ;
 2807 F149              L6B56:
 2808 F149 7F3FF7                  clr      MONSTK+$37
 2809 F14C 7C3FF7                  inc      MONSTK+$37
 2810 F14F              L6B5C:
 2811 F14F B73FD4                  staa     MONSTK+$14
 2812 F152 F73FD5                  stab     MONSTK+$15
 2813 F155 FF3FE4                  stx      MONSTK+$24
 2814 F158 BDF00B                  jsr      L6A14
 2815 F15B B73FF2                  staa     MONSTK+$32
 2816 F15E 2734                    beq      L6BA1
 2817 F160              L6B6D:
 2818 F160 B63FD2                  ldaa     MONSTK+$12
 2819 F163 F63FD3                  ldab     MONSTK+$13
 2820 F166 B73FE2                  staa     MONSTK+$22
 2821 F169 F73FE3                  stab     MONSTK+$23
 2822 F16C CB08                    addb     #$08
 2823 F16E 8900                    adca     #$00
 2824 F170 B73FD2                  staa     MONSTK+$12
 2825 F173 F73FD3                  stab     MONSTK+$13
 2826 F176 F63FD5                  ldab     MONSTK+$15
 2827 F179 CAF8                    orab     #$F8
 2828 F17B              L6B88:
 2829 F17B F73FF4                  stab     MONSTK+$34
 2830 F17E              L6B8B:
 2831 F17E B63FF2                  ldaa     MONSTK+$32
 2832 F181 B73FF3                  staa     MONSTK+$33
 2833 F184 FE3FE4                  ldx      MONSTK+$24
 2834 F187 A600                    ldaa     $00,x
 2835 F189 08                      inx
 2836 F18A FF3FE4                  stx      MONSTK+$24
 2837 F18D 4D                      tsta
 2838 F18E 2605                    bne      L6BA2
 2839 F190 A600                    ldaa     $00,x
 2840 F192 26CC                    bne      L6B6D
 2841 F194              L6BA1:
 2842 F194 39                      rts
 2843                   ;
 2844 F195              L6BA2:
 2845 F195 FE3FE2                  ldx      MONSTK+$22
 2846 F198 36                      psha
 2847 F199 B63FE2                  ldaa     MONSTK+$22
 2848 F19C F63FE3                  ldab     MONSTK+$23
 2849 F19F B13FDC                  cmpa     MONSTK+$1C
 2850 F1A2 2603                    bne      L6BB4
 2851 F1A4 F13FDD                  cmpb     MONSTK+$1D
 2852 F1A7              L6BB4:
 2853 F1A7 32                      pula
 2854 F1A8 242A                    bcc      L6BE1
 2855 F1AA 5F                      clrb
 2856 F1AB 783FF3                  asl      MONSTK+$33
 2857 F1AE 2507                    bcs      L6BC4
 2858 F1B0              L6BBD:
 2859 F1B0 44                      lsra
 2860 F1B1 56                      rorb
 2861 F1B2 783FF3                  asl      MONSTK+$33
 2862 F1B5 24F9                    bcc      L6BBD
 2863 F1B7              L6BC4:
 2864 F1B7 7D3FF7                  tst      MONSTK+$37
 2865 F1BA 2B10                    bmi      L6BD9
 2866 F1BC 2706                    beq      L6BD1
 2867 F1BE A800                    eora     $00,x
 2868 F1C0 E808                    eorb     $08,x
 2869 F1C2 200C                    bra      L6BDD
 2870                   ;
 2871 F1C4              L6BD1:
 2872 F1C4 43                      coma
 2873 F1C5 53                      comb
 2874 F1C6 A400                    anda     $00,x
 2875 F1C8 E408                    andb     $08,x
 2876 F1CA 2004                    bra      L6BDD
 2877                   ;
 2878 F1CC              L6BD9:
 2879 F1CC AA00                    oraa     $00,x
 2880 F1CE EA08                    orab     $08,x
 2881 F1D0              L6BDD:
 2882 F1D0 A700                    staa     $00,x
 2883 F1D2 E708                    stab     $08,x
 2884 F1D4              L6BE1:
 2885 F1D4 08                      inx
 2886 F1D5 FF3FE2                  stx      MONSTK+$22
 2887 F1D8 7C3FF4                  inc      MONSTK+$34
 2888 F1DB 26A1                    bne      L6B8B
 2889 F1DD 4F                      clra
 2890 F1DE F63FDE                  ldab     MONSTK+$1E
 2891 F1E1 C008                    subb     #$08
 2892 F1E3 FB3FE3                  addb     MONSTK+$23
 2893 F1E6 B93FE2                  adca     MONSTK+$22
 2894 F1E9 B73FE2                  staa     MONSTK+$22
 2895 F1EC F73FE3                  stab     MONSTK+$23
 2896 F1EF C6F8                    ldab     #$F8
 2897 F1F1 2088                    bra      L6B88
 2898                   *
 2899 F1F3 FE3FE4       T_PUNCH    LDX      MONSTK+$24
 2900 F1F6 FF6002                  STX      BEGA
 2901 F1F9 FE3FE6                  LDX      MONSTK+$26
 2902 F1FC FF6004                  STX      ENDA
 2903 F1FF 7EE505                  JMP      PNCHJ       <--MIXDBUG
 2904                   *
 2905                   * TBUG HELP MSG
 2906                   *
 2907 F202 CEF209       T_HELP     LDX      #T_HELPMSG
 2908 F205 BDED09                  JSR      T_PDATA1
 2909 F208 39                      RTS
 2910 F209              T_HELPMSG:
 2911 F209 0D0A2042202A            FCB      $0D,$0A,' B ** ++ :BRANCH'
           2A202B2B203A 
           4252414E4348 
 2912 F21B 0D0A2044202A            FCB      $0D,$0A,' D ** ++ :DUMP'
           2A202B2B203A 
           44554D50     
 2913 F22B 0D0A20472020            FCB      $0D,$0A,' G       :GO SWTBUG'
           20202020203A 
           474F20535754 
           425547       
 2914 F240 0D0A204A202A            FCB      $0D,$0A,' J **    :JUMP'
           2A202020203A 
           4A554D50     
 2915 F250 0D0A204C2020            FCB      $0D,$0A,' L       :KC LOAD'
           20202020203A 
           4B43204C4F41 
           44           
 2916 F263 0D0A204D202A            FCB      $0D,$0A,' M **    :MEMCHG [SP]'
           2A202020203A 
           4D454D434847 
           205B53505D   
 2917 F27A 0D0A2050202A            FCB      $0D,$0A,' P ** ++ :KC PUNCH'
           2A202B2B203A 
           4B432050554E 
           4348         
 2918 F28E 0D0A2054202A            FCB      $0D,$0A,' T ** ++ :TRANS'
           2A202B2B203A 
           5452414E53   
 2919 F29F 0D0A205A2020            FCB      $0D,$0A,' Z       :J BASIC'
           20202020203A 
           4A2042415349 
           43           
 2920 F2B2 04                      FCB      $04
 2921                   *
 2922                   * TBUG  END
 2923                   **
 2924                   **-----------------------------------------------------
 2925                   **      NAKAMOZU TINY BASIC                            
 2926                   **      BY HARUO YAMASHITA                             
 2927                   **      ASCII, Vol.3 #4 April, 1979                    
 2928                   ** http://hyamasynth.web.fc2.com/ACII_NTB/ACII_NTB.html
 2929                   **-----------------------------------------------------
 2930                   *       NTBV9.ASM  Ver.9  IRQ BREAK MODE               
 2931                   *                             2018-08-08               
 2932                   **-----------------------------------------------------
 2933 0036              BOP:       EQU      $0036
 2934 0038              EOP:       EQU      $0038
 2935 003A              MEMEND:    EQU      $003A
 2936 0050              WKA:       EQU      $0050
 2937 0052              WKB:       EQU      $0052
 2938 0054              WKC:       EQU      $0054
 2939 0056              XS:        EQU      $0056
 2940 0058              SPS:       EQU      $0058
 2941 005A              MDS:       EQU      $005A
 2942 005C              FS:        EQU      $005C
 2943 0060              RNDS:      EQU      $0060
 2944 0062              FLOD:      EQU      $0062
 2945 0063              FAUT:      EQU      $0063
 2946 0064              LPCT:      EQU      $0064
 2947 0065              CHCT:      EQU      $0065
 2948 0066              WKUSE:     EQU      $0066
 2949 0068              OPT:       EQU      $0068       <--OPTION
 2950 006A              LNB:       EQU      $006A
 2951 006C              EOB:       EQU      $006C
 2952 006E              EADRS:     EQU      $006E
 2953 0070              XSP:       EQU      $0070
 2954 00C0              EOBF:      EQU      $00C0
 2955 00C8              CSTACK:    EQU      $00C8
 2956 2000              TXTTOP     EQU      $2000       <--NTB PROGRAM TOP
 2957 3F00              TXTEND     EQU      RSVRAM      <--NTB PROGRAM END $3F0
 2958                   ;
 2959                   ;
 2960 F300                         ORG      NTB         <--$F300
 2961                   ;
 2962 F300              L6C00:
 2963 F300              NTBSTART:
 2964 F300 7EF3AD                  jmp      L6CB2
 2965 F303              WSTART:
 2966 F303 7EF3CE                  jmp      L6CBE
 2967                   ;
 2968 F306              L6C06:
 2969 F306 2000                    FDB      TXTTOP
 2970 F308              L6C08:
 2971 F308 3F00                    FDB      TXTEND
 2972 F30A              L6C0A:
 2973 F30A 9662                    ldaa     FLOD
 2974 F30C 265B                    bne      L6C66
 2975 F30E 9663                    ldaa     FAUT
 2976 F310 2713                    beq      L6C25
 2977 F312 CE006A                  ldx      #LNB
 2978 F315 5F                      clrb
 2979 F316 860A                    ldaa     #$0A
 2980 F318 BDF6EE                  jsr      L6FE0
 2981 F31B BDF625                  jsr      L6F17
 2982 F31E BDFA94                  jsr      L7386
 2983 F321 2012                    bra      L6C35
 2984                   ;
 2985 F323              L6C23:
 2986 F323 8D4C                    bsr      L6C6E
 2987 F325              L6C25:
 2988 F325 863E                    ldaa     #'>
 2989 F327 8D6A                    bsr      L6C98
 2990 F329 8C                      FCB      $8C         <-SKIP
 2991 F32A              L6C2A:
 2992 F32A 8D48                    BSR      L6C71
 2993 F32C              L6C2C:
 2994 F32C CE0079                  ldx      #XSP+9
 2995 F32F              L6C2F:
 2996 F32F 09                      dex
 2997 F330 8C0077                  cpx      #XSP+7
 2998 F333 27F5                    beq      L6C2A
 2999 F335              L6C35:
 3000 F335 9860                    eora     RNDS
 3001 F337 9760                    staa     RNDS
 3002 F339 8D23                    bsr      L6C5E
 3003 F33B A700                    staa     $00,x
 3004 F33D 8108                    cmpa     #$08
 3005 F33F 27EE                    beq      L6C2F
 3006 F341 810D                    cmpa     #$0D
 3007 F343 2606                    bne      L6C4B
 3008 F345 6F00                    clr      $00,x
 3009 F347 DF6C                    stx      EOB
 3010 F349 2029                    bra      L6C71
 3011                   ;
 3012 F34B              L6C4B:
 3013 F34B 8118                    cmpa     #$18
 3014 F34D 27D4                    beq      L6C23
 3015 F34F 811F                    cmpa     #$1F
 3016 F351 25E2                    bcs      L6C35
 3017 F353 08                      inx
 3018 F354 8C00C0                  cpx      #EOBF
 3019 F357 26DC                    bne      L6C35
 3020 F359              L6C59:
 3021 F359 C601                    ldab     #$01
 3022 F35B 7EFB29                  jmp      ERRMSG
 3023                   ;
 3024 F35E              L6C5E:
 3025 F35E BDE1AC                  jsr      INEEE
 3026 F361 8103                    cmpa     #$03
 3027 F363 276C                    beq      END
 3028 F365 BDED68                  JSR      OUTRAM
 3029 F368 39                      rts
 3030                   ;
 3031 F369              L6C66:
 3032 F369 8DF3                    bsr      L6C5E
 3033 F36B 8102                    cmpa     #$02
 3034 F36D 26FA                    bne      L6C66
 3035 F36F 20BB                    bra      L6C2C
 3036                   ;
 3037 F371              L6C6E:
 3038 F371 BDFB0B                  jsr      NWLINE
 3039 F374              L6C71:
 3040 F374 CE0078                  ldx      #XSP+8
 3041 F377 7F0065                  clr      CHCT
 3042 F37A 39                      rts
 3043                   ;
 3044 F37B              L6C78:
 3045 F37B DE36                    ldx      BOP
 3046 F37D 6F00                    clr      $00,x
 3047 F37F 08                      inx
 3048 F380              L6C7D:
 3049 F380 DF38                    stx      EOP
 3050 F382 8680                    ldaa     #$80
 3051 F384 A700                    staa     $00,x
 3052 F386 39                      rts
 3053                   ;
 3054 F387              L6C8C:
 3055 F387 32                      pula
 3056 F388 39                      rts
 3057 F389              _LOAD:
 3058 F389 8DF0                    bsr      L6C78
 3059 F38B              APPEND:
 3060 F38B 8D04                    bsr      L6C96
 3061 F38D 9762                    staa     FLOD
 3062 F38F 2052                    bra      L6CD3
 3063                   ;
 3064 F391              L6C96:
 3065 F391 8611                    ldaa     #$11
 3066 F393              L6C98:
 3067 F393 7EF672                  jmp      L6F64
 3068 F396              AUTO:
 3069 F396 07                      tpa
 3070 F397 9763                    staa     FAUT
 3071 F399 BDF924                  jsr      L7216
 3072 F39C 800A                    suba     #$0A
 3073 F39E C200                    sbcb     #$00
 3074 F3A0              L6CA5:
 3075 F3A0 976B                    staa     LNB+1
 3076 F3A2 D76A                    stab     LNB
 3077 F3A4 39                      rts
 3078 F3A5              STOP:
 3079 F3A5 BDF54E                  jsr      _PRINT
 3080 F3A8 BDF8FE                  jsr      DO
 3081 F3AB 202A                    bra      L6CC7
 3082                   ;
 3083                   **------------ NTB START -------------**
 3084 F3AD              L6CB2:
 3085 F3AD 8E3F47                  LDS      #_STACK     <--@V9X
 3086 F3B0 FEF306                  ldx      L6C06
 3087 F3B3 DF36                    stx      BOP
 3088 F3B5 FEF308                  ldx      L6C08
 3089 F3B8 DF3A                    stx      MEMEND
 3090 F3BA CEF303                  LDX      #WSTART     <--@V9Y
 3091 F3BD FF6048                  STX      STARTV      <--@V9Y
 3092 F3C0 CEFED8                  LDX      #IRQ_BREAK
 3093 F3C3 FF6000                  STX      IRQ         <--IRQV <--@IO
 3094 F3C6 7F6017                  CLR      IRQCHR
 3095 F3C9 BDFEFB                  JSR      IRQON       <--ACIA IRQ ON
 3096 F3CC              NEW:
 3097 F3CC 8DAD                    bsr      L6C78
 3098                   **------------ WARM START ------------**
 3099 F3CE              L6CBE:
 3100 F3CE BDE871                  jsr      CLRALL      <--VM_COPY@V7
 3101 F3D1              END:
 3102 F3D1 8E3F47                  lds      #_STACK
 3103 F3D4 BDF45E                  jsr      INIT2
 3104 F3D7              L6CC7:
 3105 F3D7 CEFD39                  ldx      #RDYMSG
 3106 F3DA BDFB23                  jsr      PD
 3107 F3DD BDFB0B                  jsr      NWLINE
 3108 F3E0 07                      tpa
 3109 F3E1 976E                    staa     EADRS
 3110 F3E3              L6CD3:
 3111 F3E3 8E3F47                  lds      #_STACK
 3112 F3E6              L6CD6:
 3113 F3E6 BDF30A                  jsr      L6C0A
 3114 F3E9 BDF6B1                  jsr      L6FA3
 3115 F3EC 27F8                    beq      L6CD6
 3116 F3EE BDF74A                  jsr      GETN
 3117 F3F1 244C                    bcc      L6D2F
 3118 F3F3 8DAB                    bsr      L6CA5
 3119 F3F5 8D02                    bsr      L6CE9
 3120 F3F7 20EA                    bra      L6CD3
 3121                   ;
 3122 F3F9              L6CE9:
 3123 F3F9 DF56                    stx      XS
 3124 F3FB 9F58                    sts      SPS
 3125 F3FD BDF491                  jsr      L6D81
 3126 F400 DF54                    stx      WKC
 3127 F402 251B                    bcs      L6D0F
 3128 F404 BDF486                  jsr      NXTL
 3129 F407 08                      inx
 3130 F408 0F                      sei
 3131 F409 35                      txs
 3132 F40A DE54                    ldx      WKC
 3133 F40C 09                      dex
 3134 F40D 2006                    bra      L6D05
 3135                   ;
 3136 F40F              L6CFF:
 3137 F40F 08                      inx
 3138 F410 33                      pulb
 3139 F411 E700                    stab     $00,x
 3140 F413 26FA                    bne      L6CFF
 3141 F415              L6D05:
 3142 F415 08                      inx
 3143 F416 33                      pulb
 3144 F417 E700                    stab     $00,x
 3145 F419 C180                    cmpb     #$80
 3146 F41B 26F2                    bne      L6CFF
 3147 F41D DF38                    stx      EOP
 3148 F41F              L6D0F:
 3149 F41F DE56                    ldx      XS
 3150 F421 A600                    ldaa     $00,x
 3151 F423 2735                    beq      INS3
 3152 F425 966D                    ldaa     EOB+1
 3153 F427 9057                    suba     XS+1
 3154 F429 8B03                    adda     #$03
 3155 F42B DE38                    ldx      EOP
 3156 F42D 9B39                    adda     EOP+1
 3157 F42F 9739                    staa     EOP+1
 3158 F431 2403                    bcc      L6D26
 3159 F433 7C0038                  inc      EOP
 3160 F436              L6D26:
 3161 F436 BDF4BE                  jsr      SIZE
 3162 F439 2406                    bcc      INS2
 3163 F43B DF38                    stx      EOP
 3164 F43D 2063                    bra      L6D92
 3165 F43F              L6D2F:
 3166 F43F 203B                    bra      L6D6C
 3167                   ;
 3168 F441              INS2:
 3169 F441 9E38                    lds      EOP
 3170 F443 08                      inx
 3171 F444              MOVE2:
 3172 F444 09                      dex
 3173 F445 A600                    ldaa     $00,x
 3174 F447 36                      psha
 3175 F448 9C54                    cpx      WKC
 3176 F44A 26F8                    bne      MOVE2
 3177 F44C 9E6A                    lds      LNB
 3178 F44E AF00                    sts      $00,x
 3179 F450 08                      inx
 3180 F451 9E56                    lds      XS
 3181 F453 34                      des
 3182 F454              MOVE3:
 3183 F454 08                      inx
 3184 F455 32                      pula
 3185 F456 A700                    staa     $00,x
 3186 F458 26FA                    bne      MOVE3
 3187 F45A              INS3:
 3188 F45A 9E58                    lds      SPS
 3189 F45C 0E                      cli
 3190 F45D 39                      rts
 3191                   ;
 3192 F45E              INIT2:
 3193 F45E CE0000                  ldx      #$0000
 3194 F461 DF62                    stx      FLOD
 3195 F463 DF63                    stx      FAUT
 3196 F465 DF66                    stx      WKUSE
 3197 F467 CE3FC0                  ldx      #MONSTK
 3198 F46A DF74                    stx      XSP+4
 3199 F46C CE3F80                  ldx      #SUBSTK
 3200 F46F DF70                    stx      XSP
 3201 F471 CE00C8                  ldx      #CSTACK
 3202 F474 DF72                    stx      XSP+2
 3203 F476 FEF306                  ldx      L6C06
 3204 F479 DF76                    stx      XSP+6
 3205 F47B 39                      rts
 3206                   ;
 3207 F47C              L6D6C:
 3208 F47C BDF68E                  jsr      L6F83
 3209 F47F 245E                    bcc      L6DD2
 3210 F481 CEFD4A                  ldx      #L764C
 3211 F484 2061                    bra      L6DDA
 3212                   ;
 3213 F486              NXTL:
 3214 F486 08                      inx
 3215 F487              L6D77:
 3216 F487 08                      inx
 3217 F488              NXTL2:
 3218 F488 6D00                    tst      $00,x
 3219 F48A 26FB                    bne      L6D77
 3220 F48C 39                      rts
 3221                   ;
 3222 F48D              L6D7D:
 3223 F48D DE6E                    ldx      EADRS
 3224 F48F 2A03                    bpl      L6D84
 3225 F491              L6D81:
 3226 F491 DE36                    ldx      BOP
 3227 F493 08                      inx
 3228 F494              L6D84:
 3229 F494 966B                    ldaa     LNB+1
 3230 F496 D66A                    ldab     LNB
 3231 F498 2B05                    bmi      ERR120
 3232 F49A 260E                    bne      LNFD3
 3233 F49C 4D                      tsta
 3234 F49D 260B                    bne      LNFD3
 3235 F49F              ERR120:
 3236 F49F C603                    ldab     #$03
 3237 F4A1 8C                      FCB      $8C         <-SKIP
 3238 F4A2              L6D92
 3239 F4A2 C602                    LDAB     #$02
 3240 F4A4 7EFB29                  jmp      ERRMSG
 3241                   ;
 3242 F4A7              L6D97:
 3243 F4A7 8DDD                    bsr      NXTL
 3244 F4A9              L6D99:
 3245 F4A9 08                      inx
 3246 F4AA              LNFD3:
 3247 F4AA BDF51B                  jsr      L6E0D
 3248 F4AD 22F8                    bhi      L6D97
 3249 F4AF 39                      rts
 3250                   ;
 3251 F4B0              IF2:
 3252 F4B0 BDF924                  jsr      L7216
 3253 F4B3 5D                      tstb
 3254 F4B4 2601                    bne      L6DA7
 3255 F4B6 4D                      tsta
 3256 F4B7              L6DA7:
 3257 F4B7 39                      rts
 3258 F4B8              IF:
 3259 F4B8 8DF6                    bsr      IF2
 3260 F4BA 27CC                    beq      NXTL2
 3261 F4BC 201C                    bra      STMT3
 3262                   ;
 3263 F4BE              SIZE:
 3264 F4BE 963B                    ldaa     MEMEND+1
 3265 F4C0 D63A                    ldab     MEMEND
 3266 F4C2 9039                    suba     EOP+1
 3267 F4C4 D238                    sbcb     EOP
 3268 F4C6 39                      rts
 3269 F4C7              C7:
 3270 F4C7 7EF3D7                  jmp      L6CC7
 3271 F4CA              RUN:
 3272 F4CA 8D92                    bsr      INIT2
 3273 F4CC DE36                    ldx      BOP
 3274 F4CE 08                      inx
 3275 F4CF              STMT:
 3276 F4CF DF6E                    stx      EADRS
 3277 F4D1 A600                    ldaa     $00,x
 3278 F4D3 48                      asla
 3279 F4D4 966E                    ldaa     EADRS
 3280 F4D6 23EF                    bls      C7
 3281 F4D8 08                      inx
 3282 F4D9 08                      inx
 3283 F4DA              STMT3:
 3284 F4DA BDF68E                  jsr      L6F83
 3285 F4DD 2505                    bcs      L6DD7
 3286 F4DF              L6DD2:
 3287 F4DF BDF966                  jsr      L7258
 3288 F4E2 2009                    bra      L6DE0
 3289                   ;
 3290 F4E4              L6DD7:
 3291 F4E4 CEFD7D                  ldx      #DEL2
 3292 F4E7              L6DDA:
 3293 F4E7 8E3F47                  lds      #_STACK
 3294 F4EA BDF7DE                  jsr      L70D0
 3295 F4ED              L6DE0:
 3296 F4ED 09                      dex
 3297 F4EE              L6DE1:
 3298 F4EE BDF6AD                  jsr      L6FA2
 3299 F4F1 26FB                    bne      L6DE1
 3300 F4F3 08                      INX
 3301 F4F4 24D9                    bcc      STMT
 3302 F4F6 20E2                    bra      STMT3
 3303                   ;
 3304 F4F8              L6DEA:
 3305 F4F8 49                      rola
 3306 F4F9 48                      asla
 3307 F4FA 48                      asla
 3308 F4FB 48                      asla
 3309 F4FC 48                      asla
 3310 F4FD              L6DEF:
 3311 F4FD 790054                  rol      WKC
 3312 F500 59                      rolb
 3313 F501 48                      asla
 3314 F502 26F9                    bne      L6DEF
 3315 F504              L6DF6:
 3316 F504 08                      inx
 3317 F505 8D05                    bsr      L6DFE
 3318 F507 25EF                    bcs      L6DEA
 3319 F509 9654                    ldaa     WKC
 3320 F50B 39                      rts
 3321                   ;
 3322 F50C              L6DFE:
 3323 F50C BDF772                  jsr      L7064
 3324 F50F 2509                    bcs      L6E0C
 3325 F511 8007                    suba     #$07
 3326 F513 813A                    cmpa     #$3A
 3327 F515 0C                      clc
 3328 F516 2D02                    blt      L6E0C
 3329 F518 8140                    cmpa     #$40
 3330 F51A              L6E0C:
 3331 F51A 39                      rts
 3332                   ;
 3333 F51B              L6E0D:
 3334 F51B E100                    cmpb     $00,x
 3335 F51D 2602                    bne      L6E13
 3336 F51F A101                    cmpa     $01,x
 3337 F521              L6E13:
 3338 F521 39                      rts
 3339                   ;
 3340 F522              L6E14:
 3341 F522 DF56                    stx      XS
 3342 F524 CEFE36                  ldx      #XS2
 3343 F527              L6E19:
 3344 F527 9F58                    sts      SPS
 3345 F529 0F                      sei
 3346 F52A              L6E1C:
 3347 F52A 9E56                    lds      XS
 3348 F52C 34                      des
 3349 F52D 08                      inx
 3350 F52E              L6E20:
 3351 F52E 08                      inx
 3352 F52F 32                      pula
 3353 F530 16                      tab
 3354 F531 E000                    subb     $00,x
 3355 F533 58                      aslb
 3356 F534 270E                    beq      L6E36
 3357 F536              L6E28:
 3358 F536 E600                    ldab     $00,x
 3359 F538 08                      inx
 3360 F539 2AFB                    bpl      L6E28
 3361 F53B 812E                    cmpa     #'.
 3362 F53D 2708                    beq      L6E39
 3363 F53F 53                      comb
 3364 F540 26E8                    bne      L6E1C
 3365 F542 2006                    bra      L6E3C
 3366                   ;
 3367 F544              L6E36:
 3368 F544 24E8                    bcc      L6E20
 3369 F546 08                      inx
 3370 F547              L6E39:
 3371 F547 31                      ins
 3372 F548 9F56                    sts      XS
 3373 F54A              L6E3C:
 3374 F54A 9E58                    lds      SPS
 3375 F54C 0E                      cli
 3376 F54D 39                      rts
 3377                   ;
 3378 F54E              _PRINT:
 3379 F54E 7F0066                  clr      WKUSE
 3380 F551 8D22                    bsr      L6E67
 3381 F553 2723                    beq      L6E6A
 3382 F555              L6E47:
 3383 F555 8D42                    bsr      L6E8B
 3384 F557 2708                    beq      L6E53
 3385 F559 DF56                    stx      XS
 3386 F55B CEFE3E                  ldx      #L7740
 3387 F55E BDF7DE                  jsr      L70D0
 3388 F561              L6E53:
 3389 F561 8D12                    bsr      L6E67
 3390 F563 2713                    beq      L6E6A
 3391 F565 813B                    cmpa     #';
 3392 F567 2706                    beq      L6E61
 3393 F569 812C                    cmpa     #',
 3394 F56B 2645                    bne      L6EA4
 3395 F56D 8D0F                    bsr      L6E70
 3396 F56F              L6E61:
 3397 F56F 08                      inx
 3398 F570 8D03                    bsr      L6E67
 3399 F572 26E1                    bne      L6E47
 3400 F574 39                      rts
 3401 F575              L6E67:
 3402 F575 7EF6B1                  jmp      L6FA3
 3403 F578              L6E6A:
 3404 F578 7EFB0B                  jmp      NWLINE
 3405                   ;
 3406 F57B              L6E6D:
 3407 F57B BDFA94                  jsr      L7386
 3408 F57E              L6E70:
 3409 F57E 9665                    ldaa     CHCT
 3410 F580 8507                    bita     #$07
 3411 F582 26F7                    bne      L6E6D
 3412 F584 39                      rts
 3413 F585              CHR:
 3414 F585 BDF924                  jsr      L7216
 3415 F588              L6E7A:
 3416 F588 7EF672                  jmp      L6F64
 3417 F58B              TAB:
 3418 F58B BDF924                  jsr      L7216
 3419 F58E 16                      tab
 3420 F58F 2003                    bra      L6E86
 3421                   ;
 3422 F591              L6E83:
 3423 F591 BDFA94                  jsr      L7386
 3424 F594              L6E86:
 3425 F594 D165                    cmpb     CHCT
 3426 F596 22F9                    bhi      L6E83
 3427 F598 39                      rts
 3428                   ;
 3429 F599              L6E8B:
 3430 F599 8DDA                    bsr      L6E67
 3431 F59B 8122                    cmpa     #'"
 3432 F59D 2704                    beq      L6E95
 3433 F59F 8127                    cmpa     #$27
 3434 F5A1 260E                    bne      L6EA3
 3435 F5A3              L6E95:
 3436 F5A3 16                      tab
 3437 F5A4 08                      inx
 3438 F5A5 2002                    bra      L6E9B
 3439                   ;
 3440 F5A7              L6E99:
 3441 F5A7 8DDF                    bsr      L6E7A
 3442 F5A9              L6E9B:
 3443 F5A9 A600                    ldaa     $00,x
 3444 F5AB 2705                    beq      L6EA4
 3445 F5AD 08                      inx
 3446 F5AE 11                      cba
 3447 F5AF 26F6                    bne      L6E99
 3448 F5B1              L6EA3:
 3449 F5B1 39                      rts
 3450                   ;
 3451 F5B2              L6EA4:
 3452 F5B2 C604                    ldab     #$04
 3453 F5B4 8C                      FCB      $8C
 3454 F5B5              L6EA7:
 3455 F5B5 C605                    LDAB     #$05
 3456 F5B7 7EFB29                  jmp      ERRMSG
 3457                   ;
 3458 F5BA              L6EAC:
 3459 F5BA A600                    ldaa     $00,x
 3460 F5BC AA01                    oraa     $01,x
 3461 F5BE 27F5                    beq      L6EA7
 3462 F5C0 8D44                    bsr      L6EF8
 3463 F5C2 8D30                    bsr      L6EE6
 3464 F5C4 49                      rola
 3465 F5C5 40                      nega
 3466 F5C6 16                      tab
 3467 F5C7 8D30                    bsr      L6EEB
 3468 F5C9 49                      rola
 3469 F5CA 8801                    eora     #$01
 3470 F5CC 46                      rora
 3471 F5CD 8D20                    bsr      L6EE1
 3472 F5CF 975B                    staa     $5B
 3473 F5D1 D75A                    stab     $5A
 3474 F5D3 BDF51B                  jsr      L6E0D
 3475 F5D6 2608                    bne      L6ED2
 3476 F5D8 4F                      clra
 3477 F5D9 16                      tab
 3478 F5DA 6C03                    inc      $03,x
 3479 F5DC 2602                    bne      L6ED2
 3480 F5DE 6C02                    inc      $02,x
 3481 F5E0              L6ED2:
 3482 F5E0 08                      inx
 3483 F5E1 08                      inx
 3484 F5E2 39                      rts
 3485                   ;
 3486 F5E3              L6ED5:
 3487 F5E3 8D21                    bsr      L6EF8
 3488 F5E5              L6ED7:
 3489 F5E5 8D0D                    bsr      L6EE6
 3490 F5E7 49                      rola
 3491 F5E8 59                      rolb
 3492 F5E9 A001                    suba     $01,x
 3493 F5EB E200                    sbcb     $00,x
 3494 F5ED 8D0A                    bsr      L6EEB
 3495 F5EF              L6EE1:
 3496 F5EF 7A0064                  dec      LPCT
 3497 F5F2 26F1                    bne      L6ED7
 3498 F5F4              L6EE6:
 3499 F5F4 6903                    rol      $03,x
 3500 F5F6 6902                    rol      $02,x
 3501 F5F8 39                      rts
 3502                   ;
 3503 F5F9              L6EEB:
 3504 F5F9 37                      pshb
 3505 F5FA E800                    eorb     $00,x
 3506 F5FC 33                      pulb
 3507 F5FD 0D                      sec
 3508 F5FE 2A05                    bpl      L6EF7
 3509 F600              L6EF2:
 3510 F600 AB01                    adda     $01,x
 3511 F602 E900                    adcb     $00,x
 3512 F604 0C                      clc
 3513 F605              L6EF7:
 3514 F605 39                      rts
 3515                   ;
 3516 F606              L6EF8:
 3517 F606 8610                    ldaa     #$10
 3518 F608 9764                    staa     LPCT
 3519 F60A 4F                      clra
 3520 F60B 5F                      clrb
 3521 F60C 39                      rts
 3522                   ;
 3523 F60D              L6EFF:
 3524 F60D 8DF7                    bsr      L6EF8
 3525 F60F              L6F01:
 3526 F60F 48                      asla
 3527 F610 59                      rolb
 3528 F611 6901                    rol      $01,x
 3529 F613 6900                    rol      $00,x
 3530 F615 2404                    bcc      L6F0D
 3531 F617 AB03                    adda     $03,x
 3532 F619 E902                    adcb     $02,x
 3533 F61B              L6F0D:
 3534 F61B 7A0064                  dec      LPCT
 3535 F61E 26EF                    bne      L6F01
 3536 F620 08                      inx
 3537 F621 08                      inx
 3538 F622 7EF6F2                  jmp      L6FE4
 3539                   ;
 3540 F625              L6F17:
 3541 F625 EE00                    ldx      $00,x
 3542 F627 DF52                    stx      WKB
 3543 F629 CE0052                  ldx      #WKB
 3544 F62C 8D4A                    bsr      L6F6D
 3545 F62E 2506                    bcs      L6F28
 3546 F630 D666                    ldab     WKUSE
 3547 F632 2706                    beq      L6F2C
 3548 F634 17                      tba
 3549                   
 3550 F635 8C                      FCB      $8C
 3551 F636              L6F28:
 3552 F636 8602                    LDAA     #2D
 3553 F638 8D38                    bsr      L6F64
 3554 F63A              L6F2C:
 3555 F63A 09                      dex
 3556 F63B 09                      dex
 3557 F63C C60A                    ldab     #$0A
 3558 F63E E701                    stab     $01,x
 3559 F640 6F00                    clr      $00,x
 3560 F642 57                      asrb
 3561 F643              L6F35:
 3562 F643 37                      pshb
 3563 F644 8D9D                    bsr      L6ED5
 3564 F646 33                      pulb
 3565 F647 36                      psha
 3566 F648 5A                      decb
 3567 F649 26F8                    bne      L6F35
 3568 F64B CE0078                  ldx      #XSP+8
 3569 F64E C604                    ldab     #$04
 3570 F650              L6F42:
 3571 F650 9664                    ldaa     LPCT
 3572 F652 32                      pula
 3573 F653 260D                    bne      L6F54
 3574 F655 9764                    staa     LPCT
 3575 F657 2609                    bne      L6F54
 3576 F659 7D0066                  tst      WKUSE
 3577 F65C 2706                    beq      L6F56
 3578 F65E 9667                    ldaa     $67
 3579 F660 8030                    suba     #$30
 3580 F662              L6F54:
 3581 F662 8D04                    bsr      L6F5A
 3582 F664              L6F56:
 3583 F664 5A                      decb
 3584 F665 26E9                    bne      L6F42
 3585 F667 32                      pula
 3586 F668              L6F5A:
 3587 F668 8B30                    adda     #$30
 3588 F66A 7D0063                  tst      FAUT
 3589 F66D 2703                    beq      L6F64
 3590 F66F A700                    staa     $00,x
 3591 F671 08                      inx
 3592 F672              L6F64:
 3593 F672 7C0065                  inc      CHCT
 3594                   *       jsr     OUTEEE  <--
 3595 F675 7EED32                  jmp      T_OUT       <--
 3596                   ;
 3597 F678              L6F6D:
 3598 F678 6D00                    tst      $00,x
 3599 F67A 2A08                    bpl      L6F79
 3600 F67C              L6F71:
 3601 F67C 6001                    neg      $01,x
 3602 F67E 2602                    bne      L6F77
 3603 F680 6A00                    dec      $00,x
 3604 F682              L6F77:
 3605 F682 6300                    com      $00,x
 3606 F684              L6F79:
 3607 F684 39                      rts
 3608                   ;
 3609 F685              L6F7A:
 3610 F685 8140                    cmpa     #'@
 3611 F687 2503                    bcs      L6F81
 3612 F689 815B                    cmpa     #'[
 3613 F68B 39                      rts
 3614                   ;
 3615 F68C              L6F81:
 3616 F68C 0C                      clc
 3617 F68D 39                      rts
 3618                   ;
 3619 F68E              L6F83:
 3620 F68E 8D21                    bsr      L6FA3
 3621 F690 DF56                    stx      XS
 3622 F692 8121                    cmpa     #'!
 3623 F694 2726                    beq      L6FAE
 3624 F696 812E                    cmpa     #'.
 3625 F698 2722                    beq      L6FAE
 3626 F69A 812A                    cmpa     #'*
 3627 F69C 271E                    beq      L6FAE
 3628 F69E 8DE5                    bsr      L6F7A
 3629 F6A0 24EA                    bcc      L6F81
 3630 F6A2 A601                    ldaa     $01,x
 3631 F6A4 812E                    cmpa     #'.
 3632 F6A6 2714                    beq      L6FAE
 3633 F6A8 8DDB                    bsr      L6F7A
 3634 F6AA 24E0                    bcc      L6F81
 3635 F6AC 39                      rts
 3636                   ;
 3637 F6AD              L6FA2:
 3638 F6AD 08                      inx
 3639 F6AE BDFEFB                  JSR      IRQON       <--IRQ ON
 3640 F6B1              L6FA3:
 3641 F6B1 A600                    ldaa     $00,x
 3642 F6B3 8120                    cmpa     #$20
 3643 F6B5 27F6                    beq      L6FA2
 3644 F6B7 4D                      tsta
 3645 F6B8 2703                    beq      L6FAF
 3646 F6BA 813A                    cmpa     #':
 3647 F6BC              L6FAE:
 3648 F6BC 0D                      sec
 3649 F6BD              L6FAF:
 3650 F6BD 39                      rts
 3651                   ;
 3652 F6BE              L6FB0:
 3653 F6BE 8DF1                    bsr      L6FA3
 3654 F6C0 812D                    cmpa     #'-
 3655 F6C2 2604                    bne      L6FBA
 3656 F6C4 8D1F                    bsr      L6FD7
 3657 F6C6 2007                    bra      L6FC1
 3658                   ;
 3659 F6C8              L6FBA:
 3660 F6C8 812B                    cmpa     #'+
 3661 F6CA 2701                    beq      L6FBF
 3662 F6CC 09                      dex
 3663 F6CD              L6FBF:
 3664 F6CD 8D4E                    bsr      L700F
 3665 F6CF              L6FC1:
 3666 F6CF DE56                    ldx      XS
 3667 F6D1 8DDE                    bsr      L6FA3
 3668 F6D3 812B                    cmpa     #'+
 3669 F6D5 2606                    bne      L6FCF
 3670 F6D7 8D44                    bsr      L700F
 3671 F6D9              L6FCB:
 3672 F6D9 8D0E                    bsr      L6FDB
 3673 F6DB 20F2                    bra      L6FC1
 3674                   ;
 3675 F6DD              L6FCF:
 3676 F6DD 812D                    cmpa     #'-
 3677 F6DF 2615                    bne      L6FE8
 3678 F6E1 8D02                    bsr      L6FD7
 3679 F6E3 20F4                    bra      L6FCB
 3680                   ;
 3681 F6E5              L6FD7:
 3682 F6E5 8D36                    bsr      L700F
 3683 F6E7 2093                    bra      L6F71
 3684                   ;
 3685 F6E9              L6FDB:
 3686 F6E9 BDF926                  jsr      L7218
 3687 F6EC 08                      inx
 3688 F6ED 08                      inx
 3689 F6EE              L6FE0:
 3690 F6EE AB01                    adda     $01,x
 3691 F6F0 E900                    adcb     $00,x
 3692 F6F2              L6FE4:
 3693 F6F2 A701                    staa     $01,x
 3694 F6F4 E700                    stab     $00,x
 3695 F6F6              L6FE8:
 3696 F6F6 39                      rts
 3697 F6F7              ABS:
 3698 F6F7 BDF813                  jsr      L7105
 3699 F6FA 8D23                    bsr      L7011
 3700 F6FC BDF678                  jsr      L6F6D
 3701 F6FF DE56                    ldx      XS
 3702 F701 39                      rts
 3703                   ;
 3704 F702              L6FF4:
 3705 F702 CA01                    orab     #$01
 3706 F704 8C                      FCB      $8C         <-SKIP
 3707 F705              L6FF7:
 3708 F705 CA02                    orab     #$02
 3709 F707 8C                      FCB      $8C         <-SKIP
 3710 F708              L6FFA:
 3711 F708 CA04                    orab     #$04
 3712 F70A 08                      FCB      $08         <--?
 3713 F70B C1                      FCB      $C1         <--?
 3714 F70C              REL:
 3715 F70C 5F                      clrb
 3716                   
 3717                   
 3718 F70D 8DA2                    bsr      L6FA3
 3719 F70F 813E                    cmpa     #'>
 3720 F711 27EF                    beq      L6FF4
 3721 F713 813D                    cmpa     #'=
 3722 F715 27EE                    beq      L6FF7
 3723 F717 813C                    cmpa     #'<
 3724 F719 27ED                    beq      L6FFA
 3725 F71B 4F                      clra
 3726 F71C 39                      rts
 3727                   ;
 3728 F71D              L700F:
 3729 F71D 8D5E                    bsr      L706F
 3730 F71F              L7011:
 3731 F71F DF56                    stx      XS
 3732 F721 DE72                    ldx      XSP+2
 3733 F723              L7015:
 3734 F723 39                      rts
 3735                   ;
 3736 F724              EXPR:
 3737 F724 8D98                    bsr      L6FB0
 3738 F726 8DE4                    bsr      REL
 3739 F728 5D                      tstb
 3740 F729 27F8                    beq      L7015
 3741 F72B 37                      pshb
 3742 F72C 8D90                    bsr      L6FB0
 3743 F72E BDF926                  jsr      L7218
 3744 F731 DE72                    ldx      XSP+2
 3745 F733 A001                    suba     $01,x
 3746 F735 E200                    sbcb     $00,x
 3747 F737 33                      pulb
 3748 F738 2D07                    blt      LT
 3749 F73A 2E03                    bgt      GT
 3750 F73C 4D                      tsta
 3751 F73D 2701                    beq      EQ
 3752 F73F              GT:
 3753 F73F 57                      asrb
 3754 F740              EQ:
 3755 F740 57                      asrb
 3756 F741              LT:
 3757 F741 C401                    andb     #$01
 3758 F743 E701                    stab     $01,x
 3759 F745 6F00                    clr      $00,x
 3760 F747 DE54                    ldx      WKC
 3761 F749 39                      rts
 3762                   ;
 3763 F74A              GETN:
 3764 F74A 8D26                    bsr      L7064
 3765 F74C 2423                    bcc      L7063
 3766 F74E 5F                      clrb
 3767 F74F D755                    stab     WKC+1
 3768 F751              L7043:
 3769 F751 D754                    stab     WKC
 3770 F753 840F                    anda     #$0F
 3771 F755 9764                    staa     LPCT
 3772 F757 9655                    ldaa     WKC+1
 3773 F759 48                      asla
 3774 F75A 59                      rolb
 3775 F75B 48                      asla
 3776 F75C 59                      rolb
 3777 F75D 9B55                    adda     WKC+1
 3778 F75F D954                    adcb     WKC
 3779 F761 48                      asla
 3780 F762 59                      rolb
 3781 F763 9B64                    adda     LPCT
 3782 F765 9755                    staa     WKC+1
 3783 F767 C900                    adcb     #$00
 3784 F769 08                      inx
 3785 F76A 8D06                    bsr      L7064
 3786 F76C 25E3                    bcs      L7043
 3787 F76E 9655                    ldaa     WKC+1
 3788 F770 0D                      sec
 3789 F771              L7063:
 3790 F771 39                      rts
 3791                   ;
 3792 F772              L7064:
 3793 F772 BDF6B1                  jsr      L6FA3
 3794 F775 8130                    cmpa     #'0
 3795 F777 0C                      clc
 3796 F778 2D02                    blt      L706E
 3797 F77A 813A                    cmpa     #':
 3798 F77C              L706E:
 3799 F77C 39                      rts
 3800                   ;
 3801 F77D              L706F:
 3802 F77D 8D42                    bsr      L70B3
 3803 F77F              L7071:
 3804 F77F BDF6B1                  jsr      L6FA3
 3805 F782 812A                    cmpa     #'*
 3806 F784 260B                    bne      L7083
 3807 F786 8D14                    bsr      L708E
 3808 F788 BDF60D                  jsr      L6EFF
 3809 F78B              L707D:
 3810 F78B DF72                    stx      XSP+2
 3811 F78D DE56                    ldx      XS
 3812 F78F 20EE                    bra      L7071
 3813                   ;
 3814 F791              L7083:
 3815 F791 812F                    cmpa     #'/
 3816 F793 26DC                    bne      L7063
 3817 F795 8D05                    bsr      L708E
 3818 F797 BDF5BA                  jsr      L6EAC
 3819 F79A 20EF                    bra      L707D
 3820                   ;
 3821 F79C              L708E:
 3822 F79C 8D23                    bsr      L70B3
 3823 F79E 7EF71F                  jmp      L7011
 3824                   ;
 3825 F7A1              L7093:
 3826 F7A1 5F                      clrb
 3827 F7A2 D754                    stab     WKC
 3828 F7A4 BDF504                  jsr      L6DF6
 3829 F7A7 2049                    bra      L70E4
 3830                   ;
 3831 F7A9              L709B:
 3832 F7A9 8D16                    bsr      L70B3
 3833 F7AB BDF926                  jsr      L7218
 3834 F7AE 8D75                    bsr      L7117
 3835 F7B0 A600                    ldaa     $00,x
 3836 F7B2 5F                      clrb
 3837 F7B3 203B                    bra      L70E2
 3838                   ;
 3839 F7B5              L70A7:
 3840 F7B5 A102                    cmpa     $02,x
 3841 F7B7 264E                    bne      L70F9
 3842 F7B9 A601                    ldaa     $01,x
 3843 F7BB 5F                      clrb
 3844 F7BC 08                      inx
 3845 F7BD 08                      inx
 3846 F7BE 08                      inx
 3847 F7BF 2031                    bra      L70E4
 3848                   ;
 3849 F7C1              L70B3:
 3850 F7C1 08                      inx
 3851 F7C2 8D86                    bsr      GETN
 3852 F7C4 252C                    bcs      L70E4
 3853 F7C6 8123                    cmpa     #'#
 3854 F7C8 27DF                    beq      L709B
 3855 F7CA 8122                    cmpa     #'"
 3856 F7CC 27E7                    beq      L70A7
 3857 F7CE 8127                    cmpa     #$27
 3858 F7D0 27E3                    beq      L70A7
 3859 F7D2 8124                    cmpa     #'$
 3860 F7D4 27CB                    beq      L7093
 3861 F7D6 BDF68E                  jsr      L6F83
 3862 F7D9 2434                    bcc      L7101
 3863 F7DB CEFDF5                  ldx      #L76F7
 3864 F7DE              L70D0:
 3865 F7DE BDF527                  jsr      L6E19
 3866 F7E1 A601                    ldaa     $01,x
 3867 F7E3 36                      psha
 3868 F7E4 A600                    ldaa     $00,x
 3869 F7E6 36                      psha
 3870 F7E7 DE56                    ldx      XS
 3871 F7E9 39                      rts
 3872                   ;
 3873 F7EA              L70DC:
 3874 F7EA 8D39                    bsr      L7117
 3875 F7EC A601                    ldaa     $01,x
 3876 F7EE E600                    ldab     $00,x
 3877 F7F0              L70E2:
 3878 F7F0 DE56                    ldx      XS
 3879 F7F2              L70E4:
 3880 F7F2 DF54                    stx      WKC
 3881 F7F4 DE72                    ldx      XSP+2
 3882 F7F6 09                      dex
 3883 F7F7 09                      dex
 3884 F7F8 9C6C                    cpx      EOB
 3885 F7FA 2F08                    ble      L70F6
 3886 F7FC              L70EE:
 3887 F7FC BDF6F2                  jsr      L6FE4
 3888 F7FF DF72                    stx      XSP+2
 3889 F801              L70F3:
 3890 F801 DE54                    ldx      WKC
 3891 F803 39                      rts
 3892                   ;
 3893 F804              L70F6:
 3894 F804 C606                    ldab     #$06
 3895 F806 8C                      FCB      $8C         <-SKIP
 3896 F807              L70F9:
 3897 F807 C607                    LDAB     #$07
 3898 F809 8C                      FCB      $8C         <-SKIP
 3899 F80A              L70FC:
 3900 F80A C608                    LDAB     #$08
 3901 F80C 7EFB29                  jmp      ERRMSG
 3902                   ;
 3903 F80F              L7101:
 3904 F80F 8D79                    bsr      L717C
 3905 F811 24D7                    bcc      L70DC
 3906 F813              L7105:
 3907 F813 A600                    ldaa     $00,x
 3908 F815 8128                    cmpa     #'(
 3909 F817 26EE                    bne      L70F9
 3910 F819              L710B:
 3911 F819 08                      inx
 3912 F81A              L710C:
 3913 F81A BDF724                  jsr      EXPR
 3914 F81D              L710F:
 3915 F81D A600                    ldaa     $00,x
 3916 F81F 8129                    cmpa     #')
 3917 F821 26E4                    bne      L70F9
 3918 F823 08                      inx
 3919 F824 39                      rts
 3920                   ;
 3921 F825              L7117:
 3922 F825 DF56                    stx      XS
 3923 F827 9755                    staa     WKC+1
 3924 F829 D754                    stab     WKC
 3925 F82B 20D4                    bra      L70F3
 3926 F82D              MOD:
 3927 F82D BDFBDB                  jsr      L74C8
 3928 F830 2706                    beq      L712A
 3929 F832 D65A                    ldab     MDS
 3930 F834 965B                    ldaa     MDS+1
 3931 F836 20BA                    bra      L70E4
 3932                   ;
 3933 F838              L712A:
 3934 F838 08                      inx
 3935 F839 BDF724                  jsr      EXPR
 3936 F83C 8D0E                    bsr      L713E
 3937 F83E 26CA                    bne      L70FC
 3938 F840 08                      inx
 3939 F841 8DD7                    bsr      L710C
 3940 F843              L7135:
 3941 F843 DF54                    stx      WKC
 3942 F845 DE72                    ldx      XSP+2
 3943 F847 BDF5BA                  jsr      L6EAC
 3944 F84A 20B0                    bra      L70EE
 3945                   ;
 3946 F84C              L713E:
 3947 F84C A600                    ldaa     $00,x
 3948 F84E 812C                    cmpa     #',
 3949 F850 39                      rts
 3950 F851              RND:
 3951 F851 D661                    ldab     RNDS+1
 3952 F853 9660                    ldaa     RNDS
 3953 F855 1B                      aba
 3954 F856 C995                    adcb     #$95
 3955 F858 89AB                    adca     #$AB
 3956 F85A 9761                    staa     RNDS+1
 3957 F85C D760                    stab     RNDS
 3958 F85E 8D92                    bsr      L70E4
 3959 F860 8DB1                    bsr      L7105
 3960 F862 20DF                    bra      L7135
 3961 F864              USER:
 3962 F864 BDFC7D                  jsr      L7567
 3963 F867 8D02                    bsr      L715D
 3964 F869 2085                    bra      L70E2
 3965                   ;
 3966 F86B              L715D:
 3967 F86B 8D16                    bsr      L7175
 3968 F86D 36                      psha
 3969 F86E 37                      pshb
 3970 F86F 8D0D                    bsr      L7170
 3971 F871 36                      psha
 3972 F872 37                      pshb
 3973 F873 8D09                    bsr      L7170
 3974 F875 36                      psha
 3975 F876 37                      pshb
 3976 F877 07                      tpa
 3977 F878 36                      psha
 3978 F879 8DA2                    bsr      L710F
 3979 F87B DF56                    stx      XS
 3980 F87D 3B                      rti
 3981                   ;
 3982 F87E              L7170:
 3983 F87E 8DCC                    bsr      L713E
 3984 F880 2604                    bne      L7178
 3985 F882 08                      inx
 3986 F883              L7175:
 3987 F883 7EF924                  jmp      L7216
 3988                   ;
 3989 F886              L7178:
 3990 F886 4F                      clra
 3991 F887 5F                      clrb
 3992 F888              L717A:
 3993 F888 0D                      sec
 3994 F889 39                      rts
 3995                   ;
 3996 F88A              L717C:
 3997 F88A BDF6B1                  jsr      L6FA3
 3998 F88D 8125                    cmpa     #'%
 3999 F88F 270E                    beq      L7191
 4000 F891 8140                    cmpa     #'@
 4001 F893 25F3                    bcs      L717A
 4002 F895 815D                    cmpa     #']
 4003 F897 22EF                    bhi      L717A
 4004 F899 843F                    anda     #'?
 4005 F89B 48                      asla
 4006 F89C 5F                      clrb
 4007 F89D 08                      inx
 4008 F89E 39                      rts
 4009                   ;
 4010 F89F              L7191:
 4011 F89F 08                      inx
 4012 F8A0 BDF772                  jsr      L7064
 4013 F8A3 2439                    bcc      L71D0
 4014 F8A5 08                      inx
 4015 F8A6 BDFBDB                  jsr      L74C8
 4016 F8A9 2707                    beq      L71A4
 4017 F8AB              L719D:
 4018 F8AB 840F                    anda     #$0F
 4019 F8AD 48                      asla
 4020 F8AE 8B3C                    adda     #$3C
 4021 F8B0 5F                      clrb
 4022 F8B1 39                      rts
 4023                   ;
 4024 F8B2              L71A4:
 4025 F8B2 36                      psha
 4026 F8B3 BDF819                  jsr      L710B
 4027 F8B6 32                      pula
 4028 F8B7 8DF2                    bsr      L719D
 4029 F8B9 BDF825                  jsr      L7117
 4030 F8BC BDF928                  jsr      L721A
 4031 F8BF 48                      asla
 4032 F8C0 59                      rolb
 4033 F8C1 BDF600                  jsr      L6EF2
 4034 F8C4 DE56                    ldx      XS
 4035 F8C6 39                      rts
 4036                   ;
 4037 F8C7              L71B9:
 4038 F8C7 BDF88A                  jsr      L717C
 4039 F8CA 2515                    bcs      L71D3
 4040 F8CC              L71BE:
 4041 F8CC 9753                    staa     WKB+1
 4042 F8CE D752                    stab     WKB
 4043 F8D0 A600                    ldaa     $00,x
 4044 F8D2 813D                    cmpa     #'=
 4045 F8D4 260B                    bne      L71D3
 4046 F8D6 08                      inx
 4047 F8D7 8D4B                    bsr      L7216
 4048 F8D9 DF56                    stx      XS
 4049 F8DB DE52                    ldx      WKB
 4050 F8DD 39                      rts
 4051                   ;
 4052 F8DE              L71D0:
 4053 F8DE C60E                    ldab     #$0E
 4054 F8E0 8C                      FCB      $8C         <-SKIP
 4055 F8E1              L71D3:
 4056 F8E1 C609                    LDAB     #$09
 4057 F8E3 8C                      FCB      $8c         <-SKIP
 4058 F8E4              L71D6:
 4059 F8E4 C60A                    LDAB     #$0A
 4060 F8E6 7EFB29                  jmp      ERRMSG
 4061 F8E9              THEN:
 4062 F8E9 7F005F                  clr      FS+3
 4063 F8EC BDF74A                  jsr      GETN
 4064 F8EF 2553                    bcs      L7236
 4065 F8F1 7EF4DA                  jmp      STMT3
 4066                   ;
 4067 F8F4              L71E6:
 4068 F8F4 BDF7C1                  jsr      L70B3
 4069 F8F7 8D2D                    bsr      L7218
 4070 F8F9 8DD1                    bsr      L71BE
 4071 F8FB 16                      tab
 4072 F8FC 2071                    bra      L7261
 4073                   ;
 4074 F8FE              DO:
 4075 F8FE 9F58                    sts      SPS
 4076 F900 0F                      sei
 4077 F901 35                      txs
 4078 F902 DE70                    ldx      XSP
 4079 F904 8C3F4A                  cpx      #_STACK+3
 4080 F907 27DB                    beq      L71D6
 4081 F909 09                      dex
 4082 F90A 09                      dex
 4083 F90B AF00                    sts      $00,x
 4084 F90D              L71FF:
 4085 F90D DF70                    stx      XSP
 4086 F90F 30                      tsx
 4087 F910 9E58                    lds      SPS
 4088 F912 0E                      cli
 4089 F913 39                      rts
 4090                   ;
 4091 F914              RET:
 4092 F914 DE70                    ldx      XSP
 4093 F916 8C3F80                  cpx      #SUBSTK
 4094 F919 27C9                    beq      L71D6
 4095 F91B 9F58                    sts      SPS
 4096 F91D 0F                      sei
 4097 F91E AE00                    lds      $00,x
 4098 F920 08                      inx
 4099 F921 08                      inx
 4100 F922 20E9                    bra      L71FF
 4101                   ;
 4102 F924              L7216:
 4103 F924 8D16                    bsr      L722E
 4104 F926              L7218:
 4105 F926 DF54                    stx      WKC
 4106 F928              L721A:
 4107 F928 DE72                    ldx      XSP+2
 4108 F92A 8C00C8                  cpx      #CSTACK
 4109 F92D 27B2                    beq      L71D3
 4110 F92F A601                    ldaa     $01,x
 4111 F931 E600                    ldab     $00,x
 4112 F933 08                      inx
 4113 F934 08                      inx
 4114 F935 DF72                    stx      XSP+2
 4115 F937 DE54                    ldx      WKC
 4116 F939              L722B:
 4117 F939 39                      rts
 4118                   ;
 4119 F93A              L722C:
 4120 F93A DE56                    ldx      XS
 4121 F93C              L722E:
 4122 F93C 7EF724                  jmp      EXPR
 4123 F93F              _GOTO:
 4124 F93F 4F                      clra
 4125 F940              GOSUB:
 4126 F940 975F                    staa     FS+3
 4127 F942 8DE0                    bsr      L7216
 4128 F944              L7236:
 4129 F944 BDF3A0                  jsr      L6CA5
 4130 F947 5D                      tstb
 4131 F948 2603                    bne      L723F
 4132 F94A 4D                      tsta
 4133 F94B 27EC                    beq      L722B
 4134 F94D              L723F:
 4135 F94D 7D005F                  tst      FS+3
 4136 F950 2702                    beq      L7246
 4137 F952 8DAA                    bsr      DO
 4138 F954              L7246:
 4139 F954 DE6E                    ldx      EADRS
 4140 F956 BDF51B                  jsr      L6E0D
 4141 F959 2403                    bcc      L7250
 4142 F95B 76006E                  ror      EADRS
 4143 F95E              L7250:
 4144 F95E BDF48D                  jsr      L6D7D
 4145 F961 2558                    bcs      L72AD
 4146 F963 7EF4CF                  jmp      STMT
 4147                   ;
 4148 F966              L7258:
 4149 F966 8123                    cmpa     #'#
 4150 F968 278A                    beq      L71E6
 4151 F96A              L725C:
 4152 F96A BDF8C7                  jsr      L71B9
 4153 F96D A701                    staa     $01,x
 4154 F96F              L7261:
 4155 F96F E700                    stab     $00,x
 4156 F971 DE56                    ldx      XS
 4157 F973 39                      rts
 4158 F974              FOR:
 4159 F974 8DF4                    bsr      L725C
 4160 F976 9653                    ldaa     WKB+1
 4161 F978 D652                    ldab     WKB
 4162 F97A BDF7F2                  jsr      L70E4
 4163 F97D BDF522                  jsr      L6E14
 4164 F980 8CFE3A                  cpx      #L773C
 4165 F983 2633                    bne      L72AA
 4166 F985 8DB3                    bsr      L722C
 4167 F987 BDF522                  jsr      L6E14
 4168 F98A 8CFE40                  cpx      #L7742
 4169 F98D 2708                    beq      L7289
 4170 F98F 8601                    ldaa     #$01
 4171 F991 5F                      clrb
 4172 F992 BDF7F0                  jsr      L70E2
 4173 F995 2004                    bra      L728D
 4174                   ;
 4175 F997              L7289:
 4176 F997 8DA1                    bsr      L722C
 4177 F999 DF56                    stx      XS
 4178 F99B              L728D:
 4179 F99B 9657                    ldaa     XS+1
 4180 F99D D656                    ldab     XS
 4181 F99F BDF7F2                  jsr      L70E4
 4182 F9A2 9653                    ldaa     WKB+1
 4183 F9A4 D652                    ldab     WKB
 4184 F9A6 DE74                    ldx      XSP+4
 4185 F9A8 8C3FC0                  cpx      #MONSTK
 4186 F9AB 2718                    beq      L72B7
 4187 F9AD 8D1A                    bsr      L72BB
 4188 F9AF 2412                    bcc      L72B5
 4189 F9B1 DE74                    ldx      XSP+4
 4190 F9B3 8C00C8                  cpx      #CSTACK
 4191 F9B6 260D                    bne      L72B7
 4192 F9B8              L72AA:
 4193 F9B8 C60C                    ldab     #$0C
 4194 F9BA 8C                      FCB      $8C         <-SKIP
 4195 F9BB              L72AD:
 4196 F9BB C60B                    LDAB     #$0B
 4197 F9BD 8C                      FCB      $8C         <-SKIP
 4198 F9BE C60D                    LDAB     #$0D
 4199 F9C0 7EFB29                  jmp      ERRMSG
 4200                   ;
 4201 F9C3              L72B5:
 4202 F9C3 8D54                    bsr      L730B
 4203 F9C5              L72B7:
 4204 F9C5 8D10                    bsr      L72C9
 4205 F9C7 204B                    bra      L7306
 4206                   ;
 4207 F9C9              L72BB:
 4208 F9C9 BDF51B                  jsr      L6E0D
 4209 F9CC 2708                    beq      L72C8
 4210 F9CE 8D49                    bsr      L730B
 4211 F9D0              L72C2:
 4212 F9D0 8C3FC0                  cpx      #MONSTK
 4213 F9D3 26F4                    bne      L72BB
 4214 F9D5 0D                      sec
 4215 F9D6              L72C8:
 4216 F9D6 39                      rts
 4217                   ;
 4218 F9D7              L72C9:
 4219 F9D7 8D00                    bsr      L72CB
 4220 F9D9              L72CB:
 4221 F9D9 8D00                    bsr      L72CD
 4222 F9DB              L72CD:
 4223 F9DB BDF926                  jsr      L7218
 4224 F9DE 09                      dex
 4225 F9DF 09                      dex
 4226 F9E0 7EF6F2                  jmp      L6FE4
 4227 F9E3              NEXT:
 4228 F9E3 BDF88A                  jsr      L717C
 4229 F9E6 DF56                    stx      XS
 4230 F9E8 DE74                    ldx      XSP+4
 4231 F9EA 2404                    bcc      L72E2
 4232 F9EC A601                    ldaa     $01,x
 4233 F9EE E600                    ldab     $00,x
 4234 F9F0              L72E2:
 4235 F9F0 8DDE                    bsr      L72C2
 4236 F9F2 25                      FCB      $25
 4237 F9F3 CA                      FCB      $CA
 4238 F9F4 DF74                    stx      XSP+4
 4239 F9F6 A605                    ldaa     $05,x
 4240 F9F8 E604                    ldab     $04,x
 4241 F9FA EE00                    ldx      $00,x
 4242 F9FC BDF6EE                  jsr      L6FE0
 4243 F9FF DE74                    ldx      XSP+4
 4244 FA01 E102                    cmpb     $02,x
 4245 FA03 0D                      sec
 4246 FA04 2D07                    blt      L72FF
 4247 FA06 0C                      clc
 4248 FA07 2E04                    bgt      L72FF
 4249 FA09 A103                    cmpa     $03,x
 4250 FA0B 2715                    beq      L7314
 4251 FA0D              L72FF:
 4252 FA0D 46                      rora
 4253 FA0E A804                    eora     $04,x
 4254 FA10 2B10                    bmi      L7314
 4255 FA12 8D05                    bsr      L730B
 4256 FA14              L7306:
 4257 FA14 DF74                    stx      XSP+4
 4258 FA16 DE56                    ldx      XS
 4259 FA18 39                      rts
 4260                   ;
 4261 FA19              L730B:
 4262 FA19 08                      inx
 4263 FA1A 08                      inx
 4264 FA1B 08                      inx
 4265 FA1C 08                      inx
 4266 FA1D 08                      inx
 4267 FA1E 08                      inx
 4268 FA1F 08                      inx
 4269 FA20 08                      inx
 4270 FA21 39                      rts
 4271                   ;
 4272 FA22              L7314:
 4273 FA22 EE06                    ldx      $06,x
 4274 FA24 39                      rts
 4275 FA25              INPUT:
 4276 FA25 DF52                    stx      WKB
 4277 FA27 9652                    ldaa     WKB
 4278 FA29 2756                    beq      L7373
 4279 FA2B DE6C                    ldx      EOB
 4280 FA2D DF50                    stx      WKA
 4281 FA2F DE52                    ldx      WKB
 4282 FA31 BDF599                  jsr      L6E8B
 4283 FA34 2602                    bne      L732A
 4284 FA36 8D4C                    bsr      L7376
 4285 FA38              L732A:
 4286 FA38 BDF88A                  jsr      L717C
 4287 FA3B 2544                    bcs      L7373
 4288 FA3D 36                      psha
 4289 FA3E 37                      pshb
 4290 FA3F DF52                    stx      WKB
 4291 FA41 DE50                    ldx      WKA
 4292 FA43 8D4C                    bsr      L7383
 4293 FA45 2609                    bne      L7342
 4294 FA47              L7339:
 4295 FA47 863F                    ldaa     #$3F
 4296 FA49 8D4B                    bsr      L7388
 4297 FA4B 8D47                    bsr      L7386
 4298 FA4D BDF32C                  jsr      L6C2C
 4299 FA50              L7342:
 4300 FA50 BDF6B1                  jsr      L6FA3
 4301 FA53 8124                    cmpa     #'$
 4302 FA55 2504                    bcs      L734D
 4303 FA57 815B                    cmpa     #'[
 4304 FA59 250A                    bcs      L7357
 4305 FA5B              L734D:
 4306 FA5B DF54                    stx      WKC
 4307 FA5D CEFD43                  ldx      #L7645
 4308 FA60 BDFB10                  jsr      L7402
 4309 FA63 20E2                    bra      L7339
 4310                   ;
 4311 FA65              L7357:
 4312 FA65 BDF924                  jsr      L7216
 4313 FA68 8D1A                    bsr      L7376
 4314 FA6A DF50                    stx      WKA
 4315 FA6C 30                      tsx
 4316 FA6D EE00                    ldx      $00,x
 4317 FA6F 31                      ins
 4318 FA70 31                      ins
 4319 FA71 BDF6F2                  jsr      L6FE4
 4320 FA74 DE52                    ldx      WKB
 4321 FA76 8D19                    bsr      L7383
 4322 FA78 270F                    beq      L737B
 4323 FA7A 812C                    cmpa     #',
 4324 FA7C 2603                    bne      L7373
 4325 FA7E 08                      inx
 4326 FA7F 20B7                    bra      L732A
 4327 FA81              L7373:
 4328 FA81 7EF359                  jmp      L6C59
 4329                   ;
 4330 FA84              L7376:
 4331 FA84 8D04                    bsr      L737C
 4332 FA86 2601                    bne      L737B
 4333 FA88 08                      inx
 4334 FA89              L737B:
 4335 FA89 39                      rts
 4336                   ;
 4337 FA8A              L737C:
 4338 FA8A 36                      psha
 4339 FA8B 8D04                    bsr      L7383
 4340 FA8D 812C                    cmpa     #',
 4341 FA8F 32                      pula
 4342 FA90 39                      rts
 4343 FA91              L7383:
 4344 FA91 7EF6B1                  jmp      L6FA3
 4345                   ;
 4346 FA94              L7386:
 4347 FA94 8620                    ldaa     #$20
 4348 FA96              L7388:
 4349 FA96 7EF672                  jmp      L6F64
 4350                   ;
 4351 FA99              L738B:
 4352 FA99 8D00                    bsr      L738D
 4353 FA9B              L738D:
 4354 FA9B DF54                    stx      WKC
 4355 FA9D CE0020                  ldx      #$20        <--DELAY
 4356 FAA0              L7392:
 4357 FAA0 09                      dex
 4358 FAA1 26FD                    bne      L7392
 4359 FAA3 DE54                    ldx      WKC
 4360 FAA5 39                      rts
 4361                   ;
 4362 FAA6              L7398:
 4363 FAA6 8612                    ldaa     #$12
 4364 FAA8 8DEC                    bsr      L7388
 4365 FAAA 975C                    staa     FS
 4366 FAAC 8DEB                    bsr      L738B
 4367 FAAE 2003                    bra      L73A5
 4368 FAB0              LIST:
 4369 FAB0 7F005C                  clr      FS
 4370 FAB3              L73A5:
 4371 FAB3 5F                      clrb
 4372 FAB4 D766                    stab     WKUSE
 4373 FAB6 8601                    ldaa     #$01
 4374 FAB8 BDF3A0                  jsr      L6CA5
 4375 FABB C67F                    ldab     #$7F
 4376 FABD 86FF                    ldaa     #$FF
 4377 FABF 36                      psha
 4378 FAC0 8DCF                    bsr      L7383
 4379 FAC2 32                      pula
 4380 FAC3 270E                    beq      L73C5
 4381 FAC5 BDF924                  jsr      L7216
 4382 FAC8 BDF3A0                  jsr      L6CA5
 4383 FACB 8DBD                    bsr      L737C
 4384 FACD 2604                    bne      L73C5
 4385 FACF 08                      inx
 4386 FAD0 BDF924                  jsr      L7216
 4387 FAD3              L73C5:
 4388 FAD3 9759                    staa     SPS+1
 4389 FAD5 D758                    stab     SPS
 4390 FAD7 DE58                    ldx      SPS
 4391 FAD9 2E05                    bgt      L73D2
 4392 FADB CE7FFF                  ldx      #$7FFF      <--
 4393 FADE DF58                    stx      SPS
 4394 FAE0              L73D2:
 4395 FAE0 BDF491                  jsr      L6D81
 4396 FAE3 8C                      FCB      $8C
 4397 FAE4              L73D6
 4398 FAE4 8D13                    FDB      $8D13
 4399 FAE6 9659                    ldaa     SPS+1
 4400 FAE8 D658                    ldab     SPS
 4401 FAEA BDF51B                  jsr      L6E0D
 4402 FAED 24F5                    bcc      L73D6
 4403 FAEF DF54                    stx      WKC
 4404 FAF1 CEFD29                  ldx      #L762B      <--STOP PUNCH
 4405 FAF4 8D1A                    bsr      L7402
 4406 FAF6              C9:
 4407 FAF6 7EF3D1                  jmp      END
 4408                   ;
 4409 FAF9              LISTX:
 4410 FAF9 8602                    ldaa     #$02
 4411 FAFB 8D99                    bsr      L7388
 4412 FAFD 8D19                    bsr      PNUM9
 4413 FAFF 08                      inx
 4414 FB00 8620                    ldaa     #$20
 4415 FB02 8D1B                    bsr      PD2
 4416 FB04 8D05                    bsr      NWLINE
 4417 FB06 965C                    ldaa     FS
 4418 FB08 2691                    bne      L738D
 4419 FB0A 39                      rts
 4420                   ;
 4421 FB0B              NWLINE:
 4422 FB0B DF54                    stx      WKC
 4423 FB0D CEFD40                  ldx      #_CRLF
 4424 FB10              L7402:
 4425 FB10 8D11                    bsr      PD
 4426 FB12 7F0065                  clr      CHCT
 4427 FB15              LX2:
 4428 FB15 DE54                    ldx      WKC
 4429 FB17 39                      rts
 4430                   ;
 4431 FB18              PNUM9:
 4432 FB18 DF54                    stx      WKC
 4433 FB1A              L740C:
 4434 FB1A BDF625                  jsr      L6F17
 4435 FB1D 20F6                    bra      LX2
 4436                   ;
 4437 FB1F              PD2:
 4438 FB1F BDF672                  jsr      L6F64
 4439 FB22 08                      inx
 4440 FB23              PD:
 4441 FB23 A600                    ldaa     $00,x
 4442 FB25 26F8                    bne      PD2
 4443 FB27 08                      inx
 4444 FB28 39                      rts
 4445                   ;
 4446 FB29              ERRMSG:
 4447 FB29 8E3F47                  lds      #_STACK
 4448 FB2C 8DDD                    bsr      NWLINE
 4449 FB2E CEFD2D                  ldx      #ERR
 4450 FB31 8DF0                    bsr      PD
 4451 FB33 17                      tba
 4452 FB34 5F                      clrb
 4453 FB35 D766                    stab     WKUSE
 4454 FB37 8D17                    bsr      PRACC
 4455 FB39 DE6E                    ldx      EADRS
 4456 FB3B 2BB9                    bmi      C9
 4457 FB3D 8DCC                    bsr      NWLINE
 4458 FB3F 8DB8                    bsr      LISTX
 4459 FB41 20B3                    bra      C9
 4460 FB43              USING:
 4461 FB43 E600                    ldab     $00,x
 4462 FB45 D766                    stab     WKUSE
 4463 FB47 E601                    ldab     $01,x
 4464 FB49 D767                    stab     WKUSE+1
 4465 FB4B 08                      inx
 4466 FB4C 08                      inx
 4467 FB4D              PREXPR:
 4468 FB4D BDF924                  jsr      L7216
 4469 FB50              PRACC:
 4470 FB50 36                      psha
 4471 FB51 37                      pshb
 4472 FB52 DF54                    stx      WKC
 4473 FB54 30                      tsx
 4474 FB55 8DC3                    bsr      L740C
 4475 FB57 33                      pulb
 4476 FB58 32                      pula
 4477 FB59 7F0066                  clr      WKUSE
 4478 FB5C 39                      rts
 4479                   ;
 4480 FB5D              L744F:
 4481 FB5D 44                      lsra
 4482 FB5E 44                      lsra
 4483 FB5F 44                      lsra
 4484 FB60 44                      lsra
 4485 FB61              L7453:
 4486 FB61 840F                    anda     #$0F
 4487 FB63 810A                    cmpa     #$0A
 4488 FB65 2502                    bcs      L745B
 4489 FB67 8B07                    adda     #$07
 4490 FB69              L745B:
 4491 FB69 8B30                    adda     #$30
 4492 FB6B              L745D:
 4493 FB6B 7EF672                  jmp      L6F64
 4494                   ;
 4495 FB6E              L7460:
 4496 FB6E 36                      psha
 4497 FB6F 17                      tba
 4498 FB70 8D01                    bsr      L7465
 4499 FB72 32                      pula
 4500 FB73              L7465:
 4501 FB73 36                      psha
 4502 FB74 8DE7                    bsr      L744F
 4503 FB76 32                      pula
 4504 FB77 20E8                    bra      L7453
 4505 FB79              HD:
 4506 FB79 8624                    ldaa     #$24
 4507 FB7B 8DEE                    bsr      L745D
 4508 FB7D A600                    ldaa     $00,x
 4509 FB7F 08                      inx
 4510 FB80 8154                    cmpa     #'T
 4511 FB82 2708                    beq      L747E
 4512 FB84 BDF924                  jsr      L7216
 4513 FB87 8DE5                    bsr      L7460
 4514 FB89              L747B:
 4515 FB89 7EFA94                  jmp      L7386
 4516                   ;
 4517 FB8C              L747E:
 4518 FB8C BDF924                  jsr      L7216
 4519 FB8F 8DE2                    bsr      L7465
 4520 FB91 20F6                    bra      L747B
 4521 FB93              GET:
 4522 FB93 BDF35E                  jsr      L6C5E
 4523 FB96 5F                      clrb
 4524 FB97 7EF7F2                  jmp      L70E4
 4525 FB9A              COPY:
 4526 FB9A BDE871                  jsr      CLRALL
 4527 FB9D 2023                    bra      L74AF
 4528 FB9F              GRA:
 4529 FB9F BDEF6A                  jsr      L6973
 4530 FBA2 C61A                    LDAB     #$1A        <--GCRAM
 4531 FBA4 BDE864                  JSR      CLRCO1
 4532 FBA7 2019                    bra      L74AF
 4533 FBA9              PIX:
 4534 FBA9 8D46                    bsr      L74DE
 4535 FBAB 8D35                    bsr      L74CF
 4536 FBAD BDEFEF                  jsr      VM_PIX
 4537 FBB0 17                      tba
 4538 FBB1 5F                      clrb
 4539 FBB2 DE56                    ldx      XS
 4540 FBB4 7EF7F2                  jmp      L70E4
 4541 FBB7              EXM:
 4542 FBB7 A600                    ldaa     $00,x
 4543 FBB9 8157                    cmpa     #'W
 4544 FBBB 2608                    bne      L74B2
 4545 FBBD 8D21                    bsr      L74CD
 4546 FBBF BDEFF7                  jsr      VM_WH
 4547 FBC2              L74AF:
 4548 FBC2 DE56                    ldx      XS
 4549 FBC4 39                      rts
 4550                   ;
 4551 FBC5              L74B2:
 4552 FBC5 8142                    cmpa     #'B
 4553 FBC7 2607                    bne      L74BD
 4554 FBC9 8D15                    bsr      L74CD
 4555 FBCB BDEFFD                  jsr      VM_BL
 4556 FBCE 20F2                    bra      L74AF
 4557                   ;
 4558 FBD0              L74BD:
 4559 FBD0 8152                    cmpa     #'R
 4560 FBD2 266A                    bne      L7528
 4561 FBD4 8D0A                    bsr      L74CD
 4562 FBD6 BDF004                  jsr      VM_REV
 4563 FBD9 20E7                    bra      L74AF
 4564                   ;
 4565 FBDB              L74C8:
 4566 FBDB E600                    ldab     $00,x
 4567 FBDD C128                    cmpb     #'(
 4568 FBDF 39                      rts
 4569                   ;
 4570 FBE0              L74CD:
 4571 FBE0 8D09                    bsr      L74D8
 4572 FBE2              L74CF:
 4573 FBE2 81C0                    cmpa     #$C0
 4574 FBE4 2419                    bcc      L74EC
 4575 FBE6 C1A6                    cmpb     #$A6
 4576 FBE8 2415                    bcc      L74EC
 4577 FBEA 39                      rts
 4578                   ;
 4579 FBEB              L74D8:
 4580 FBEB 08                      inx
 4581 FBEC 8DED                    bsr      L74C8
 4582 FBEE 2654                    bne      L752E       <--ERR9
 4583 FBF0              L74DD:
 4584 FBF0 08                      inx
 4585 FBF1              L74DE:
 4586 FBF1 BDFC86                  jsr      L7570
 4587 FBF4 DA5C                    orab     FS
 4588 FBF6 2607                    bne      L74EC
 4589 FBF8 16                      tab
 4590 FBF9 965D                    ldaa     FS+1
 4591 FBFB 39                      rts
 4592                   ;
 4593 FBFC C60F                    ldab     #$0F
 4594 FBFE 8C                      FCB      $8C         <-SKIP
 4595 FBFF              L74EC:
 4596 FBFF C610                    LDAB     #$10
 4597 FC01 7EFB29                  jmp      ERRMSG
 4598                   ;
 4599 FC04              L74F1:
 4600 FC04 24F9                    bcc      L74EC
 4601 FC06 11                      cba
 4602 FC07 2EF6                    bgt      L74EC
 4603 FC09 39                      rts
 4604 FC0A              CLR:
 4605 FC0A BDE862                  JSR      CLRCOL
 4606 FC0D 8DCC                    bsr      L74C8
 4607 FC0F 2608                    bne      L7503
 4608 FC11 8DDD                    bsr      L74DD
 4609 FC13 C11D                    cmpb     #$1D
 4610 FC15 8DED                    bsr      L74F1
 4611 FC17 2006                    bra      L7509
 4612                   ;
 4613 FC19              L7503:
 4614 FC19 4F                      clra
 4615 FC1A C61C                    ldab     #$1C
 4616 FC1C BDEFE3                  jsr      L69EC
 4617 FC1F              L7509:
 4618 FC1F 36                      psha
 4619 FC20 861C                    ldaa     #$1C
 4620 FC22 8D33                    bsr      L7541
 4621 FC24 DF5E                    stx      FS+2
 4622 FC26 4F                      clra
 4623 FC27 33                      pulb
 4624 FC28 8D2D                    bsr      L7541
 4625 FC2A              L7514:
 4626 FC2A BDFECC                  jsr      L77ED
 4627 FC2D C502                    bitb     #$02
 4628 FC2F 2604                    bne      L751F
 4629 FC31 C6A0                    ldab     #$A0
 4630 FC33 E700                    stab     $00,x
 4631 FC35              L751F:
 4632 FC35 08                      inx
 4633 FC36 9C5E                    cpx      FS+2
 4634 FC38 26F0                    bne      L7514
 4635 FC3A 4F                      clra
 4636 FC3B 5F                      clrb
 4637 FC3C 2015                    bra      L753D
 4638 FC3E              L7528:
 4639 FC3E 7EFE59                  jmp      L775B
 4640                   ;
 4641 FC41              L752B:
 4642 FC41 DE56                    ldx      XS
 4643 FC43 39                      rts
 4644 FC44              L752E:
 4645 FC44 7EF8E1                  jmp      L71D3
 4646 FC47              CURS:
 4647 FC47 8D34                    bsr      L7567
 4648 FC49 8DA6                    bsr      L74DE
 4649 FC4B 811D                    cmpa     #$1D
 4650 FC4D 24B0                    bcc      L74EC
 4651 FC4F C11D                    cmpb     #$1D
 4652 FC51 2AAC                    bpl      L74EC
 4653 FC53              L753D:
 4654 FC53 8D02                    bsr      L7541
 4655 FC55 20EA                    bra      L752B
 4656                   ;
 4657 FC57              L7541:
 4658 FC57 BDEE92                  jsr      L689A       <--
 4659 FC5A BDEED5                  jsr      L68DD       <--
 4660 FC5D FE3FC2                  ldx      MONSTK+$02
 4661 FC60 39                      rts
 4662 FC61              SGN:
 4663 FC61 BDF813                  jsr      L7105
 4664 FC64 BDF926                  jsr      L7218
 4665 FC67 5D                      tstb
 4666 FC68 2B0A                    bmi      L755E
 4667 FC6A 2603                    bne      L7559
 4668 FC6C 4D                      tsta
 4669 FC6D 2708                    beq      L7561
 4670 FC6F              L7559:
 4671 FC6F 5F                      clrb
 4672 FC70 8601                    ldaa     #$01
 4673 FC72 2003                    bra      L7561
 4674                   ;
 4675 FC74              L755E:
 4676 FC74 86FF                    ldaa     #$FF
 4677 FC76 16                      tab
 4678 FC77              L7561:
 4679 FC77 7EF7F2                  jmp      L70E4
 4680 FC7A              L7564:
 4681 FC7A 7EF807                  jmp      L70F9
 4682                   ;
 4683 FC7D              L7567:
 4684 FC7D BDFBDB                  jsr      L74C8
 4685 FC80 26F8                    bne      L7564
 4686 FC82 08                      inx
 4687 FC83 39                      rts
 4688                   ;
 4689 FC84              L756E:
 4690 FC84 8DF7                    bsr      L7567
 4691 FC86              L7570:
 4692 FC86 BDF924                  jsr      L7216
 4693 FC89 975D                    staa     FS+1
 4694 FC8B D75C                    stab     FS
 4695 FC8D BDF84C                  jsr      L713E
 4696 FC90 26B2                    bne      L752E       <--ERR9
 4697 FC92              L757C:
 4698 FC92 08                      inx
 4699 FC93 BDF924                  jsr      L7216
 4700 FC96 36                      psha
 4701 FC97 BDF81D                  jsr      L710F
 4702 FC9A 32                      pula
 4703 FC9B DF56                    stx      XS
 4704 FC9D 39                      rts
 4705 FC9E              AND:
 4706 FC9E 8DE4                    bsr      L756E
 4707 FCA0 945D                    anda     FS+1
 4708 FCA2 D45C                    andb     FS
 4709 FCA4              L758E:
 4710 FCA4 7EF7F2                  jmp      L70E4
 4711 FCA7              OR:
 4712 FCA7 8DDB                    bsr      L756E
 4713 FCA9 9A5D                    oraa     FS+1
 4714 FCAB DA5C                    orab     FS
 4715 FCAD 20F5                    bra      L758E
 4716 FCAF              XOR:
 4717 FCAF 8DD3                    bsr      L756E
 4718 FCB1 985D                    eora     FS+1
 4719 FCB3 D85C                    eorb     FS
 4720 FCB5 20ED                    bra      L758E
 4721                   ;
 4722 FCB7              RESTORE:
 4723 FCB7 BDF924                  jsr      L7216
 4724 FCBA DF50                    stx      WKA
 4725 FCBC DE36                    ldx      BOP
 4726 FCBE BDF4A9                  jsr      L6D99
 4727 FCC1 253A                    bcs      L75E7
 4728 FCC3 09                      dex
 4729 FCC4 2027                    bra      L75D7
 4730 FCC6              READ:
 4731 FCC6 DF50                    stx      WKA
 4732 FCC8 DE76                    ldx      XSP+6
 4733 FCCA BDF6B1                  jsr      L6FA3
 4734 FCCD 812C                    cmpa     #',
 4735 FCCF 2718                    beq      L75D3
 4736 FCD1 4D                      tsta
 4737 FCD2 2706                    beq      L75C4
 4738 FCD4 7EF359                  jmp      L6C59
 4739                   ;
 4740 FCD7              L75C1:
 4741 FCD7 BDF486                  jsr      NXTL
 4742 FCDA              L75C4:
 4743 FCDA A601                    ldaa     $01,x
 4744 FCDC 8180                    cmpa     #$80
 4745 FCDE 2720                    beq      L75EA
 4746 FCE0 A603                    ldaa     $03,x
 4747 FCE2 08                      inx
 4748 FCE3 812A                    cmpa     #$2A
 4749 FCE5 26F0                    bne      L75C1
 4750 FCE7 08                      inx
 4751 FCE8 08                      inx
 4752 FCE9              L75D3:
 4753 FCE9 08                      inx
 4754 FCEA BDF724                  jsr      EXPR
 4755 FCED              L75D7:
 4756 FCED DF76                    stx      XSP+6
 4757 FCEF DE50                    ldx      WKA
 4758 FCF1 39                      rts
 4759 FCF2              DEL:
 4760 FCF2 8DC3                    bsr      RESTORE
 4761 FCF4 DE76                    ldx      XSP+6
 4762 FCF6 08                      inx
 4763 FCF7 BDF380                  jsr      L6C7D
 4764 FCFA 7EF3D1                  jmp      END
 4765 FCFD              L75E7:
 4766 FCFD 7EF9BB                  jmp      L72AD
 4767                   ;
 4768 FD00              L75EA:
 4769 FD00 C611                    ldab     #$11
 4770 FD02 7EFB29                  jmp      ERRMSG
 4771                   *
 4772                   *KEY:
 4773                   *       jsr     L74C8   <-@11.27
 4774                   *       beq     L7600
 4775                   *       ldaa    #$18
 4776                   *L75F6:
 4777                   *       deca
 4778                   *       bmi     L760F
 4779                   *       jsr     L77C6
 4780                   *       bcs     L75F6
 4781                   *       bra     L7611
 4782                   ;
 4783                   *L7600:
 4784                   *       jsr     L757C
 4785                   *       tstb
 4786                   *       bne     L7617
 4787                   *       cmpa    #$18
 4788                   *       bpl     L7617
 4789                   *       jsr     L77C6
 4790                   *       bcc     L7611
 4791                   *
 4792 FD05              KEY:
 4793 FD05 B66017                  LDAA     IRQCHR
 4794 FD08 2602                    BNE      L7611       <-@11.27
 4795 FD0A              L760F:
 4796 FD0A 8664                    ldaa     #$64
 4797 FD0C              L7611:
 4798 FD0C 7F6017                  CLR      IRQCHR
 4799 FD0F 5F                      clrb
 4800 FD10 DE56                    ldx      $56
 4801 FD12 7EF7F2                  jmp      L70E4
 4802 FD15              L7617:
 4803 FD15 7EFBFF                  jmp      L74EC
 4804 FD18              UNTIL:
 4805 FD18 BDF4B0                  jsr      IF2
 4806 FD1B 2706                    beq      L7625
 4807 FD1D BDF914                  jsr      RET
 4808 FD20 DE54                    ldx      WKC
 4809 FD22 39                      rts
 4810                   ;
 4811 FD23              L7625:
 4812 FD23 DE70                    ldx      XSP
 4813 FD25 EE00                    ldx      $00,x
 4814 FD27 08                      inx
 4815 FD28 39                      rts
 4816                   ;
 4817 FD29              L762B:
 4818 FD29 03                      FCB      $03         <--TAPE IO
 4819 FD2A 13                      FCB      $13
 4820 FD2B 14                      FCB      $14
 4821 FD2C 00                      FCB      $00
 4822                   ;
 4823                   ;       TABLE
 4824 0080              N          EQU      $80
 4825 FD2D              ERR:
 4826 FD2D 4552524F5220            FCC      /ERROR NO./
           4E4F2E       
 4827 FD36 00                      FCB      $00
 4828 FD37 0D0A                    FCB      $0D,$0A
 4829 FD39 5245414459   RDYMSG:    FCC      /READY/
 4830 FD3E 0700                    FCB      $07,$00
 4831 FD40              _CRLF:
 4832 FD40 0D0A00                  FCB      $0D,$0A,$00
 4833 FD43              L7645:
 4834 FD43 52452D454E54            FCC      /RE-ENTE/
           45           
 4835 FD4A              L764C:
 4836 FD4A 52                      FCB      'R
 4837 FD4B 00                      FCB      $00
 4838 FD4C 4C4953                  FCB      'LIS
 4839 FD4F D4                      FCB      N+'T
 4840 FD50 FAB0                    FDB      LIST
 4841 FD52 4C4F41                  FCB      'LOA
 4842 FD55 C4                      FCB      N+'D
 4843 FD56 F389                    FDB      _LOAD
 4844 FD58 5255                    FCB      'RU
 4845 FD5A CE                      FCB      N+'N
 4846 FD5B F4CA                    FDB      RUN
 4847 FD5D 45                      FCB      'E
 4848 FD5E D8                      FCB      N+'X
 4849 FD5F E0D0                    FDB      START
 4850 FD61 415554                  FCB      'AUT
 4851 FD64 CF                      FCB      N+'O
 4852 FD65 F396                    FDB      AUTO
 4853 FD67 4E45                    FCB      'NE
 4854 FD69 D7                      FCB      N+'W
 4855 FD6A F3CC                    FDB      NEW
 4856 FD6C 534156                  FCB      'SAV
 4857 FD6F C5                      FCB      N+'E
 4858 FD70 FEC4                    FDB      SAVE
 4859 FD72 415050454E              FCB      'APPEN
 4860 FD77 C4                      FCB      N+'D
 4861 FD78 F38B                    FDB      APPEND
 4862 FD7A 4445                    FCB      'DE
 4863 FD7C CC                      FCB      N+'L
 4864 FD7D              DEL2:
 4865 FD7D FCF2                    FDB      DEL
 4866 FD7F 4E4558                  FCB      'NEX
 4867 FD82 D4                      FCB      N+'T
 4868 FD83 F9E3                    FDB      NEXT
 4869 FD85 554E5449                FCB      'UNTI
 4870 FD89 CC                      FCB      N+'L
 4871 FD8A FD18                    FDB      UNTIL
 4872 FD8C 474F54                  FCB      'GOT
 4873 FD8F CF                      FCB      N+'O
 4874 FD90 F93F                    FDB      _GOTO
 4875 FD92 474F5355                FCB      'GOSU
 4876 FD96 C2                      FCB      N+'B
 4877 FD97 F940                    FDB      GOSUB
 4878 FD99 544845                  FCB      'THE
 4879 FD9C CE                      FCB      N+'N
 4880 FD9D F8E9                    FDB      THEN
 4881 FD9F 464F                    FCB      'FO
 4882 FDA1 D2                      FCB      N+'R
 4883 FDA2 F974                    FDB      FOR
 4884 FDA4 44                      FCB      'D
 4885 FDA5 CF                      FCB      N+'O
 4886 FDA6 F8FE                    FDB      DO
 4887 FDA8 A1                      FCB      N+'!
 4888 FDA9 FBB7                    FDB      EXM
 4889 FDAB 5245                    FCB      'RE
 4890 FDAD D4                      FCB      N+'T
 4891 FDAE F914                    FDB      RET
 4892 FDB0 494E5055                FCB      'INPU
 4893 FDB4 D4                      FCB      N+'T
 4894 FDB5 FA25                    FDB      INPUT
 4895 FDB7 49                      FCB      'I
 4896 FDB8 C6                      FCB      N+'F
 4897 FDB9 F4B8                    FDB      IF
 4898 FDBB 5052494E                FCB      'PRIN
 4899 FDBF D4                      FCB      N+'T
 4900 FDC0 F54E                    FDB      _PRINT
 4901 FDC2 434C                    FCB      'CL
 4902 FDC4 D2                      FCB      N+'R
 4903 FDC5 FC0A                    FDB      CLR
 4904 FDC7 435552                  FCB      'CUR
 4905 FDCA D3                      FCB      N+'S
 4906 FDCB FC47                    FDB      CURS
 4907 FDCD 4752                    FCB      'GR
 4908 FDCF C1                      FCB      N+'A
 4909 FDD0 FB9F                    FDB      GRA
 4910 FDD2 524553544F52            FCB      'RESTOR
 4911 FDD8 C5                      FCB      N+'E
 4912 FDD9 FCB7                    FDB      RESTORE
 4913 FDDB 5245                    FCB      'RE
 4914 FDDD CD                      FCB      N+'M
 4915 FDDE F488                    FDB      NXTL2
 4916 FDE0 AA                      FCC      N+'*
 4917 FDE1 F488                    FDB      NXTL2
 4918 FDE3 454E                    FCB      'EN
 4919 FDE5 C4                      FCB      N+'D
 4920 FDE6 F3D1                    FDB      END
 4921 FDE8 53544F                  FCB      'STO
 4922 FDEB D0                      FCB      N+'P
 4923 FDEC F3A5                    FDB      STOP
 4924 FDEE 434F50                  FCB      'COP
 4925 FDF1 D9                      FCB      N+'Y
 4926 FDF2 FB9A                    FDB      COPY
 4927 FDF4 FF                      FCB      $FF         <--?
 4928 FDF5              L76F7:
 4929 FDF5 FC44                    FDB      L752E
 4930 FDF7 524E                    FCB      'RN
 4931 FDF9 C4                      FCB      N+'D
 4932 FDFA F851                    FDB      RND
 4933 FDFC 524541                  FCB      'REA
 4934 FDFF C4                      FCB      N+'D
 4935 FE00 FCC6                    FDB      READ
 4936 FE02 4142                    FCB      'AB
 4937 FE04 D3                      FCB      N+'S
 4938 FE05 F6F7                    FDB      ABS
 4939 FE07 4D4F                    FCB      'MO
 4940 FE09 C4                      FCB      N+'D
 4941 FE0A F82D                    FDB      MOD
 4942 FE0C 2150                    FCB      '!P
 4943 FE0E A8                      FCB      N+'(
 4944 FE0F FBA9                    FDB      PIX
 4945 FE11 555345                  FCB      'USE
 4946 FE14 D2                      FCB      N+'R
 4947 FE15 F864                    FDB      USER
 4948 FE17 414E                    FCB      'AN
 4949 FE19 C4                      FCB      N+'D
 4950 FE1A FC9E                    FDB      AND
 4951 FE1C 4F                      FCB      'O
 4952 FE1D D2                      FCB      N+'R
 4953 FE1E FCA7                    FDB      OR
 4954 FE20 584F                    FCB      'XO
 4955 FE22 D2                      FCB      N+'R
 4956 FE23 FCAF                    FDB      XOR
 4957 FE25 5347                    FCB      'SG
 4958 FE27 CE                      FCB      N+'N
 4959 FE28 FC61                    FDB      SGN
 4960 FE2A 4B45                    FCB      'KE
 4961 FE2C D9                      FCB      N+'Y
 4962 FE2D FD05                    FDB      KEY
 4963 FE2F 474554                  FCB      'GET
 4964 FE32 A4                      FCB      N+'$
 4965 FE33 FB93                    FDB      GET
 4966 FE35 FF                      FCB      $FF         <--?
 4967 FE36              XS2:
 4968 FE36 F807                    FDB      L70F9
 4969 FE38 54                      FCB      'T
 4970 FE39 CF                      FCB      N+'O
 4971 FE3A              L773C:
 4972 FE3A 0000                    FDB      $0000
 4973 FE3C 5354                    FCB      'ST
 4974 FE3E 45           L7740      FCB      'E
 4975 FE3F D0                      FCB      $D0
 4976 FE40              L7742:
 4977 FE40 434852                  FCB      'CHR
 4978 FE43 A4                      FCB      N+'$
 4979 FE44 F585                    FDB      CHR
 4980 FE46 5441                    FCB      'TA
 4981 FE48 C2                      FCB      N+'B
 4982 FE49 F58B                    FDB      TAB
 4983 FE4B 48                      FCB      'H
 4984 FE4C C4                      FCB      N+'D
 4985 FE4D FB79                    FDB      HD
 4986 FE4F 5553494E                FCB      'USIN
 4987 FE53 C7                      FCB      N+'G
 4988 FE54 FB43                    FDB      USING
 4989 FE56 FF                      FCB      $FF         <--
 4990 FE57 FB4D                    FDB      PREXPR
 4991                   ;
 4992                   ;
 4993                   ;       END OF NAKAMOZU TINY BASIC
 4994                   ;
 4995                   ;
 4996 FE59              L775B:
 4997 FE59 814C                    cmpa     #'L
 4998 FE5B 261B                    bne      L777A
 4999 FE5D 8D43                    bsr      L77A4
 5000 FE5F 7A0068                  dec      OPT
 5001 FE62 270F                    beq      L7775
 5002 FE64 7A0068                  dec      OPT
 5003 FE67 2705                    beq      L7770
 5004 FE69 BDF07B                  jsr      L6A84
 5005 FE6C 2031                    bra      L77A1
 5006                   ;
 5007 FE6E              L7770:
 5008 FE6E BDF072                  jsr      L6A7B
 5009 FE71 202C                    bra      L77A1
 5010                   ;
 5011 FE73              L7775:
 5012 FE73 BDF069                  jsr      L6A72
 5013 FE76 2027                    bra      L77A1
 5014                   ;
 5015 FE78              L777A:
 5016 FE78 8153                    cmpa     #'S
 5017 FE7A 2645                    bne      L77C3
 5018 FE7C 8D24                    bsr      L77A4
 5019 FE7E 36                      psha
 5020 FE7F 37                      pshb
 5021 FE80 BDF924                  jsr      L7216
 5022 FE83 BDF825                  jsr      L7117
 5023 FE86 33                      pulb
 5024 FE87 32                      pula
 5025 FE88 7A0068                  dec      OPT
 5026 FE8B 270F                    beq      L779E
 5027 FE8D 7A0068                  dec      OPT
 5028 FE90 2705                    beq      L7799
 5029 FE92 BDF149                  jsr      L6B56
 5030 FE95 2008                    bra      L77A1
 5031                   ;
 5032 FE97              L7799:
 5033 FE97 BDF144                  jsr      L6B51
 5034 FE9A 2003                    bra      L77A1
 5035                   ;
 5036 FE9C              L779E:
 5037 FE9C BDF13C                  jsr      L6B49
 5038 FE9F              L77A1:
 5039 FE9F DE56                    ldx      XS
 5040 FEA1 39                      rts
 5041                   ;
 5042 FEA2              L77A4:
 5043 FEA2 7F0068                  clr      OPT
 5044 FEA5 08                      inx
 5045 FEA6 A600                    ldaa     $00,x
 5046 FEA8 8157                    cmpa     #'W
 5047 FEAA 270E                    beq      L77BC
 5048 FEAC 8142                    cmpa     #'B
 5049 FEAE 2707                    beq      L77B9
 5050 FEB0 8152                    cmpa     #'R
 5051 FEB2 260D                    bne      L77C3
 5052 FEB4 7C0068                  inc      OPT
 5053 FEB7              L77B9:
 5054 FEB7 7C0068                  inc      OPT
 5055 FEBA              L77BC:
 5056 FEBA 7C0068                  inc      OPT
 5057 FEBD BDFBEB                  jsr      L74D8
 5058 FEC0 39                      rts
 5059 FEC1              L77C3:
 5060 FEC1 7EF8E1                  jmp      L71D3
 5061                   ;
 5062                   * L77C6:
 5063                   *       psha
 5064                   *       ldx     #$E3DB
 5065                   *       inca
 5066                   * L77CB:
 5067                   *       inx
 5068                   *       deca
 5069                   *       bne     L77CB
 5070                   *       ldaa    $00,x
 5071                   *       staa    $8022
 5072                   *       ldaa    $8022
 5073                   *       tst     $8020
 5074                   *       bpl     L77DD
 5075                   *       sec
 5076                   * L77DD:
 5077                   *       pula
 5078                   *       rts
 5079                   * L77C6:
 5080                   *       PSHA
 5081                   *       JSR     INGGG
 5082                   *       PULA
 5083                   *       RTS
 5084 FEC4              SAVE:
 5085 FEC4 8651                    ldaa     #$51
 5086 FEC6 B78094                  staa     PACICS
 5087 FEC9 7EFAA6                  jmp      L7398
 5088 FECC              L77ED:
 5089 FECC FF3FC0                  stx      MONSTK
 5090 FECF BDEFB5                  jsr      L69BE
 5091 FED2 E600                    ldab     $00,x
 5092 FED4 FE3FC0                  ldx      MONSTK
 5093 FED7 39                      rts
 5094                   *
 5095                   * IRQ SERVICE ROUTINE
 5096                   *
 5097 FED8              IRQ_BREAK:
 5098 FED8 B68018                  LDAA     ACIACS
 5099 FEDB 48                      ASLA
 5100 FEDC 241C                    BCC      RTIRQ
 5101 FEDE 44                      LSRA
 5102 FEDF 44                      LSRA                 <--RDRF
 5103 FEE0 2412                    BCC      IRQERR
 5104 FEE2 B68019                  LDAA     ACIADA
 5105 FEE5 847F                    ANDA     #$7F
 5106 FEE7 B76017                  STAA     IRQCHR      <-@11.27
 5107 FEEA 8103                    CMPA     #$03
 5108 FEEC 260C                    BNE      RTIRQ
 5109 FEEE 7F6017                  CLR      IRQCHR
 5110 FEF1 7EF3D1                  JMP      END         <--GO TO END
 5111                   *
 5112 FEF4 B68019       IRQERR     LDAA     ACIADA      <--DISCARD
 5113 FEF7 7F6017                  CLR      IRQCHR
 5114 FEFA 3B           RTIRQ      RTI
 5115                   *
 5116                   * ACIA IRQ ON
 5117                   *
 5118 FEFB 36           IRQON      PSHA
 5119 FEFC 8695                    LDAA     #$95        <--IRQ ON
 5120 FEFE B78018                  STAA     ACIACS
 5121 FF01 32                      PULA
 5122 FF02 0E                      CLI                  <--CLI
 5123 FF03 39                      RTS
 5124                   *
 5125 FF04                         END
